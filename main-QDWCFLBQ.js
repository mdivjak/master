var DS=Object.defineProperty,CS=Object.defineProperties;var bS=Object.getOwnPropertyDescriptors;var g_=Object.getOwnPropertySymbols,TS=Object.getPrototypeOf,SS=Object.prototype.hasOwnProperty,AS=Object.prototype.propertyIsEnumerable,RS=Reflect.get;var m_=(t,e,n)=>e in t?DS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})SS.call(e,n)&&m_(t,n,e[n]);if(g_)for(var n of g_(e))AS.call(e,n)&&m_(t,n,e[n]);return t},ne=(t,e)=>CS(t,bS(e));var Jn=(t,e,n)=>RS(TS(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(d){i(d)}},o=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function y_(t,e){return Object.is(t,e)}var Fe=null,gc=!1,mc=1,In=Symbol("SIGNAL");function de(t){let e=Fe;return Fe=t,e}function v_(){return Fe}var Co={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oh(t){if(gc)throw new Error("");if(Fe===null)return;Fe.consumerOnSignalRead(t);let e=Fe.nextProducerIndex++;if(Ic(Fe),e<Fe.producerNode.length&&Fe.producerNode[e]!==t&&Do(Fe)){let n=Fe.producerNode[e];_c(n,Fe.producerIndexOfThis[e])}Fe.producerNode[e]!==t&&(Fe.producerNode[e]=t,Fe.producerIndexOfThis[e]=Do(Fe)?E_(t,Fe,e):0),Fe.producerLastReadVersion[e]=t.version}function MS(){mc++}function __(t){if(!(Do(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===mc)){if(!t.producerMustRecompute(t)&&!ch(t)){t.dirty=!1,t.lastCleanEpoch=mc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=mc}}function I_(t){if(t.liveConsumerNode===void 0)return;let e=gc;gc=!0;try{for(let n of t.liveConsumerNode)n.dirty||NS(n)}finally{gc=e}}function w_(){return Fe?.consumerAllowSignalWrites!==!1}function NS(t){t.dirty=!0,I_(t),t.consumerMarkedDirty?.(t)}function vc(t){return t&&(t.nextProducerIndex=0),de(t)}function ah(t,e){if(de(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Do(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_c(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ch(t){Ic(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(__(n),r!==n.version))return!0}return!1}function uh(t){if(Ic(t),Do(t))for(let e=0;e<t.producerNode.length;e++)_c(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function E_(t,e,n){if(D_(t),t.liveConsumerNode.length===0&&C_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=E_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function _c(t,e){if(D_(t),t.liveConsumerNode.length===1&&C_(t))for(let r=0;r<t.producerNode.length;r++)_c(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ic(i),i.producerIndexOfThis[r]=e}}function Do(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ic(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function D_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function C_(t){return t.producerNode!==void 0}function b_(t){let e=Object.create(xS);e.computation=t;let n=()=>{if(__(e),oh(e),e.value===yc)throw e.error;return e.value};return n[In]=e,n}var ih=Symbol("UNSET"),sh=Symbol("COMPUTING"),yc=Symbol("ERRORED"),xS=ne(k({},Co),{value:ih,dirty:!0,error:null,equal:y_,producerMustRecompute(t){return t.value===ih||t.value===sh},producerRecomputeValue(t){if(t.value===sh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=sh;let n=vc(t),r;try{r=t.computation()}catch(i){r=yc,t.error=i}finally{ah(t,n)}if(e!==ih&&e!==yc&&r!==yc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function PS(){throw new Error}var T_=PS;function S_(){T_()}function A_(t){T_=t}var OS=null;function R_(t){let e=Object.create(N_);e.value=t;let n=()=>(oh(e),e.value);return n[In]=e,n}function lh(t,e){w_()||S_(),t.equal(t.value,e)||(t.value=e,kS(t))}function M_(t,e){w_()||S_(),lh(t,e(t.value))}var N_=ne(k({},Co),{equal:y_,value:void 0});function kS(t){t.version++,MS(),I_(t),OS?.()}function W(t){return typeof t=="function"}function Pi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wc=Pi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $r(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(s){e=s instanceof wc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{x_(s)}catch(o){e=e??[],o instanceof wc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new wc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)x_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$r(n,e)}remove(e){let{_finalizers:n}=this;n&&$r(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var dh=Te.EMPTY;function Ec(t){return t instanceof Te||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function x_(t){W(t)?t():t.unsubscribe()}var Lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oi={setTimeout(t,e,...n){let{delegate:r}=Oi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Oi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Dc(t){Oi.setTimeout(()=>{let{onUnhandledError:e}=Lt;if(e)e(t);else throw t})}function bo(){}var P_=hh("C",void 0,void 0);function O_(t){return hh("E",void 0,t)}function k_(t){return hh("N",t,void 0)}function hh(t,e,n){return{kind:t,value:e,error:n}}var Hr=null;function ki(t){if(Lt.useDeprecatedSynchronousErrorHandling){let e=!Hr;if(e&&(Hr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Hr;if(Hr=null,n)throw r}}else t()}function F_(t){Lt.useDeprecatedSynchronousErrorHandling&&Hr&&(Hr.errorThrown=!0,Hr.error=t)}var qr=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ec(e)&&e.add(this)):this.destination=LS}static create(e,n,r){return new Fi(e,n,r)}next(e){this.isStopped?ph(k_(e),this):this._next(e)}error(e){this.isStopped?ph(O_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ph(P_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FS=Function.prototype.bind;function fh(t,e){return FS.call(t,e)}var gh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cc(r)}else Cc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cc(n)}}},Fi=class extends qr{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Lt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fh(e.next,s),error:e.error&&fh(e.error,s),complete:e.complete&&fh(e.complete,s)}):i=e}this.destination=new gh(i)}};function Cc(t){Lt.useDeprecatedSynchronousErrorHandling?F_(t):Dc(t)}function VS(t){throw t}function ph(t,e){let{onStoppedNotification:n}=Lt;n&&Oi.setTimeout(()=>n(t,e))}var LS={closed:!0,next:bo,error:VS,complete:bo};var Vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gt(t){return t}function mh(...t){return yh(t)}function yh(t){return t.length===0?gt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=jS(n)?n:new Fi(n,r,i);return ki(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=V_(r),new r((i,s)=>{let o=new Fi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vi](){return this}pipe(...n){return yh(n)(this)}toPromise(n){return n=V_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function V_(t){var e;return(e=t??Lt.Promise)!==null&&e!==void 0?e:Promise}function US(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function jS(t){return t&&t instanceof qr||US(t)&&Ec(t)}function vh(t){return W(t?.lift)}function ue(t){return e=>{if(vh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(t,e,n,r,i){return new _h(t,e,n,r,i)}var _h=class extends qr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Li(){return ue((t,e)=>{let n=null;t._refCount++;let r=re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ui=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return Li()(this)}};var L_=Pi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new bc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new L_}next(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?dh:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,$r(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new bc(e,n),t})(),bc=class extends Ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:dh}};var Ke=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ih={now(){return(Ih.delegate||Date).now()},delegate:void 0};var Tc=class extends Te{constructor(e,n){super()}schedule(e,n=0){return this}};var To={setInterval(t,e,...n){let{delegate:r}=To;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=To;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ji=class extends Tc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return To.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&To.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$r(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bi.now=Ih.now;var $i=class extends Bi{constructor(e,n=Bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var wh=new $i(ji);var Sc=class extends ji{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ac=class extends $i{};var Eh=new Ac(Sc);var mt=new ce(t=>t.complete());function U_(t){return t&&W(t.schedule)}function j_(t){return t[t.length-1]}function Rc(t){return W(j_(t))?t.pop():void 0}function Xn(t){return U_(j_(t))?t.pop():void 0}function Dh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(g){o(g)}}function u(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function B_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(t){return this instanceof zr?(this.v=t,this):new zr(t)}function H_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(C){return function(A){return Promise.resolve(A).then(C,g)}}function c(C,A){r[C]&&(i[C]=function(P){return new Promise(function(x,F){s.push([C,P,x,F])>1||u(C,P)})},A&&(i[C]=A(i[C])))}function u(C,A){try{d(r[C](A))}catch(P){I(s[0][3],P)}}function d(C){C.value instanceof zr?Promise.resolve(C.value.v).then(f,g):I(s[0][2],C)}function f(C){u("next",C)}function g(C){u("throw",C)}function I(C,A){C(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function q_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof B_=="function"?B_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}var Mc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Nc(t){return W(t?.then)}function xc(t){return W(t[Vi])}function Pc(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function Oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kc=BS();function Fc(t){return W(t?.[kc])}function Vc(t){return H_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zr(n.read());if(i)return yield zr(void 0);yield yield zr(r)}}finally{n.releaseLock()}})}function Lc(t){return W(t?.getReader)}function Re(t){if(t instanceof ce)return t;if(t!=null){if(xc(t))return $S(t);if(Mc(t))return HS(t);if(Nc(t))return qS(t);if(Pc(t))return z_(t);if(Fc(t))return zS(t);if(Lc(t))return GS(t)}throw Oc(t)}function $S(t){return new ce(e=>{let n=t[Vi]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HS(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function qS(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Dc)})}function zS(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function z_(t){return new ce(e=>{WS(t,e).catch(n=>e.error(n))})}function GS(t){return z_(Vc(t))}function WS(t,e){var n,r,i,s;return $_(this,void 0,void 0,function*(){try{for(n=q_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ht(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function er(t,e=0){return ue((n,r)=>{n.subscribe(re(r,i=>ht(r,t,()=>r.next(i),e),()=>ht(r,t,()=>r.complete(),e),i=>ht(r,t,()=>r.error(i),e)))})}function tr(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function G_(t,e){return Re(t).pipe(tr(e),er(e))}function W_(t,e){return Re(t).pipe(tr(e),er(e))}function K_(t,e){return new ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Q_(t,e){return new ce(n=>{let r;return ht(n,e,()=>{r=t[kc](),ht(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function Uc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{ht(n,e,()=>{let r=t[Symbol.asyncIterator]();ht(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Y_(t,e){return Uc(Vc(t),e)}function Z_(t,e){if(t!=null){if(xc(t))return G_(t,e);if(Mc(t))return K_(t,e);if(Nc(t))return W_(t,e);if(Pc(t))return Uc(t,e);if(Fc(t))return Q_(t,e);if(Lc(t))return Y_(t,e)}throw Oc(t)}function Ce(t,e){return e?Z_(t,e):Re(t)}function H(...t){let e=Xn(t);return Ce(t,e)}function Hi(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new ce(e?i=>e.schedule(r,0,i):r)}function Ch(t){return!!t&&(t instanceof ce||W(t.lift)&&W(t.subscribe))}var wn=Pi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return ue((n,r)=>{let i=0;n.subscribe(re(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:KS}=Array;function QS(t,e){return KS(e)?t(...e):t(e)}function jc(t){return ee(e=>QS(t,e))}var{isArray:YS}=Array,{getPrototypeOf:ZS,prototype:JS,keys:XS}=Object;function Bc(t){if(t.length===1){let e=t[0];if(YS(e))return{args:e,keys:null};if(eA(e)){let n=XS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eA(t){return t&&typeof t=="object"&&ZS(t)===JS}function $c(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function So(...t){let e=Xn(t),n=Rc(t),{args:r,keys:i}=Bc(t);if(r.length===0)return Ce([],e);let s=new ce(tA(r,e,i?o=>$c(i,o):gt));return n?s.pipe(jc(n)):s}function tA(t,e,n=gt){return r=>{J_(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)J_(e,()=>{let d=Ce(t[u],e),f=!1;d.subscribe(re(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function J_(t,e,n){t?ht(n,t,e):e()}function X_(t,e,n,r,i,s,o,c){let u=[],d=0,f=0,g=!1,I=()=>{g&&!u.length&&!d&&e.complete()},C=P=>d<r?A(P):u.push(P),A=P=>{s&&e.next(P),d++;let x=!1;Re(n(P,f++)).subscribe(re(e,F=>{i?.(F),s?C(F):e.next(F)},()=>{x=!0},void 0,()=>{if(x)try{for(d--;u.length&&d<r;){let F=u.shift();o?ht(e,o,()=>A(F)):A(F)}I()}catch(F){e.error(F)}}))};return t.subscribe(re(e,C,()=>{g=!0,I()})),()=>{c?.()}}function Me(t,e,n=1/0){return W(e)?Me((r,i)=>ee((s,o)=>e(r,s,i,o))(Re(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>X_(r,i,t,n)))}function qi(t=1/0){return Me(gt,t)}function eI(){return qi(1)}function zi(...t){return eI()(Ce(t,Xn(t)))}function Hc(t){return new ce(e=>{Re(t()).subscribe(e)})}function bh(...t){let e=Rc(t),{args:n,keys:r}=Bc(t),i=new ce(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,d=o;for(let f=0;f<o;f++){let g=!1;Re(n[f]).subscribe(re(s,I=>{g||(g=!0,d--),c[f]=I},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?$c(r,c):c),s.complete())}))}});return e?i.pipe(jc(e)):i}function Ct(t,e){return ue((n,r)=>{let i=0;n.subscribe(re(r,s=>t.call(e,s,i++)&&r.next(s)))})}function nr(t){return ue((e,n)=>{let r=null,i=!1,s;r=e.subscribe(re(n,void 0,void 0,o=>{s=Re(t(o,nr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function tI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,d=0;s.subscribe(re(o,f=>{let g=d++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Gr(t,e){return W(e)?Me(t,e,1):Me(t,1)}function rr(t){return ue((e,n)=>{let r=!1;e.subscribe(re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function En(t){return t<=0?()=>mt:ue((e,n)=>{let r=0;e.subscribe(re(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Th(t){return ee(()=>t)}function qc(t=nA){return ue((e,n)=>{let r=!1;e.subscribe(re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function nA(){return new wn}function Ao(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Gt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):gt,En(1),n?rr(e):qc(()=>new wn))}function Gi(t){return t<=0?()=>mt:ue((e,n)=>{let r=[];e.subscribe(re(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):gt,Gi(1),n?rr(e):qc(()=>new wn))}function Ah(t,e){return ue(tI(t,e,arguments.length>=2,!0))}function Rh(...t){let e=Xn(t);return ue((n,r)=>{(e?zi(t,n,e):zi(t,n)).subscribe(r)})}function bt(t,e){return ue((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(re(r,u=>{i?.unsubscribe();let d=0,f=s++;Re(t(u,f)).subscribe(i=re(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Mh(t){return ue((e,n)=>{Re(t).subscribe(re(n,()=>n.complete(),bo)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(re(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):gt}var UI="https://g.co/ng/security#xss",U=class extends Error{constructor(e,n){super(xf(e,n)),this.code=e}};function xf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Vo(t){return{toString:t}.toString()}var zc="__parameters__";function rA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function jI(t,e,n){return Vo(()=>{let r=rA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,d,f){let g=u.hasOwnProperty(zc)?u[zc]:Object.defineProperty(u,zc,{value:[]})[zc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var qh=globalThis;function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function iA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function nI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sA=_e({__forward_ref__:_e});function Sn(t){return t.__forward_ref__=Sn,t.toString=function(){return ot(this())},t}function st(t){return BI(t)?t():t}function BI(t){return typeof t=="function"&&t.hasOwnProperty(sA)&&t.__forward_ref__===Sn}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cu(t){return rI(t,HI)||rI(t,qI)}function $I(t){return Cu(t)!==null}function rI(t,e){return t.hasOwnProperty(e)?t[e]:null}function oA(t){let e=t&&(t[HI]||t[qI]);return e||null}function iI(t){return t&&(t.hasOwnProperty(sI)||t.hasOwnProperty(aA))?t[sI]:null}var HI=_e({\u0275prov:_e}),sI=_e({\u0275inj:_e}),qI=_e({ngInjectableDef:_e}),aA=_e({ngInjectorDef:_e}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zI(t){return t&&!!t.\u0275providers}var cA=_e({\u0275cmp:_e}),uA=_e({\u0275dir:_e}),lA=_e({\u0275pipe:_e}),dA=_e({\u0275mod:_e}),tu=_e({\u0275fac:_e}),Mo=_e({__NG_ELEMENT_ID__:_e}),oI=_e({__NG_ENV_ID__:_e});function Pf(t){return typeof t=="string"?t:t==null?"":String(t)}function hA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Pf(t)}function fA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function Of(t,e){throw new U(-201,!1)}var J=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(J||{}),zh;function GI(){return zh}function Tt(t){let e=zh;return zh=t,e}function WI(t,e,n){let r=Cu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&J.Optional)return null;if(e!==void 0)return e;Of(t,"Injector")}var pA={},No=pA,Gh="__NG_DI_FLAG__",nu="ngTempTokenPath",gA="ngTokenPath",mA=/\n/gm,yA="\u0275",aI="__source",Zi;function vA(){return Zi}function ir(t){let e=Zi;return Zi=t,e}function _A(t,e=J.Default){if(Zi===void 0)throw new U(-203,!1);return Zi===null?WI(t,void 0,e):Zi.get(t,e&J.Optional?null:void 0,e)}function z(t,e=J.Default){return(GI()||_A)(st(t),e)}function M(t,e=J.Default){return z(t,bu(e))}function bu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wh(t){let e=[];for(let n=0;n<t.length;n++){let r=st(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){let c=r[o],u=IA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(z(i,s))}else e.push(z(r))}return e}function KI(t,e){return t[Gh]=e,t.prototype[Gh]=e,t}function IA(t){return t[Gh]}function wA(t,e,n,r){let i=t[nu];throw e[aI]&&i.unshift(e[aI]),t.message=EA(`
`+t.message,i,n,r),t[gA]=i,t[nu]=null,t}function EA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yA?t.slice(2):t;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ot(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mA,`
  `)}`}var ct=KI(jI("Optional"),8);var QI=KI(jI("SkipSelf"),4);function Xi(t,e){let n=t.hasOwnProperty(tu);return n?t[tu]:null}function kf(t,e){t.forEach(n=>Array.isArray(n)?kf(n,e):e(n))}function YI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ru(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function DA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function CA(t,e,n){let r=Lo(t,e);return r>=0?t[r|1]=n:(r=~r,DA(t,r,e,n)),r}function Nh(t,e){let n=Lo(t,e);if(n>=0)return t[n|1]}function Lo(t,e){return bA(t,e,1)}function bA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var es={},St=[],ts=new V(""),ZI=new V("",-1),JI=new V(""),iu=class{get(e,n=No){if(n===No){let r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return n}},XI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(XI||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),ar=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ar||{});function TA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Kh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];SA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function ew(t){return t===3||t===4||t===6}function SA(t){return t.charCodeAt(0)===64}function xo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?cI(t,n,i,null,e[++r]):cI(t,n,i,null,null))}}return t}function cI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var tw="ng-template";function AA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&TA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ff(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ff(t){return t.type===4&&t.value!==tw}function RA(t,e,n){let r=t.type===4&&!n?tw:t.value;return e===r}function MA(t,e,n){let r=4,i=t.attrs,s=i!==null?PA(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Ut(r)&&!Ut(u))return!1;if(o&&Ut(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!RA(t,u,n)||u===""&&e.length===1){if(Ut(r))return!1;o=!0}}else if(r&8){if(i===null||!AA(t,i,u,n)){if(Ut(r))return!1;o=!0}}else{let d=e[++c],f=NA(u,i,Ff(t),n);if(f===-1){if(Ut(r))return!1;o=!0;continue}if(d!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Ut(r))return!1;o=!0}}}}return Ut(r)||o}function Ut(t){return(t&1)===0}function NA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return OA(e,t)}function xA(t,e,n=!1){for(let r=0;r<e.length;r++)if(MA(t,e[r],n))return!0;return!1}function PA(t){for(let e=0;e<t.length;e++){let n=t[e];if(ew(n))return e}return t.length}function OA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function uI(t,e){return t?":not("+e.trim()+")":e}function kA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ut(o)&&(e+=uI(s,i),i=""),r=o,s=s||!Ut(r);n++}return i!==""&&(e+=uI(s,i)),e}function FA(t){return t.map(kA).join(",")}function VA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ut(i))break;i=s}r++}return{attrs:e,classes:n}}function Mt(t){return Vo(()=>{let e=ow(t),n=ne(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===XI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||St,_:null,schemas:t.schemas||null,tView:null,id:""});aw(n);let r=t.dependencies;return n.directiveDefs=dI(r,!1),n.pipeDefs=dI(r,!0),n.id=jA(n),n})}function LA(t){return cr(t)||nw(t)}function UA(t){return t!==null}function hr(t){return Vo(()=>({type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lI(t,e){if(t==null)return es;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=ar.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==ar.None?[r,c]:r,e[s]=o):n[s]=r}return n}function xe(t){return Vo(()=>{let e=ow(t);return aw(e),e})}function cr(t){return t[cA]||null}function nw(t){return t[uA]||null}function rw(t){return t[lA]||null}function iw(t){let e=cr(t)||nw(t)||rw(t);return e!==null?e.standalone:!1}function sw(t,e){let n=t[dA]||null;if(!n&&e===!0)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return n}function ow(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||es,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lI(t.inputs,e),outputs:lI(t.outputs),debugInfo:null}}function aw(t){t.features?.forEach(e=>e(t))}function dI(t,e){if(!t)return null;let n=e?rw:LA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(UA)}function jA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function en(t){return{\u0275providers:t}}function BA(...t){return{\u0275providers:cw(!0,t),\u0275fromNgModule:!0}}function cw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return kf(e,o=>{let c=o;Qh(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&uw(i,s),n}function uw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Vf(i,s=>{e(s,r)})}}function Qh(t,e,n,r){if(t=st(t),!t)return!1;let i=null,s=iI(t),o=!s&&cr(t);if(!s&&!o){let u=t.ngModule;if(s=iI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)Qh(d,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let d;try{kf(s.imports,f=>{Qh(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&uw(d,e)}if(!c){let d=Xi(i)||(()=>new i);e({provide:i,useFactory:d,deps:St},i),e({provide:JI,useValue:i,multi:!0},i),e({provide:ts,useValue:()=>z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let d=t;Vf(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Vf(t,e){for(let n of t)zI(n)&&(n=n.\u0275providers),Array.isArray(n)?Vf(n,e):e(n)}var $A=_e({provide:String,useValue:_e});function lw(t){return t!==null&&typeof t=="object"&&$A in t}function HA(t){return!!(t&&t.useExisting)}function qA(t){return!!(t&&t.useFactory)}function ns(t){return typeof t=="function"}function zA(t){return!!t.useClass}var Tu=new V(""),Yc={},GA={},xh;function Lf(){return xh===void 0&&(xh=new iu),xh}var yt=class{},Po=class extends yt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zh(e,o=>this.processProvider(o)),this.records.set(ZI,Wi(void 0,this)),i.has("environment")&&this.records.set(yt,Wi(void 0,this));let s=this.records.get(Tu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(JI,St,J.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ir(this),r=Tt(void 0),i;try{return e()}finally{ir(n),Tt(r)}}get(e,n=No,r=J.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(oI))return e[oI](this);r=bu(r);let i,s=ir(this),o=Tt(void 0);try{if(!(r&J.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=ZA(e)&&Cu(e);d&&this.injectableDefInScope(d)?u=Wi(Yh(e),Yc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&J.Self?Lf():this.parent;return n=r&J.Optional&&n===No?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[nu]=c[nu]||[]).unshift(ot(e)),s)throw c;return wA(c,e,"R3InjectorError",this.source)}else throw c}finally{Tt(o),ir(s)}}resolveInjectorInitializers(){let e=de(null),n=ir(this),r=Tt(void 0),i;try{let s=this.get(ts,St,J.Self);for(let o of s)o()}finally{ir(n),Tt(r),de(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=st(e);let n=ns(e)?e:st(e&&e.provide),r=KA(e);if(!ns(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wi(void 0,Yc,!0),i.factory=()=>Wh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=de(null);try{return n.value===Yc&&(n.value=GA,n.value=n.factory()),typeof n.value=="object"&&n.value&&YA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=st(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yh(t){let e=Cu(t),n=e!==null?e.factory:Xi(t);if(n!==null)return n;if(t instanceof V)throw new U(204,!1);if(t instanceof Function)return WA(t);throw new U(204,!1)}function WA(t){if(t.length>0)throw new U(204,!1);let n=oA(t);return n!==null?()=>n.factory(t):()=>new t}function KA(t){if(lw(t))return Wi(void 0,t.useValue);{let e=dw(t);return Wi(e,Yc)}}function dw(t,e,n){let r;if(ns(t)){let i=st(t);return Xi(i)||Yh(i)}else if(lw(t))r=()=>st(t.useValue);else if(qA(t))r=()=>t.useFactory(...Wh(t.deps||[]));else if(HA(t))r=()=>z(st(t.useExisting));else{let i=st(t&&(t.useClass||t.provide));if(QA(t))r=()=>new i(...Wh(t.deps));else return Xi(i)||Yh(i)}return r}function Wi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function QA(t){return!!t.deps}function YA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ZA(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function Zh(t,e){for(let n of t)Array.isArray(n)?Zh(n,e):n&&zI(n)?Zh(n.\u0275providers,e):e(n)}function tn(t,e){t instanceof Po&&t.assertNotDestroyed();let n,r=ir(t),i=Tt(void 0);try{return e()}finally{ir(r),Tt(i)}}function hw(){return GI()!==void 0||vA()!=null}function JA(t){if(!hw())throw new U(-203,!1)}function XA(t){return typeof t=="function"}var An=0,ie=1,q=2,at=3,jt=4,Bt=5,su=6,ou=7,Yt=8,rs=9,Zt=10,je=11,Oo=12,hI=13,Uo=14,Jt=15,is=16,Ki=17,ss=18,Su=19,fw=20,sr=21,Ph=22,At=23,Dn=25,pw=1;var Kr=7,au=8,cu=9,Rt=10,uu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(uu||{});function or(t){return Array.isArray(t)&&typeof t[pw]=="object"}function Rn(t){return Array.isArray(t)&&t[pw]===!0}function gw(t){return(t.flags&4)!==0}function Au(t){return t.componentOffset>-1}function Uf(t){return(t.flags&1)===1}function ur(t){return!!t.template}function Jh(t){return(t[q]&512)!==0}var Xh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function mw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function fr(){return yw}function yw(t){return t.type.prototype.ngOnChanges&&(t.setInput=tR),eR}fr.ngInherit=!0;function eR(){let t=_w(this),e=t?.current;if(e){let n=t.previous;if(n===es)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tR(t,e,n,r,i){let s=this.declaredInputs[r],o=_w(t)||nR(t,{previous:es,current:null}),c=o.current||(o.current={}),u=o.previous,d=u[s];c[s]=new Xh(d&&d.currentValue,n,u===es),mw(t,e,i,n)}var vw="__ngSimpleChanges__";function _w(t){return t[vw]||null}function nR(t,e){return t[vw]=e}var fI=null;var Wt=function(t,e,n){fI?.(t,e,n)},rR="svg",iR="math";function Xt(t){for(;Array.isArray(t);)t=t[An];return t}function sR(t,e){return Xt(e[t])}function Nt(t,e){return Xt(e[t.index])}function Iw(t,e){return t.data[e]}function oR(t,e){return t[e]}function pr(t,e){let n=e[t];return or(n)?n:n[An]}function jf(t){return(t[q]&128)===128}function aR(t){return Rn(t[at])}function lu(t,e){return e==null?null:t[e]}function ww(t){t[Ki]=0}function Ew(t){t[q]&1024||(t[q]|=1024,jf(t)&&Mu(t))}function Ru(t){return!!(t[q]&9216||t[At]?.dirty)}function ef(t){t[Zt].changeDetectionScheduler?.notify(8),t[q]&64&&(t[q]|=1024),Ru(t)&&Mu(t)}function Mu(t){t[Zt].changeDetectionScheduler?.notify(0);let e=Qr(t);for(;e!==null&&!(e[q]&8192||(e[q]|=8192,!jf(e)));)e=Qr(e)}function Dw(t,e){if((t[q]&256)===256)throw new U(911,!1);t[sr]===null&&(t[sr]=[]),t[sr].push(e)}function cR(t,e){if(t[sr]===null)return;let n=t[sr].indexOf(e);n!==-1&&t[sr].splice(n,1)}function Qr(t){let e=t[at];return Rn(e)?e[at]:e}var ae={lFrame:xw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Cw=!1;function uR(){return ae.lFrame.elementDepthCount}function lR(){ae.lFrame.elementDepthCount++}function dR(){ae.lFrame.elementDepthCount--}function bw(){return ae.bindingsEnabled}function hR(){return ae.skipHydrationRootTNode!==null}function fR(t){return ae.skipHydrationRootTNode===t}function pR(){ae.skipHydrationRootTNode=null}function De(){return ae.lFrame.lView}function vt(){return ae.lFrame.tView}function gr(t){return ae.lFrame.contextLView=t,t[Yt]}function mr(t){return ae.lFrame.contextLView=null,t}function ut(){let t=Tw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Tw(){return ae.lFrame.currentTNode}function gR(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function jo(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function Sw(){return ae.lFrame.isParent}function mR(){ae.lFrame.isParent=!1}function yR(){return ae.lFrame.contextLView}function Aw(){return Cw}function pI(t){Cw=t}function vR(t){return ae.lFrame.bindingIndex=t}function Bf(){return ae.lFrame.bindingIndex++}function _R(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function IR(){return ae.lFrame.inI18n}function wR(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,tf(e)}function ER(){return ae.lFrame.currentDirectiveIndex}function tf(t){ae.lFrame.currentDirectiveIndex=t}function DR(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Rw(t){ae.lFrame.currentQueryIndex=t}function CR(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Bt]:null}function Mw(t,e,n){if(n&J.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&J.Host);)if(i=CR(s),i===null||(s=s[Uo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ae.lFrame=Nw();return r.currentTNode=e,r.lView=t,!0}function $f(t){let e=Nw(),n=t[ie];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Nw(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?xw(t):e}function xw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Pw(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ow=Pw;function Hf(){let t=Pw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bo(){return ae.lFrame.selectedIndex}function Yr(t){ae.lFrame.selectedIndex=t}function qf(){let t=ae.lFrame;return Iw(t.tView,t.selectedIndex)}function bR(){return ae.lFrame.currentNamespace}var kw=!0;function zf(){return kw}function Gf(t){kw=t}function TR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=yw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Wf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Zc(t,e,n){Fw(t,e,3,n)}function Jc(t,e,n,r){(t[q]&3)===n&&Fw(t,e,n,r)}function Oh(t,e){let n=t[q];(n&3)===e&&(n&=16383,n+=1,t[q]=n)}function Fw(t,e,n,r){let i=r!==void 0?t[Ki]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Ki]+=65536),(c<s||s==-1)&&(SR(t,n,e,u),t[Ki]=(t[Ki]&4294901760)+u+2),u++}function gI(t,e){Wt(4,t,e);let n=de(null);try{e.call(t)}finally{de(n),Wt(5,t,e)}}function SR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[q]>>14<t[Ki]>>16&&(t[q]&3)===e&&(t[q]+=16384,gI(c,s)):gI(c,s)}var Ji=-1,Zr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function AR(t){return t instanceof Zr}function RR(t){return(t.flags&8)!==0}function MR(t){return(t.flags&16)!==0}var kh={},nf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=bu(r);let i=this.injector.get(e,kh,r);return i!==kh||n===kh?i:this.parentInjector.get(e,n,r)}};function Vw(t){return t!==Ji}function du(t){return t&32767}function NR(t){return t>>16}function hu(t,e){let n=NR(t),r=e;for(;n>0;)r=r[Uo],n--;return r}var rf=!0;function mI(t){let e=rf;return rf=t,e}var xR=256,Lw=xR-1,Uw=5,PR=0,Kt={};function OR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mo)&&(r=n[Mo]),r==null&&(r=n[Mo]=PR++);let i=r&Lw,s=1<<i;e.data[t+(i>>Uw)]|=s}function fu(t,e){let n=jw(t,e);if(n!==-1)return n;let r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,Fh(r.data,t),Fh(e,null),Fh(r.blueprint,null));let i=Kf(t,e),s=t.injectorIndex;if(Vw(i)){let o=du(i),c=hu(i,e),u=c[ie].data;for(let d=0;d<8;d++)e[s+d]=c[o+d]|u[o+d]}return e[s+8]=i,s}function Fh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function jw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Kf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=zw(i),r===null)return Ji;if(n++,i=i[Uo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ji}function sf(t,e,n){OR(t,e,n)}function kR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(ew(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Bw(t,e,n){if(n&J.Optional||t!==void 0)return t;Of(e,"NodeInjector")}function $w(t,e,n,r){if(n&J.Optional&&r===void 0&&(r=null),!(n&(J.Self|J.Host))){let i=t[rs],s=Tt(void 0);try{return i?i.get(e,r,n&J.Optional):WI(e,r,n&J.Optional)}finally{Tt(s)}}return Bw(r,e,n)}function Hw(t,e,n,r=J.Default,i){if(t!==null){if(e[q]&2048&&!(r&J.Self)){let o=jR(t,e,n,r,Kt);if(o!==Kt)return o}let s=qw(t,e,n,r,Kt);if(s!==Kt)return s}return $w(e,n,r,i)}function qw(t,e,n,r,i){let s=LR(n);if(typeof s=="function"){if(!Mw(e,t,r))return r&J.Host?Bw(i,n,r):$w(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&J.Optional))Of(n);else return o}finally{Ow()}}else if(typeof s=="number"){let o=null,c=jw(t,e),u=Ji,d=r&J.Host?e[Jt][Bt]:null;for((c===-1||r&J.SkipSelf)&&(u=c===-1?Kf(t,e):e[c+8],u===Ji||!vI(r,!1)?c=-1:(o=e[ie],c=du(u),e=hu(u,e)));c!==-1;){let f=e[ie];if(yI(s,c,f.data)){let g=FR(c,e,n,o,r,d);if(g!==Kt)return g}u=e[c+8],u!==Ji&&vI(r,e[ie].data[c+8]===d)&&yI(s,c,e)?(o=f,c=du(u),e=hu(u,e)):c=-1}}return i}function FR(t,e,n,r,i,s){let o=e[ie],c=o.data[t+8],u=r==null?Au(c)&&rf:r!=o&&(c.type&3)!==0,d=i&J.Host&&s===c,f=VR(c,o,n,u,d);return f!==null?os(e,o,f,c):Kt}function VR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,d=t.directiveEnd,f=s>>20,g=r?c:c+f,I=i?c+f:d;for(let C=g;C<I;C++){let A=o[C];if(C<u&&n===A||C>=u&&A.type===n)return C}if(i){let C=o[u];if(C&&ur(C)&&C.type===n)return u}return null}function os(t,e,n,r){let i=t[n],s=e.data;if(AR(i)){let o=i;o.resolving&&fA(hA(s[n]));let c=mI(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?Tt(o.injectImpl):null,f=Mw(t,r,J.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&TR(n,s[n],e)}finally{d!==null&&Tt(d),mI(c),o.resolving=!1,Ow()}}return i}function LR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Mo)?t[Mo]:void 0;return typeof e=="number"?e>=0?e&Lw:UR:e}function yI(t,e,n){let r=1<<t;return!!(n[e+(t>>Uw)]&r)}function vI(t,e){return!(t&J.Self)&&!(t&J.Host&&e)}var Wr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Hw(this._tNode,this._lView,e,bu(r),n)}};function UR(){return new Wr(ut(),De())}function yr(t){return Vo(()=>{let e=t.prototype.constructor,n=e[tu]||of(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[tu]||of(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function of(t){return BI(t)?()=>{let e=of(st(t));return e&&e()}:Xi(t)}function jR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[q]&2048&&!(o[q]&512);){let c=qw(s,o,n,r|J.Self,Kt);if(c!==Kt)return c;let u=s.parent;if(!u){let d=o[fw];if(d){let f=d.get(n,Kt,r);if(f!==Kt)return f}u=zw(o),o=o[Uo]}s=u}return i}function zw(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[Bt]:null}function Qf(t){return kR(ut(),t)}function _I(t,e=null,n=null,r){let i=Gw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Gw(t,e=null,n=null,r,i=new Set){let s=[n||St,BA(t)];return r=r||(typeof t=="object"?void 0:ot(t)),new Po(s,e||Lf(),r||null,i)}var Qe=class t{static{this.THROW_IF_NOT_FOUND=No}static{this.NULL=new iu}static create(e,n){if(Array.isArray(e))return _I({name:""},n,e,"");{let r=e.name??"";return _I({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=j({token:t,providedIn:"any",factory:()=>z(ZI)})}static{this.__NG_ELEMENT_ID__=-1}};var BR=new V("");BR.__NG_ELEMENT_ID__=t=>{let e=ut();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&J.Optional)return null;throw new U(204,!1)};var $R="ngOriginalError";function Vh(t){return t[$R]}var Ww=!0,Yf=(()=>{class t{static{this.__NG_ELEMENT_ID__=HR}static{this.__NG_ENV_ID__=n=>n}}return t})(),af=class extends Yf{constructor(e){super(),this._lView=e}onDestroy(e){return Dw(this._lView,e),()=>cR(this._lView,e)}};function HR(){return new af(De())}var hs=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})();var cf=class extends Ue{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,hw()&&(this.destroyRef=M(Yf,{optional:!0})??void 0,this.pendingTasks=M(hs,{optional:!0})??void 0)}emit(e){let n=de(null);try{super.next(e)}finally{de(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ne=cf;function pu(...t){}function Kw(t){let e,n;function r(){t=pu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function II(t){return queueMicrotask(()=>t()),()=>{t=pu}}var Zf="isAngularZone",gu=Zf+"_ID",qR=0,me=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Ww}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,WR(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,zR,pu,pu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},zR={};function Jf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function GR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Kw(()=>{t.callbackScheduled=!1,uf(t),t.isCheckStableRunning=!0,Jf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),uf(t)}function WR(t){let e=()=>{GR(t)},n=qR++;t._inner=t._inner.fork({name:"angular",properties:{[Zf]:!0,[gu]:n,[gu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(KR(u))return r.invokeTask(s,o,c,u);try{return wI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),EI(t)}},onInvoke:(r,i,s,o,c,u,d)=>{try{return wI(t),r.invoke(s,o,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!QR(u)&&e(),EI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,uf(t),Jf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function uf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function wI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function EI(t){t._nesting--,Jf(t)}var lf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function KR(t){return Qw(t,"__ignore_ng_zone__")}function QR(t){return Qw(t,"__scheduler_tick__")}function Qw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Cn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Vh(e);for(;n&&Vh(n);)n=Vh(n);return n||null}},YR=new V("",{providedIn:"root",factory:()=>{let t=M(me),e=M(Cn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function ZR(){return Nu(ut(),De())}function Nu(t,e){return new nn(Nt(t,e))}var nn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=ZR}}return t})();function Yw(t){return(t.flags&128)===128}var Zw=new Map,JR=0;function XR(){return JR++}function eM(t){Zw.set(t[Su],t)}function df(t){Zw.delete(t[Su])}var DI="__ngContext__";function Jr(t,e){or(e)?(t[DI]=e[Su],eM(e)):t[DI]=e}function Jw(t){return eE(t[Oo])}function Xw(t){return eE(t[jt])}function eE(t){for(;t!==null&&!Rn(t);)t=t[jt];return t}var hf;function tE(t){hf=t}function tM(){if(hf!==void 0)return hf;if(typeof document<"u")return document;throw new U(210,!1)}var Xf=new V("",{providedIn:"root",factory:()=>nM}),nM="ng",ep=new V(""),rn=new V("",{providedIn:"platform",factory:()=>"unknown"});var tp=new V("",{providedIn:"root",factory:()=>tM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rM="h",iM="b";var sM=()=>null;function np(t,e,n=!1){return sM(t,e,n)}var nE=!1,oM=new V("",{providedIn:"root",factory:()=>nE});var Gc;function aM(){if(Gc===void 0&&(Gc=null,qh.trustedTypes))try{Gc=qh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gc}function CI(t){return aM()?.createScriptURL(t)||t}var mu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${UI})`}};function $o(t){return t instanceof mu?t.changingThisBreaksApplicationSecurity:t}function rp(t,e){let n=cM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${UI})`)}return n===e}function cM(t){return t instanceof mu&&t.getTypeName()||null}var uM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rE(t){return t=String(t),t.match(uM)?t:"unsafe:"+t}var xu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xu||{});function lM(t){let e=sE();return e?e.sanitize(xu.URL,t)||"":rp(t,"URL")?$o(t):rE(Pf(t))}function dM(t){let e=sE();if(e)return CI(e.sanitize(xu.RESOURCE_URL,t)||"");if(rp(t,"ResourceURL"))return CI($o(t));throw new U(904,!1)}function hM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?dM:lM}function iE(t,e,n){return hM(e,n)(t)}function sE(){let t=De();return t&&t[Zt].sanitizer}function oE(t){return t instanceof Function?t():t}function fM(t){return(t??M(Qe)).get(rn)==="browser"}var bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bn||{}),pM;function ip(t,e){return pM(t,e)}function Qi(t,e,n,r,i){if(r!=null){let s,o=!1;Rn(r)?s=r:or(r)&&(o=!0,r=r[An]);let c=Xt(r);t===0&&n!==null?i==null?dE(e,n,c):yu(e,n,c,i||null,!0):t===1&&n!==null?yu(e,n,c,i||null,!0):t===2?AM(e,c,o):t===3&&e.destroyNode(c),s!=null&&MM(e,t,s,n,i)}}function gM(t,e){return t.createText(e)}function aE(t,e,n){return t.createElement(e,n)}function mM(t,e){cE(t,e),e[An]=null,e[Bt]=null}function yM(t,e,n,r,i,s){r[An]=i,r[Bt]=e,Pu(t,r,n,1,i,s)}function cE(t,e){e[Zt].changeDetectionScheduler?.notify(9),Pu(t,e,e[je],2,null,null)}function vM(t){let e=t[Oo];if(!e)return Lh(t[ie],t);for(;e;){let n=null;if(or(e))n=e[Oo];else{let r=e[Rt];r&&(n=r)}if(!n){for(;e&&!e[jt]&&e!==t;)or(e)&&Lh(e[ie],e),e=e[at];e===null&&(e=t),or(e)&&Lh(e[ie],e),n=e&&e[jt]}e=n}}function _M(t,e,n,r){let i=Rt+r,s=n.length;r>0&&(n[i-1][jt]=e),r<s-Rt?(e[jt]=n[i],YI(n,Rt+r,e)):(n.push(e),e[jt]=null),e[at]=n;let o=e[is];o!==null&&n!==o&&uE(o,e);let c=e[ss];c!==null&&c.insertView(t),ef(e),e[q]|=128}function uE(t,e){let n=t[cu],r=e[at];if(or(r))t[q]|=uu.HasTransplantedViews;else{let i=r[at][Jt];e[Jt]!==i&&(t[q]|=uu.HasTransplantedViews)}n===null?t[cu]=[e]:n.push(e)}function sp(t,e){let n=t[cu],r=n.indexOf(e);n.splice(r,1)}function ff(t,e){if(t.length<=Rt)return;let n=Rt+e,r=t[n];if(r){let i=r[is];i!==null&&i!==t&&sp(i,r),e>0&&(t[n-1][jt]=r[jt]);let s=ru(t,Rt+e);mM(r[ie],r);let o=s[ss];o!==null&&o.detachView(s[ie]),r[at]=null,r[jt]=null,r[q]&=-129}return r}function lE(t,e){if(!(e[q]&256)){let n=e[je];n.destroyNode&&Pu(t,e,n,3,null,null),vM(e)}}function Lh(t,e){if(e[q]&256)return;let n=de(null);try{e[q]&=-129,e[q]|=256,e[At]&&uh(e[At]),wM(t,e),IM(t,e),e[ie].type===1&&e[je].destroy();let r=e[is];if(r!==null&&Rn(e[at])){r!==e[at]&&sp(r,e);let i=e[ss];i!==null&&i.detachView(t)}df(e)}finally{de(n)}}function IM(t,e){let n=t.cleanup,r=e[ou];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ou]=null);let i=e[sr];if(i!==null){e[sr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function wM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Zr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Wt(4,c,u);try{u.call(c)}finally{Wt(5,c,u)}}else{Wt(4,i,s);try{s.call(i)}finally{Wt(5,i,s)}}}}}function EM(t,e,n){return DM(t,e.parent,n)}function DM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qt.None||s===Qt.Emulated)return null}return Nt(r,n)}}function yu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function dE(t,e,n){t.appendChild(e,n)}function bI(t,e,n,r,i){r!==null?yu(t,e,n,r,i):dE(t,e,n)}function hE(t,e){return t.parentNode(e)}function CM(t,e){return t.nextSibling(e)}function bM(t,e,n){return SM(t,e,n)}function TM(t,e,n){return t.type&40?Nt(t,n):null}var SM=TM,TI;function op(t,e,n,r){let i=EM(t,r,e),s=e[je],o=r.parent||e[Bt],c=bM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)bI(s,i,n[u],c,!1);else bI(s,i,n,c,!1);TI!==void 0&&TI(s,r,e,n,i)}function Ro(t,e){if(e!==null){let n=e.type;if(n&3)return Nt(e,t);if(n&4)return pf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ro(t,r);{let i=t[e.index];return Rn(i)?pf(-1,i):Xt(i)}}else{if(n&128)return Ro(t,e.next);if(n&32)return ip(e,t)()||Xt(t[e.index]);{let r=fE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qr(t[Jt]);return Ro(i,r)}else return Ro(t,e.next)}}}return null}function fE(t,e){if(e!==null){let r=t[Jt][Bt],i=e.projection;return r.projection[i]}return null}function pf(t,e){let n=Rt+t+1;if(n<e.length){let r=e[n],i=r[ie].firstChild;if(i!==null)return Ro(r,i)}return e[Kr]}function AM(t,e,n){t.removeChild(null,e,n)}function ap(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Jr(Xt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)ap(t,e,n.child,r,i,s,!1),Qi(e,t,i,c,s);else if(u&32){let d=ip(n,r),f;for(;f=d();)Qi(e,t,i,f,s);Qi(e,t,i,c,s)}else u&16?RM(t,e,r,n,i,s):Qi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Pu(t,e,n,r,i,s){ap(n,r,t.firstChild,e,i,s,!1)}function RM(t,e,n,r,i,s){let o=n[Jt],u=o[Bt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];Qi(e,t,i,f,s)}else{let d=u,f=o[at];Yw(r)&&(d.flags|=128),ap(t,e,d,f,i,s,!0)}}function MM(t,e,n,r,i){let s=n[Kr],o=Xt(n);s!==o&&Qi(e,t,r,s,i);for(let c=Rt;c<n.length;c++){let u=n[c];Pu(u[ie],u,t,e,r,s)}}function NM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:bn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bn.Important),t.setStyle(n,r,i,s))}}function xM(t,e,n){t.setAttribute(e,"style",n)}function pE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function gE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Kh(t,e,r),i!==null&&pE(t,e,i),s!==null&&xM(t,e,s)}var Ou={};function lt(t=1){mE(vt(),De(),Bo()+t,!1)}function mE(t,e,n,r){if(!r)if((e[q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Zc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Jc(e,s,0,n)}Yr(n)}function X(t,e=J.Default){let n=De();if(n===null)return z(t,e);let r=ut();return Hw(r,n,st(t),e)}function yE(){let t="invalid";throw new Error(t)}function vE(t,e,n,r,i,s){let o=de(null);try{let c=null;i&ar.SignalBased&&(c=e[r][In]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&ar.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):mw(e,c,r,s)}finally{de(o)}}function PM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yr(~i);else{let s=i,o=n[++r],c=n[++r];wR(o,s);let u=e[s];c(2,u)}}}finally{Yr(-1)}}function ku(t,e,n,r,i,s,o,c,u,d,f){let g=e.blueprint.slice();return g[An]=i,g[q]=r|4|128|8|64,(d!==null||t&&t[q]&2048)&&(g[q]|=2048),ww(g),g[at]=g[Uo]=t,g[Yt]=n,g[Zt]=o||t&&t[Zt],g[je]=c||t&&t[je],g[rs]=u||t&&t[rs]||null,g[Bt]=s,g[Su]=XR(),g[su]=f,g[fw]=d,g[Jt]=e.type==2?t[Jt]:g,g}function Fu(t,e,n,r,i){let s=t.data[e];if(s===null)s=OM(t,e,n,r,i),IR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=gR();s.injectorIndex=o===null?-1:o.injectorIndex}return jo(s,!0),s}function OM(t,e,n,r,i){let s=Tw(),o=Sw(),c=o?s:s&&s.parent,u=t.data[e]=UM(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function _E(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function IE(t,e,n,r,i){let s=Bo(),o=r&2;try{Yr(-1),o&&e.length>Dn&&mE(t,e,Dn,!1),Wt(o?2:0,i),n(r,i)}finally{Yr(s),Wt(o?3:1,i)}}function wE(t,e,n){if(gw(e)){let r=de(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{de(r)}}}function EE(t,e,n){bw()&&(zM(t,e,n,Nt(n,e)),(n.flags&64)===64&&AE(t,e,n))}function DE(t,e,n=Nt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function CE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cp(t,e,n,r,i,s,o,c,u,d,f){let g=Dn+r,I=g+i,C=kM(g,I),A=typeof d=="function"?d():d;return C[ie]={type:t,blueprint:C,template:n,queries:null,viewQuery:c,declTNode:e,data:C.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function kM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ou);return n}function FM(t,e,n,r){let s=r.get(oM,nE)||n===Qt.ShadowDom,o=t.selectRootElement(e,s);return VM(o),o}function VM(t){LM(t)}var LM=()=>null;function UM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return hR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function SI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=ar.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?AI(r,n,d,c,u):AI(r,n,d,c)}return r}function AI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function jM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let g=s[f],I=n?n.get(g):null,C=I?I.inputs:null,A=I?I.outputs:null;u=SI(0,g.inputs,f,u,C),d=SI(1,g.outputs,f,d,A);let P=u!==null&&o!==null&&!Ff(e)?nN(u,f,o):null;c.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function BM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bE(t,e,n,r,i,s,o,c){let u=Nt(e,n),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(up(t,n,f,r,i),Au(e)&&$M(n,e.index)):e.type&3?(r=BM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function $M(t,e){let n=pr(e,t);n[q]&16||(n[q]|=64)}function TE(t,e,n,r){if(bw()){let i=r===null?null:{"":-1},s=WM(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&SE(t,e,n,o,i,c),i&&KM(n,r,i)}n.mergedAttrs=xo(n.mergedAttrs,n.attrs)}function SE(t,e,n,r,i,s){for(let d=0;d<r.length;d++)sf(fu(n,e),t,r[d].type);YM(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=_E(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=xo(n.mergedAttrs,f.hostAttrs),ZM(t,n,e,u,f),QM(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}jM(t,n,s)}function HM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;qM(o)!=c&&o.push(c),o.push(n,r,s)}}function qM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Au(n)&&JM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||fu(n,e),Jr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],d=os(e,t,c,n);if(Jr(d,e),o!==null&&tN(e,c-i,d,u,n,o),ur(u)){let f=pr(n.index,e);f[Yt]=os(e,t,c,n)}}}function AE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ER();try{Yr(s);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];tf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&GM(u,d)}}finally{Yr(-1),tf(o)}}function GM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(xA(e,o.selectors,!1))if(r||(r=[]),ur(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;gf(t,e,u)}else r.unshift(o),gf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function gf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new U(-301,!1);r.push(e[i],s)}}}function QM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ur(e)&&(n[""]=t)}}function YM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ZM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Xi(i.type,!0)),o=new Zr(s,ur(i),X);t.blueprint[r]=o,n[r]=o,HM(t,e,r,_E(t,n,i.hostVars,Ou),i)}function JM(t,e,n){let r=Nt(e,t),i=CE(n),s=t[Zt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Vu(t,ku(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function XM(t,e,n,r,i,s){let o=Nt(t,e);eN(e[je],o,s,t.value,n,r,i)}function eN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Pf(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function tN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],d=o[c++],f=o[c++],g=o[c++];vE(r,n,u,d,f,g)}}function nN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function RE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ME(t,e){let n=t.contentQueries;if(n!==null){let r=de(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Rw(s),c.contentQueries(2,e[o],o)}}}finally{de(r)}}}function Vu(t,e){return t[Oo]?t[hI][jt]=e:t[Oo]=e,t[hI]=e,e}function mf(t,e,n){Rw(0);let r=de(null);try{e(t,n)}finally{de(r)}}function rN(t){return t[ou]??=[]}function iN(t){return t.cleanup??=[]}function NE(t,e){let n=t[rs],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function up(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],d=e[o],f=t.data[o];vE(f,d,r,c,u,i)}}function sN(t,e){let n=pr(e,t),r=n[ie];oN(r,n);let i=n[An];i!==null&&n[su]===null&&(n[su]=np(i,n[rs])),lp(r,n,n[Yt])}function oN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lp(t,e,n){$f(e);try{let r=t.viewQuery;r!==null&&mf(1,r,n);let i=t.template;i!==null&&IE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ss]?.finishViewCreation(t),t.staticContentQueries&&ME(t,e),t.staticViewQueries&&mf(2,t.viewQuery,n);let s=t.components;s!==null&&aN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[q]&=-5,Hf()}}function aN(t,e){for(let n=0;n<e.length;n++)sN(t,e[n])}function cN(t,e,n,r){let i=de(null);try{let s=e.tView,c=t[q]&4096?4096:16,u=ku(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[is]=d;let f=t[ss];return f!==null&&(u[ss]=f.createEmbeddedView(s)),lp(s,u,n),u}finally{de(i)}}function RI(t,e){return!e||e.firstChild===null||Yw(t)}function uN(t,e,n,r=!0){let i=e[ie];if(_M(i,e,t,n),r){let o=pf(n,t),c=e[je],u=hE(c,t[Kr]);u!==null&&yM(i,t[Bt],c,e,u,o)}let s=e[su];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function vu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Xt(s)),Rn(s)&&lN(s,r);let o=n.type;if(o&8)vu(t,e,n.child,r);else if(o&32){let c=ip(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=fE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Qr(e[Jt]);vu(u[ie],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function lN(t,e){for(let n=Rt;n<t.length;n++){let r=t[n],i=r[ie].firstChild;i!==null&&vu(r[ie],r,i,e)}t[Kr]!==t[An]&&e.push(t[Kr])}var xE=[];function dN(t){return t[At]??hN(t)}function hN(t){let e=xE.pop()??Object.create(pN);return e.lView=t,e}function fN(t){t.lView[At]!==t&&(t.lView=null,xE.push(t))}var pN=ne(k({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Mu(t.lView)},consumerOnSignalRead(){this.lView[At]=this}});function gN(t){let e=t[At]??Object.create(mN);return e.lView=t,e}var mN=ne(k({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Qr(t.lView);for(;e&&!PE(e[ie]);)e=Qr(e);e&&Ew(e)},consumerOnSignalRead(){this.lView[At]=this}});function PE(t){return t.type!==2}var yN=100;function OE(t,e=!0,n=0){let r=t[Zt],i=r.rendererFactory,s=!1;s||i.begin?.();try{vN(t,n)}catch(o){throw e&&NE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function vN(t,e){let n=Aw();try{pI(!0),yf(t,e);let r=0;for(;Ru(t);){if(r===yN)throw new U(103,!1);r++,yf(t,1)}}finally{pI(n)}}function _N(t,e,n,r){let i=e[q];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Zt].inlineEffectRunner?.flush(),$f(e);let c=!0,u=null,d=null;s||(PE(t)?(d=dN(e),u=vc(d)):v_()===null?(c=!1,d=gN(e),u=vc(d)):e[At]&&(uh(e[At]),e[At]=null));try{ww(e),vR(t.bindingStartIndex),n!==null&&IE(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let C=t.preOrderCheckHooks;C!==null&&Zc(e,C,null)}else{let C=t.preOrderHooks;C!==null&&Jc(e,C,0,null),Oh(e,0)}if(o||IN(e),kE(e,0),t.contentQueries!==null&&ME(t,e),!s)if(f){let C=t.contentCheckHooks;C!==null&&Zc(e,C)}else{let C=t.contentHooks;C!==null&&Jc(e,C,1),Oh(e,1)}PM(t,e);let g=t.components;g!==null&&VE(e,g,0);let I=t.viewQuery;if(I!==null&&mf(2,I,r),!s)if(f){let C=t.viewCheckHooks;C!==null&&Zc(e,C)}else{let C=t.viewHooks;C!==null&&Jc(e,C,2),Oh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ph]){for(let C of e[Ph])C();e[Ph]=null}s||(e[q]&=-73)}catch(f){throw s||Mu(e),f}finally{d!==null&&(ah(d,u),c&&fN(d)),Hf()}}function kE(t,e){for(let n=Jw(t);n!==null;n=Xw(n))for(let r=Rt;r<n.length;r++){let i=n[r];FE(i,e)}}function IN(t){for(let e=Jw(t);e!==null;e=Xw(e)){if(!(e[q]&uu.HasTransplantedViews))continue;let n=e[cu];for(let r=0;r<n.length;r++){let i=n[r];Ew(i)}}}function wN(t,e,n){let r=pr(e,t);FE(r,n)}function FE(t,e){jf(t)&&yf(t,e)}function yf(t,e){let r=t[ie],i=t[q],s=t[At],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ch(s)),o||=!1,s&&(s.dirty=!1),t[q]&=-9217,o)_N(r,t,r.template,t[Yt]);else if(i&8192){kE(t,1);let c=r.components;c!==null&&VE(t,c,1)}}function VE(t,e,n){for(let r=0;r<e.length;r++)wN(t,e[r],n)}function dp(t,e){let n=Aw()?64:1088;for(t[Zt].changeDetectionScheduler?.notify(e);t;){t[q]|=n;let r=Qr(t);if(Jh(t)&&!r)return t;t=r}return null}var Xr=class{get rootNodes(){let e=this._lView,n=e[ie];return vu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yt]}set context(e){this._lView[Yt]=e}get destroyed(){return(this._lView[q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(Rn(e)){let n=e[au],r=n?n.indexOf(this):-1;r>-1&&(ff(e,r),ru(n,r))}this._attachedToViewContainer=!1}lE(this._lView[ie],this._lView)}onDestroy(e){Dw(this._lView,e)}markForCheck(){dp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){ef(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,OE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jh(this._lView),n=this._lView[is];n!==null&&!e&&sp(n,this._lView),cE(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Jh(this._lView),r=this._lView[is];r!==null&&!n&&uE(r,this._lView),ef(this._lView)}},hp=(()=>{class t{static{this.__NG_ELEMENT_ID__=CN}}return t})(),EN=hp,DN=class extends EN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=cN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Xr(i)}};function CN(){return bN(ut(),De())}function bN(t,e){return t.type&4?new DN(e,t,Nu(t,e)):null}var f4=new RegExp(`^(\\d+)*(${iM}|${rM})*(.*)`);var TN=()=>null;function MI(t,e){return TN(t,e)}var as=class{},Lu=new V("",{providedIn:"root",factory:()=>!1});var LE=new V(""),UE=new V(""),vf=class{},_u=class{};function SN(t){let e=Error(`No component factory found for ${ot(t)}.`);return e[AN]=t,e}var AN="ngComponent";var _f=class{resolveComponentFactory(e){throw SN(e)}},cs=class{static{this.NULL=new _f}},us=class{},Mn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>RN()}}return t})();function RN(){let t=De(),e=ut(),n=pr(e.index,t);return(or(n)?n:t)[je]}var MN=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}}return t})();function If(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=nI(i,c);else if(s==2){let u=c,d=e[++o];r=nI(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Iu=class extends cs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=cr(e);return new ls(n,this.ngModule)}};function NI(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:ar.None;e?n.push({propName:o,templateName:r,isSignal:(c&ar.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function NN(t){let e=t.toLowerCase();return e==="svg"?rR:e==="math"?iR:null}var ls=class extends _u{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=NI(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return NI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=FA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=de(null);try{i=i||this.ngModule;let o=i instanceof yt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new nf(e,o):e,u=c.get(us,null);if(u===null)throw new U(407,!1);let d=c.get(MN,null),f=c.get(as,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},I=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",A=r?FM(I,r,this.componentDef.encapsulation,c):aE(I,C,NN(C)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let x=null;A!==null&&(x=np(A,c,!0));let F=cp(0,null,null,1,0,null,null,null,null,null,null),Q=ku(null,F,null,P,null,null,g,I,c,null,x);$f(Q);let Z,ge,Ge=null;try{let fe=this.componentDef,E,m=null;fe.findHostDirectiveDefs?(E=[],m=new Map,fe.findHostDirectiveDefs(fe,E,m),E.push(fe)):E=[fe];let y=xN(Q,A);Ge=PN(y,A,fe,E,Q,g,I),ge=Iw(F,Dn),A&&FN(I,fe,A,r),n!==void 0&&VN(ge,this.ngContentSelectors,n),Z=kN(Ge,fe,E,m,Q,[LN]),lp(F,Q,null)}catch(fe){throw Ge!==null&&df(Ge),df(Q),fe}finally{Hf()}return new wf(this.componentType,Z,Nu(ge,Q),Q,ge)}finally{de(s)}}},wf=class extends vf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;up(s[ie],s,i,e,n),this.previousInputValues.set(e,n);let o=pr(this._tNode.index,s);dp(o,1)}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xN(t,e){let n=t[ie],r=Dn;return t[r]=e,Fu(n,r,2,"#host",null)}function PN(t,e,n,r,i,s,o){let c=i[ie];ON(r,t,e,o);let u=null;e!==null&&(u=np(e,i[rs]));let d=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=ku(i,CE(n),null,f,i[t.index],t,s,d,null,null,u);return c.firstCreatePass&&gf(c,t,r.length-1),Vu(i,g),i[t.index]=g}function ON(t,e,n,r){for(let i of t)e.mergedAttrs=xo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(If(e,e.mergedAttrs,!0),n!==null&&gE(r,n,e))}function kN(t,e,n,r,i,s){let o=ut(),c=i[ie],u=Nt(o,i);SE(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,I=os(i,c,g,o);Jr(I,i)}AE(c,i,o),u&&Jr(u,i);let d=os(i,c,o.directiveStart+o.componentOffset,o);if(t[Yt]=i[Yt]=d,s!==null)for(let f of s)f(d,e);return wE(c,o,i),d}function FN(t,e,n,r){if(r)Kh(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=VA(e.selectors[0]);i&&Kh(t,n,i),s&&s.length>0&&pE(t,n,s.join(" "))}}function VN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function LN(){let t=ut();Wf(De()[ie],t)}var Ho=(()=>{class t{static{this.__NG_ELEMENT_ID__=UN}}return t})();function UN(){let t=ut();return BN(t,De())}var jN=Ho,jE=class extends jN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Nu(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Kf(this._hostTNode,this._hostLView);if(Vw(e)){let n=hu(e,this._hostLView),r=du(e),i=n[ie].data[r+8];return new Wr(i,n)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=xI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=MI(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,RI(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!XA(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new ls(cr(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let P=(o?d:this.parentInjector).get(yt,null);P&&(s=P)}let f=cr(u.componentType??{}),g=MI(this._lContainer,f?.id??null),I=g?.firstChild??null,C=u.create(d,i,I,s);return this.insertImpl(C.hostView,c,RI(this._hostTNode,g)),C}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(aR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[at],d=new jE(u,u[Bt],u[at]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return uN(o,i,s,r),e.attachToViewContainerRef(),YI(Uh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=xI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ff(this._lContainer,n);r&&(ru(Uh(this._lContainer),n),lE(r[ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=ff(this._lContainer,n);return r&&ru(Uh(this._lContainer),n)!=null?new Xr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function xI(t){return t[au]}function Uh(t){return t[au]||(t[au]=[])}function BN(t,e){let n,r=e[t.index];return Rn(r)?n=r:(n=RE(r,e,null,t),e[t.index]=n,Vu(e,n)),HN(n,e,t,r),new jE(n,t,e)}function $N(t,e){let n=t[je],r=n.createComment(""),i=Nt(e,t),s=hE(n,i);return yu(n,s,r,CM(n,i),!1),r}var HN=GN,qN=()=>!1;function zN(t,e,n){return qN(t,e,n)}function GN(t,e,n,r){if(t[Kr])return;let i;n.type&8?i=Xt(r):i=$N(e,n),t[Kr]=i}var PI=new Set;function fs(t){PI.has(t)||(PI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function WN(t){return typeof t=="function"&&t[In]!==void 0}function qo(t,e){fs("NgSignals");let n=R_(t),r=n[In];return e?.equal&&(r.equal=e.equal),n.set=i=>lh(r,i),n.update=i=>M_(r,i),n.asReadonly=KN.bind(n),n}function KN(){let t=this[In];if(t.readonlyFn===void 0){let e=()=>this();e[In]=t,t.readonlyFn=e}return t.readonlyFn}function BE(t){return WN(t)&&typeof t.set=="function"}function QN(t){return Object.getPrototypeOf(t.prototype).constructor}function $t(t){let e=QN(t.type),n=!0,r=[t];for(;e;){let i;if(ur(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Wc(t.inputs),o.inputTransforms=Wc(t.inputTransforms),o.declaredInputs=Wc(t.declaredInputs),o.outputs=Wc(t.outputs);let c=i.hostBindings;c&&ex(t,c);let u=i.viewQuery,d=i.contentQueries;if(u&&JN(t,u),d&&XN(t,d),YN(t,i),iA(t.outputs,i.outputs),ur(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===$t&&(n=!1)}}e=Object.getPrototypeOf(e)}ZN(r)}function YN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ZN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xo(i.hostAttrs,n=xo(n,i.hostAttrs))}}function Wc(t){return t===es?{}:t===St?[]:t}function JN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function XN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function ex(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function fp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var lr=class{},ko=class{};var Ef=class extends lr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Iu(this);let s=sw(e);this._bootstrapComponents=oE(s.bootstrap),this._r3Injector=Gw(e,n,[{provide:lr,useValue:this},{provide:cs,useValue:this.componentFactoryResolver},...r],ot(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Df=class extends ko{constructor(e){super(),this.moduleType=e}create(e){return new Ef(this.moduleType,e,[])}};var wu=class extends lr{constructor(e){super(),this.componentFactoryResolver=new Iu(this),this.instance=null;let n=new Po([...e.providers,{provide:lr,useValue:this},{provide:cs,useValue:this.componentFactoryResolver}],e.parent||Lf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Uu(t,e,n=null){return new wu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ju(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function tx(t){return(t.flags&32)===32}function nx(t,e,n,r,i,s,o,c,u){let d=e.consts,f=Fu(e,t,4,o||null,c||null);TE(e,n,f,lu(d,u)),Wf(e,f);let g=f.tView=cp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function rx(t,e,n,r,i,s,o,c,u,d){let f=n+Dn,g=e.firstCreatePass?nx(f,e,t,r,i,s,o,c,u):e.data[f];jo(g,!1);let I=ix(e,t,g,n);zf()&&op(e,t,I,g),Jr(I,t);let C=RE(I,t,I,g);return t[f]=C,Vu(t,C),zN(C,g,t),Uf(g)&&EE(e,t,g),u!=null&&DE(t,g,d),g}function Nn(t,e,n,r,i,s,o,c){let u=De(),d=vt(),f=lu(d.consts,s);return rx(u,d,t,e,n,r,i,f,o,c),Nn}var ix=sx;function sx(t,e,n,r){return Gf(!0),e[je].createComment("")}var Yi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Yi||{}),$E=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Cf=class t{constructor(){this.ngZone=M(me),this.scheduler=M(as),this.errorHandler=M(Cn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Yi.EarlyRead,Yi.Write,Yi.MixedReadWrite,Yi.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}},bf=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function pp(t,e){!e?.injector&&JA(pp);let n=e?.injector??M(Qe);return fM(n)?(fs("NgAfterNextRender"),ax(t,n,e,!0)):cx}function ox(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function ax(t,e,n,r){let i=e.get($E);i.impl??=e.get(Cf);let s=n?.phase??Yi.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(Yf):null,c=new bf(i.impl,ox(t,s),r,o);return i.impl.register(c),c}var cx={destroy(){}};function zo(t,e,n,r){let i=De(),s=Bf();if(ju(i,s,e)){let o=vt(),c=qf();XM(c,i,t,e,n,r)}return zo}function Kc(t,e){return t<<17|e<<2}function ei(t){return t>>17&32767}function ux(t){return(t&2)==2}function lx(t,e){return t&131071|e<<17}function Tf(t){return t|2}function ds(t){return(t&131068)>>2}function jh(t,e){return t&-131069|e<<2}function dx(t){return(t&1)===1}function Sf(t){return t|1}function hx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=ei(o),u=ds(o);t[r]=n;let d=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Lo(g,f)>0)&&(d=!0)}else f=n;if(i)if(u!==0){let I=ei(t[c+1]);t[r+1]=Kc(I,c),I!==0&&(t[I+1]=jh(t[I+1],r)),t[c+1]=lx(t[c+1],r)}else t[r+1]=Kc(c,0),c!==0&&(t[c+1]=jh(t[c+1],r)),c=r;else t[r+1]=Kc(u,0),c===0?c=r:t[u+1]=jh(t[u+1],r),u=r;d&&(t[r+1]=Tf(t[r+1])),OI(t,f,r,!0),OI(t,f,r,!1),fx(e,f,t,r,s),o=Kc(c,u),s?e.classBindings=o:e.styleBindings=o}function fx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Lo(s,e)>=0&&(n[r+1]=Sf(n[r+1]))}function OI(t,e,n,r){let i=t[n+1],s=e===null,o=r?ei(i):ds(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],d=t[o+1];px(u,e)&&(c=!0,t[o+1]=r?Sf(d):Tf(d)),o=r?ei(d):ds(d)}c&&(t[n+1]=r?Tf(i):Sf(i))}function px(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Lo(t,e)>=0:!1}function sn(t,e,n){let r=De(),i=Bf();if(ju(r,i,e)){let s=vt(),o=qf();bE(s,o,r,t,e,r[je],n,!1)}return sn}function kI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";up(t,n,s[o],o,r)}function Bu(t,e){return gx(t,e,null,!0),Bu}function gx(t,e,n,r){let i=De(),s=vt(),o=_R(2);if(s.firstUpdatePass&&yx(s,t,o,r),e!==Ou&&ju(i,o,e)){let c=s.data[Bo()];Ex(s,c,i,i[je],t,i[o+1]=Dx(e,n),r,o)}}function mx(t,e){return e>=t.expandoStartIndex}function yx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Bo()],o=mx(t,n);Cx(s,r)&&e===null&&!o&&(e=!1),e=vx(i,s,e,r),hx(i,s,e,n,o,r)}}function vx(t,e,n,r){let i=DR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Bh(null,t,e,n,r),n=Fo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Bh(i,t,e,n,r),s===null){let u=_x(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Bh(null,t,e,u[1],r),u=Fo(u,e.attrs,r),Ix(t,e,r,u))}else s=wx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function _x(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ds(r)!==0)return t[ei(r)]}function Ix(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ei(i)]=r}function wx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Fo(r,o,n)}return Fo(r,e.attrs,n)}function Bh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Fo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Fo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),CA(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Ex(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=dx(d)?FI(u,e,n,i,ds(d),o):void 0;if(!Eu(f)){Eu(s)||ux(d)&&(s=FI(u,null,n,i,c,o));let g=sR(Bo(),n);NM(r,o,g,i,s)}}function FI(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],d=Array.isArray(u),f=d?u[1]:u,g=f===null,I=n[i+1];I===Ou&&(I=g?St:void 0);let C=g?Nh(I,r):f===r?I:void 0;if(d&&!Eu(C)&&(C=Nh(u,r)),Eu(C)&&(c=C,o))return c;let A=t[i+1];i=o?ei(A):ds(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Nh(u,r))}return c}function Eu(t){return t!==void 0}function Dx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ot($o(t)))),t}function Cx(t,e){return(t.flags&(e?8:16))!==0}function bx(t,e,n,r,i,s){let o=e.consts,c=lu(o,i),u=Fu(e,t,2,r,c);return TE(e,n,u,lu(o,s)),u.attrs!==null&&If(u,u.attrs,!1),u.mergedAttrs!==null&&If(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function K(t,e,n,r){let i=De(),s=vt(),o=Dn+t,c=i[je],u=s.firstCreatePass?bx(o,s,i,e,n,r):s.data[o],d=Tx(s,i,u,c,e,t);i[o]=d;let f=Uf(u);return jo(u,!0),gE(c,d,u),!tx(u)&&zf()&&op(s,i,d,u),uR()===0&&Jr(d,i),lR(),f&&(EE(s,i,u),wE(s,u,i)),r!==null&&DE(i,u),K}function $(){let t=ut();Sw()?mR():(t=t.parent,jo(t,!1));let e=t;fR(e)&&pR(),dR();let n=vt();return n.firstCreatePass&&(Wf(n,t),gw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&RR(e)&&kI(n,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MR(e)&&kI(n,e,De(),e.stylesWithoutHost,!1),$}function xt(t,e,n,r){return K(t,e,n,r),$(),xt}var Tx=(t,e,n,r,i,s)=>(Gf(!0),aE(r,i,bR()));function HE(){return De()}var Du="en-US";var Sx=Du;function Ax(t){typeof t=="string"&&(Sx=t.toLowerCase().replace(/_/g,"-"))}var Rx=(t,e,n)=>{};function on(t,e,n,r){let i=De(),s=vt(),o=ut();return qE(s,i,i[je],o,t,e,r),on}function Mx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[ou],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function qE(t,e,n,r,i,s,o){let c=Uf(r),d=t.firstCreatePass&&iN(t),f=e[Yt],g=rN(e),I=!0;if(r.type&3||o){let P=Nt(r,e),x=o?o(P):P,F=g.length,Q=o?ge=>o(Xt(ge[r.index])):r.index,Z=null;if(!o&&c&&(Z=Mx(t,e,i,r.index)),Z!==null){let ge=Z.__ngLastListenerFn__||Z;ge.__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,I=!1}else{s=LI(r,e,f,s),Rx(P,i,s);let ge=n.listen(x,i,s);g.push(s,ge),d&&d.push(i,Q,F,F+1)}}else s=LI(r,e,f,s);let C=r.outputs,A;if(I&&C!==null&&(A=C[i])){let P=A.length;if(P)for(let x=0;x<P;x+=2){let F=A[x],Q=A[x+1],Ge=e[F][Q].subscribe(s),fe=g.length;g.push(s,Ge),d&&d.push(i,r.index,fe,-(fe+1))}}}function VI(t,e,n,r){let i=de(null);try{return Wt(6,e,n),n(r)!==!1}catch(s){return NE(t,s),!1}finally{Wt(7,e,n),de(i)}}function LI(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?pr(t.index,e):e;dp(o,5);let c=VI(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=VI(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function vr(t){let e=yR();return oR(e,Dn+t)}function he(t,e=""){let n=De(),r=vt(),i=t+Dn,s=r.firstCreatePass?Fu(r,i,1,e,null):r.data[i],o=Nx(r,n,s,e,t);n[i]=o,zf()&&op(r,n,o,s),jo(s,!1)}var Nx=(t,e,n,r,i)=>(Gf(!0),gM(e[je],r));function _r(t,e,n){BE(e)&&(e=e());let r=De(),i=Bf();if(ju(r,i,e)){let s=vt(),o=qf();bE(s,o,r,t,e,r[je],n,!1)}return _r}function ti(t,e){let n=BE(t);return n&&t.set(e),n}function Ir(t,e){let n=De(),r=vt(),i=ut();return qE(r,n,n[je],i,t,e),Ir}function xx(t,e,n){let r=vt();if(r.firstCreatePass){let i=ur(t);Af(n,r.data,r.blueprint,i,!0),Af(e,r.data,r.blueprint,i,!1)}}function Af(t,e,n,r,i){if(t=st(t),Array.isArray(t))for(let s=0;s<t.length;s++)Af(t[s],e,n,r,i);else{let s=vt(),o=De(),c=ut(),u=ns(t)?t:st(t.provide),d=dw(t),f=c.providerIndexes&1048575,g=c.directiveStart,I=c.providerIndexes>>20;if(ns(t)||!t.multi){let C=new Zr(d,i,X),A=Hh(u,e,i?f:f+I,g);A===-1?(sf(fu(c,o),s,u),$h(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(C),o.push(C)):(n[A]=C,o[A]=C)}else{let C=Hh(u,e,f+I,g),A=Hh(u,e,f,f+I),P=C>=0&&n[C],x=A>=0&&n[A];if(i&&!x||!i&&!P){sf(fu(c,o),s,u);let F=kx(i?Ox:Px,n.length,i,r,d);!i&&x&&(n[A].providerFactory=F),$h(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=zE(n[i?A:C],d,!i&&r);$h(s,t,C>-1?C:A,F)}!i&&r&&x&&n[A].componentProviders++}}}function $h(t,e,n,r){let i=ns(e),s=zA(e);if(i||s){let u=(s?st(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,u]):d[f+1].push(r,u)}else d.push(n,u)}}}function zE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Px(t,e,n,r){return Rf(this.multi,[])}function Ox(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=os(n,n[ie],this.providerFactory.index,r);s=c.slice(0,o),Rf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Rf(i,s);return s}function Rf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function kx(t,e,n,r,i){let s=new Zr(t,n,X);return s.multi=[],s.index=e,s.componentProviders=0,zE(s,i,r&&!n),s}function ni(t,e=[]){return n=>{n.providersResolver=(r,i)=>xx(r,i?i(t):t,e)}}var Fx=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=cw(!1,n.type),i=r.length>0?Uu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(z(yt))})}}return t})();function Pt(t){fs("NgStandalone"),t.getStandaloneInjector=e=>e.get(Fx).getOrCreateStandaloneInjector(t)}var Tn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GE=new Tn("18.2.10");var $u=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var WE=new V("");function ri(t){return!!t&&typeof t.then=="function"}function KE(t){return!!t&&typeof t.subscribe=="function"}var Hu=new V(""),QE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=M(Hu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(ri(s))n.push(s);else if(KE(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qu=new V("");function Vx(){A_(()=>{throw new U(600,!1)})}function Lx(t){return t.isBoundToModule}var Ux=10;function jx(t,e,n){try{let r=n();return ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ii=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(YR),this.afterRenderManager=M($E),this.zonelessEnabled=M(Lu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ue,this.afterTick=new Ue,this.componentTypes=[],this.components=[],this.isStable=M(hs).hasPendingTasks.pipe(ee(n=>!n)),this._injector=M(yt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof _u;if(!this._injector.get(QE).done){let I=!i&&iw(n),C=!1;throw new U(405,C)}let o;i?o=n:o=this._injector.get(cs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=Lx(o)?void 0:this._injector.get(lr),u=r||o.selector,d=o.create(Qe.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(WE,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Xc(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new U(101,!1);let n=de(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,de(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(us,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Ux;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)Bx(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ru(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Xc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(qu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Xc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Bx(t,e,n,r){if(!n&&!Ru(t))return;OE(t,e,n&&!r?0:1)}var Mf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},zu=(()=>{class t{compileModuleSync(n){return new Df(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=sw(n),s=oE(i.declarations).reduce((o,c)=>{let u=cr(c);return u&&o.push(new ls(u)),o},[]);return new Mf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $x=(()=>{class t{constructor(){this.zone=M(me),this.changeDetectionScheduler=M(as),this.applicationRef=M(ii)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hx=new V("",{factory:()=>!1});function YE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(ne(k({},JE()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:ts,multi:!0,useFactory:()=>{let r=M($x,{optional:!0});return()=>r.initialize()}},{provide:ts,multi:!0,useFactory:()=>{let r=M(qx);return()=>{r.initialize()}}},e===!0?{provide:LE,useValue:!0}:[],{provide:UE,useValue:n??Ww}]}function ZE(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=YE({ngZoneFactory:()=>{let i=JE(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&fs("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return en([{provide:Hx,useValue:!0},{provide:Lu,useValue:!1},r])}function JE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var qx=(()=>{class t{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=M(me),this.pendingTasks=M(hs)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var zx=(()=>{class t{constructor(){this.appRef=M(ii),this.taskService=M(hs),this.ngZone=M(me),this.zonelessEnabled=M(Lu),this.disableScheduling=M(LE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Te,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(UE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?II:Kw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,II(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Gx(){return typeof $localize<"u"&&$localize.locale||Du}var gp=new V("",{providedIn:"root",factory:()=>M(gp,J.Optional|J.SkipSelf)||Gx()});var Nf=new V("");function Qc(t){return!t.moduleRef}function Wx(t){let e=Qc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{Qc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Cn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Qc(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Nf);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Nf);o.add(s),t.moduleRef.onDestroy(()=>{Xc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return jx(r,n,()=>{let s=e.get(QE);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(gp,Du);if(Ax(o||Du),Qc(t)){let c=e.get(ii);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return Kx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Kx(t,e){let n=t.injector.get(ii);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}var eu=null;function Qx(t=[],e){return Qe.create({name:e,providers:[{provide:Tu,useValue:"platform"},{provide:Nf,useValue:new Set([()=>eu=null])},...t]})}function Yx(t=[]){if(eu)return eu;let e=Qx(t);return eu=e,Vx(),Zx(e),e}function Zx(t){t.get(ep,null)?.forEach(n=>n())}var si=(()=>{class t{static{this.__NG_ELEMENT_ID__=Jx}}return t})();function Jx(t){return Xx(ut(),De(),(t&16)===16)}function Xx(t,e,n){if(Au(t)&&!n){let r=pr(t.index,e);return new Xr(r,r)}else if(t.type&175){let r=e[Jt];return new Xr(r,e)}return null}function XE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Yx(r),s=[YE({}),{provide:as,useExisting:zx},...n||[]],o=new wu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Wx({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function wr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Go(t,e){fs("NgSignals");let n=b_(t);return e?.equal&&(n[In].equal=e.equal),n}function xn(t){let e=de(null);try{return t()}finally{de(e)}}function eD(t){let e=cr(t);if(!e)return null;let n=new ls(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var iD=null;function On(){return iD}function sD(t){iD??=t}var Gu=class{};var ft=new V(""),_p=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>M(eP),providedIn:"platform"})}}return t})(),oD=new V(""),eP=(()=>{class t extends _p{constructor(){super(),this._doc=M(ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return On().getBaseHref(this._doc)}onPopState(n){let r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Ip(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function tD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pn(t){return t&&t[0]!=="?"?"?"+t:t}var kn=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>M(wp),providedIn:"root"})}}return t})(),aD=new V(""),wp=(()=>{class t extends kn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ip(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Pn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Pn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Pn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(_p),z(aD,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cD=(()=>{class t extends kn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Ip(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Pn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Pn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(_p),z(aD,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),ps=(()=>{class t{constructor(n){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=rP(tD(nD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Pn(r))}normalize(n){return t.stripTrailingSlash(nP(this._basePath,nD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Pn}static{this.joinWithSlash=Ip}static{this.stripTrailingSlash=tD}static{this.\u0275fac=function(r){return new(r||t)(z(kn))}}static{this.\u0275prov=j({token:t,factory:()=>tP(),providedIn:"root"})}}return t})();function tP(){return new ps(z(kn))}function nP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function nD(t){return t.replace(/\/index.html$/,"")}function rP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function uD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var lD=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new mp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){rD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){rD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(X(Ho),X(hp))}}static{this.\u0275dir=xe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),mp=class{constructor(){this.$implicit=null,this.ngIf=null}};function rD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ot(e)}'.`)}var Ep=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=hr({type:t})}static{this.\u0275inj=dr({})}}return t})(),Dp="browser",iP="server";function sP(t){return t===Dp}function Cp(t){return t===iP}var dD=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>sP(M(rn))?new yp(M(ft),window):new vp})}}return t})(),yp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=oP(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function oP(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var vp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Wu=class{};var Sp=class extends Gu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ap=class t extends Sp{static makeCurrent(){sD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=aP();return n==null?null:cP(n)}resetBaseElement(){Wo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uD(document.cookie,e)}},Wo=null;function aP(){return Wo=Wo||document.querySelector("base"),Wo?Wo.getAttribute("href"):null}function cP(t){return new URL(t,document.baseURI).pathname}var uP=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Rp=new V(""),mD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(z(Rp),z(me))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Ku=class{constructor(e){this._doc=e}},bp="ng-app-id",yD=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cp(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${bp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(bp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(bp,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(z(ft),z(Xf),z(tp,8),z(rn))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Np=/%COMP%/g,vD="%COMP%",lP=`_nghost-${vD}`,dP=`_ngcontent-${vD}`,hP=!0,fP=new V("",{providedIn:"root",factory:()=>hP});function pP(t){return dP.replace(Np,t)}function gP(t){return lP.replace(Np,t)}function _D(t,e){return e.map(n=>n.replace(Np,t))}var fD=(()=>{class t{constructor(n,r,i,s,o,c,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Cp(c),this.defaultRenderer=new Ko(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qt.ShadowDom&&(r=ne(k({},r),{encapsulation:Qt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Qu?i.applyToHost(n):i instanceof Qo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Qt.Emulated:s=new Qu(u,d,r,this.appId,f,o,c,g);break;case Qt.ShadowDom:return new Mp(u,d,n,r,o,c,this.nonce,g);default:s=new Qo(u,d,r,f,o,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(z(mD),z(yD),z(Xf),z(fP),z(ft),z(rn),z(me),z(tp))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Ko=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Tp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(bn.DashCase|bn.Important)?e.style.setProperty(n,r,i&bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=On().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function pD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mp=class extends Ko{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=_D(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qo=class extends Ko{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?_D(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Qu=class extends Qo{constructor(e,n,r,i,s,o,c,u){let d=i+"-"+r.id;super(e,n,r,s,o,c,u,d),this.contentAttr=pP(d),this.hostAttr=gP(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},mP=(()=>{class t extends Ku{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(z(ft))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),gD=["alt","control","meta","shift"],yP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_P=(()=>{class t extends Ku{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>On().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),gD.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=yP[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),gD.forEach(o=>{if(o!==i){let c=vP[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(z(ft))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function ID(t,e){return XE(k({rootComponent:t},IP(e)))}function IP(t){return{appProviders:[...bP,...t?.providers??[]],platformProviders:CP}}function wP(){Ap.makeCurrent()}function EP(){return new Cn}function DP(){return tE(document),document}var CP=[{provide:rn,useValue:Dp},{provide:ep,useValue:wP,multi:!0},{provide:ft,useFactory:DP,deps:[]}];var bP=[{provide:Tu,useValue:"root"},{provide:Cn,useFactory:EP,deps:[]},{provide:Rp,useClass:mP,multi:!0,deps:[ft,me,rn]},{provide:Rp,useClass:_P,multi:!0,deps:[ft]},fD,yD,mD,{provide:us,useExisting:fD},{provide:Wu,useClass:uP,deps:[]},[]];var wD=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(z(ft))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Y="primary",la=Symbol("RouteTitle"),Fp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Is(t){return new Fp(t)}function SP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function AP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!an(t[n],e[n]))return!1;return!0}function an(t,e){let n=t?Vp(t):void 0,r=e?Vp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xD(t[i],e[i]))return!1;return!0}function Vp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function PD(t){return t.length>0?t[t.length-1]:null}function Cr(t){return Ch(t)?t:ri(t)?Ce(Promise.resolve(t)):H(t)}var RP={exact:kD,subset:FD},OD={exact:MP,subset:NP,ignored:()=>!0};function ED(t,e,n){return RP[n.paths](t.root,e.root,n.matrixParams)&&OD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function MP(t,e){return an(t,e)}function kD(t,e,n){if(!ai(t.segments,e.segments)||!Ju(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kD(t.children[r],e.children[r],n))return!1;return!0}function NP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xD(t[n],e[n]))}function FD(t,e,n){return VD(t,e,e.segments,n)}function VD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ai(i,n)||e.hasChildren()||!Ju(i,n,r))}else if(t.segments.length===n.length){if(!ai(t.segments,n)||!Ju(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!FD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ai(t.segments,i)||!Ju(t.segments,i,r)||!t.children[Y]?!1:VD(t.children[Y],e,s,r)}}function Ju(t,e,n){return e.every((r,i)=>OD[n](t[i].parameters,r.parameters))}var Vn=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){return OP.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xu(this)}},oi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Is(this.parameters),this._parameterMap}toString(){return UD(this)}};function xP(t,e){return ai(t,e)&&t.every((n,r)=>an(n.parameters,e[r].parameters))}function ai(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function PP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Y&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Y&&(n=n.concat(e(i,r)))}),n}var da=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new ws,providedIn:"root"})}}return t})(),ws=class{parse(e){let n=new Up(e);return new Vn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Yo(e.root,!0)}`,r=VP(e.queryParams),i=typeof e.fragment=="string"?`#${kP(e.fragment)}`:"";return`${n}${r}${i}`}},OP=new ws;function Xu(t){return t.segments.map(e=>UD(e)).join("/")}function Yo(t,e){if(!t.hasChildren())return Xu(t);if(e){let n=t.children[Y]?Yo(t.children[Y],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Y&&r.push(`${i}:${Yo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=PP(t,(r,i)=>i===Y?[Yo(t.children[Y],!1)]:[`${i}:${Yo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Y]!=null?`${Xu(t)}/${n[0]}`:`${Xu(t)}/(${n.join("//")})`}}function LD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yu(t){return LD(t).replace(/%3B/gi,";")}function kP(t){return encodeURI(t)}function Lp(t){return LD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function el(t){return decodeURIComponent(t)}function DD(t){return el(t.replace(/\+/g,"%20"))}function UD(t){return`${Lp(t.path)}${FP(t.parameters)}`}function FP(t){return Object.entries(t).map(([e,n])=>`;${Lp(e)}=${Lp(n)}`).join("")}function VP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Yu(n)}=${Yu(i)}`).join("&"):`${Yu(n)}=${Yu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var LP=/^[^\/()?;#]+/;function xp(t){let e=t.match(LP);return e?e[0]:""}var UP=/^[^\/()?;=#]+/;function jP(t){let e=t.match(UP);return e?e[0]:""}var BP=/^[^=?&#]+/;function $P(t){let e=t.match(BP);return e?e[0]:""}var HP=/^[^&#]+/;function qP(t){let e=t.match(HP);return e?e[0]:""}var Up=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Y]=new ye(e,n)),r}parseSegment(){let e=xp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new oi(el(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xp(this.remaining);i&&(r=i,this.capture(r))}e[el(n)]=el(r)}parseQueryParam(e){let n=$P(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=qP(this.remaining);o&&(r=o,this.capture(r))}let i=DD(n),s=DD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Y);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Y]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function jD(t){return t.segments.length>0?new ye([],{[Y]:t}):t}function BD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=BD(i);if(r===Y&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return zP(n)}function zP(t){if(t.numberOfChildren===1&&t.children[Y]){let e=t.children[Y];return new ye(t.segments.concat(e.segments),e.children)}return t}function ci(t){return t instanceof Vn}function GP(t,e,n=null,r=null){let i=$D(t);return HD(i,e,n,r)}function $D(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let c=new ye(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=jD(r);return e??i}function HD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Pp(i,i,i,n,r);let s=WP(e);if(s.toRoot())return Pp(i,i,new ye([],{}),n,r);let o=KP(s,i,t),c=o.processChildren?Xo(o.segmentGroup,o.index,s.commands):zD(o.segmentGroup,o.index,s.commands);return Pp(i,o.segmentGroup,c,n,r)}function tl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function na(t){return typeof t=="object"&&t!=null&&t.outlets}function Pp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;t===e?o=n:o=qD(t,e,n);let c=jD(BD(o));return new Vn(c,s,i)}function qD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=qD(s,e,n)}),new ye(t.segments,r)}var nl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&tl(r[0]))throw new U(4003,!1);let i=r.find(na);if(i&&i!==PD(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new nl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new nl(n,e,r)}var ys=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function KP(t,e,n){if(t.isAbsolute)return new ys(e,!0,0);if(!n)return new ys(e,!1,NaN);if(n.parent===null)return new ys(n,!0,0);let r=tl(t.commands[0])?0:1,i=n.segments.length-1+r;return QP(n,i,t.numberOfDoubleDots)}function QP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new ys(r,!1,i-s)}function YP(t){return na(t[0])?t[0].outlets:{[Y]:t}}function zD(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Xo(t,e,n);let r=ZP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[Y]=new ye(t.segments.slice(r.pathIndex),t.children),Xo(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?jp(t,e,n):r.match?Xo(t,0,i):jp(t,e,n)}function Xo(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=YP(n),i={};if(Object.keys(r).some(s=>s!==Y)&&t.children[Y]&&t.numberOfChildren===1&&t.children[Y].segments.length===0){let s=Xo(t.children[Y],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=zD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function ZP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(na(c))break;let u=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!bD(u,d,o))return s;r+=2}else{if(!bD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(na(s)){let u=JP(s.outlets);return new ye(r,u)}if(i===0&&tl(n[0])){let u=t.segments[e];r.push(new oi(u.path,CD(n[0]))),i++;continue}let o=na(s)?s.outlets[Y]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&tl(c)?(r.push(new oi(o,CD(c))),i+=2):(r.push(new oi(o,{})),i++)}return new ye(r,{})}function JP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jp(new ye([],{}),0,r))}),e}function CD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bD(t,e,n){return t==n.path&&an(e,n.parameters)}var ea="imperative",Be=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Be||{}),Ot=class{constructor(e,n){this.id=e,this.url=n}},Es=class extends Ot{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Be.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cn=class extends Ot{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(It||{}),rl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rl||{}),Fn=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Er=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Be.NavigationSkipped}},ra=class extends Ot{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},il=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$p=class extends Ot{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hp=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qp=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zp=class{constructor(e){this.route=e,this.type=Be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gp=class{constructor(e){this.route=e,this.type=Be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wp=class{constructor(e){this.snapshot=e,this.type=Be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kp=class{constructor(e){this.snapshot=e,this.type=Be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qp=class{constructor(e){this.snapshot=e,this.type=Be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yp=class{constructor(e){this.snapshot=e,this.type=Be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Be.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ia=class{},Ds=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function XP(t,e){return t.providers&&!t._injector&&(t._injector=Uu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qt(t){return t.outlet||Y}function eO(t,e){let n=t.filter(r=>qt(r)===e);return n.push(...t.filter(r=>qt(r)!==e)),n}function ha(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Zp=class{get injector(){return ha(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new fa(this.rootInjector),this.attachRef=null}},fa=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Zp(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(z(yt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ol=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Jp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Jp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Xp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xp(e,this._root).map(n=>n.value)}};function Jp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Jp(t,n);if(r)return r}return null}function Xp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Xp(t,n);if(r.length)return r.unshift(e),r}return[]}var _t=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ms(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var al=class extends ol{constructor(e,n){super(e),this.snapshot=n,cg(this,e)}toString(){return this.snapshot.toString()}};function GD(t){let e=tO(t),n=new Ke([new oi("",{})]),r=new Ke({}),i=new Ke({}),s=new Ke({}),o=new Ke(""),c=new Dr(n,r,s,o,i,Y,t,e.root);return c.snapshot=e.root,new al(new _t(c,[]),e)}function tO(t){let e={},n={},r={},i="",s=new vs([],e,r,i,n,Y,t,null,{});return new ul("",new _t(s,[]))}var Dr=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(d=>d[la]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&KD(i)&&(r.resolve[la]=i.title),r}var vs=class{get title(){return this.data?.[la]}constructor(e,n,r,i,s,o,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ul=class extends ol{constructor(e,n){super(n),this.url=e,cg(this,n)}toString(){return WD(this._root)}};function cg(t,e){e.value._routerState=t,e.children.forEach(n=>cg(t,n))}function WD(t){let e=t.children.length>0?` { ${t.children.map(WD).join(", ")} } `:"";return`${t.value}${e}`}function Op(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,an(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),an(e.params,n.params)||t.paramsSubject.next(n.params),AP(e.url,n.url)||t.urlSubject.next(n.url),an(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eg(t,e){let n=an(t.params,e.params)&&xP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||eg(t.parent,e.parent))}function KD(t){return typeof t.title=="string"||t.title===null}var ug=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Y,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=M(fa),this.location=M(Ho),this.changeDetector=M(si),this.inputBinder=M(fl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new tg(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=xe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fr]})}}return t})(),tg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Dr?this.route:e===fa?this.childContexts:this.parent.get(e,n)}},fl=new V(""),TD=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=So([r.queryParams,r.params,r.data]).pipe(bt(([s,o,c],u)=>(c=k(k(k({},s),o),c),u===0?H(c):Promise.resolve(c)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=eD(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of o.inputs)n.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function nO(t,e,n){let r=sa(t,e._root,n?n._root:void 0);return new al(r,e)}function sa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=rO(t,e,n);return new _t(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>sa(t,c)),o}}let r=iO(e.value),i=e.children.map(s=>sa(t,s));return new _t(r,i)}}function rO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sa(t,r,i);return sa(t,r)})}function iO(t){return new Dr(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var oa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},QD="ngNavigationCancelingError";function ll(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ci(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YD(!1,It.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function YD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[QD]=!0,n.cancellationCode=e,n}function sO(t){return ZD(t)&&ci(t.url)}function ZD(t){return!!t&&t[QD]}var oO=(t,e,n,r)=>ee(i=>(new ng(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ng=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Op(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ms(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ms(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Op(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Op(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},dl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_s=class{constructor(e,n){this.component=e,this.route=n}};function aO(t,e,n){let r=t._root,i=e?e._root:null;return Zo(r,i,n,[r.value])}function cO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function bs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!$I(t)?t:e.get(t):r}function Zo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ms(e);return t.children.forEach(o=>{uO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>ta(c,n.getContext(o),i)),i}function uO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=lO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Zo(t,e,c?c.children:null,r,i):Zo(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new _s(c.outlet.component,o))}else o&&ta(e,c,i),i.canActivateChecks.push(new dl(r)),s.component?Zo(t,null,c?c.children:null,r,i):Zo(t,null,n,r,i);return i}function lO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ai(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ai(t.url,e.url)||!an(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eg(t,e)||!an(t.queryParams,e.queryParams);case"paramsChange":default:return!eg(t,e)}}function ta(t,e,n){let r=ms(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ta(o,e.children.getContext(s),n):ta(o,null,n):ta(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new _s(e.outlet.component,i)):n.canDeactivateChecks.push(new _s(null,i)):n.canDeactivateChecks.push(new _s(null,i))}function pa(t){return typeof t=="function"}function dO(t){return typeof t=="boolean"}function hO(t){return t&&pa(t.canLoad)}function fO(t){return t&&pa(t.canActivate)}function pO(t){return t&&pa(t.canActivateChild)}function gO(t){return t&&pa(t.canDeactivate)}function mO(t){return t&&pa(t.canMatch)}function JD(t){return t instanceof wn||t?.name==="EmptyError"}var Zu=Symbol("INITIAL_VALUE");function Cs(){return bt(t=>So(t.map(e=>e.pipe(En(1),Rh(Zu)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Zu)return Zu;if(n===!1||yO(n))return n}return!0}),Ct(e=>e!==Zu),En(1)))}function yO(t){return ci(t)||t instanceof oa}function vO(t,e){return Me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?H(ne(k({},n),{guardsResult:!0})):_O(o,r,i,t).pipe(Me(c=>c&&dO(c)?IO(r,s,t,e):H(c)),ee(c=>ne(k({},n),{guardsResult:c})))})}function _O(t,e,n,r){return Ce(t).pipe(Me(i=>bO(i.component,i.route,n,e,r)),Gt(i=>i!==!0,!0))}function IO(t,e,n,r){return Ce(e).pipe(Gr(i=>zi(EO(i.route.parent,r),wO(i.route,r),CO(t,i.path,n),DO(t,i.route,n))),Gt(i=>i!==!0,!0))}function wO(t,e){return t!==null&&e&&e(new Qp(t)),H(!0)}function EO(t,e){return t!==null&&e&&e(new Wp(t)),H(!0)}function DO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(s=>Hc(()=>{let o=ha(e)??n,c=bs(s,o),u=fO(c)?c.canActivate(e,t):tn(o,()=>c(e,t));return Cr(u).pipe(Gt())}));return H(i).pipe(Cs())}function CO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>cO(o)).filter(o=>o!==null).map(o=>Hc(()=>{let c=o.guards.map(u=>{let d=ha(o.node)??n,f=bs(u,d),g=pO(f)?f.canActivateChild(r,t):tn(d,()=>f(r,t));return Cr(g).pipe(Gt())});return H(c).pipe(Cs())}));return H(s).pipe(Cs())}function bO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return H(!0);let o=s.map(c=>{let u=ha(e)??i,d=bs(c,u),f=gO(d)?d.canDeactivate(t,e,n,r):tn(u,()=>d(t,e,n,r));return Cr(f).pipe(Gt())});return H(o).pipe(Cs())}function TO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let s=i.map(o=>{let c=bs(o,t),u=hO(c)?c.canLoad(e,n):tn(t,()=>c(e,n));return Cr(u)});return H(s).pipe(Cs(),XD(r))}function XD(t){return mh(Ve(e=>{if(typeof e!="boolean")throw ll(t,e)}),ee(e=>e===!0))}function SO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let s=i.map(o=>{let c=bs(o,t),u=mO(c)?c.canMatch(e,n):tn(t,()=>c(e,n));return Cr(u)});return H(s).pipe(Cs(),XD(r))}var aa=class{constructor(e){this.segmentGroup=e||null}},ca=class extends Error{constructor(e){super(),this.urlTree=e}};function gs(t){return Hi(new aa(t))}function AO(t){return Hi(new U(4e3,!1))}function RO(t){return Hi(YD(!1,It.GuardRejected))}var rg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[Y])return AO(`${e.redirectTo}`);i=i.children[Y]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:d,routeConfig:f,url:g,outlet:I,params:C,data:A,title:P}=i,x=tn(s,()=>c({params:C,data:A,queryParams:u,fragment:d,routeConfig:f,url:g,outlet:I,title:P}));if(x instanceof Vn)throw new ca(x);n=x}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ca(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Vn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MO(t,e,n,r,i){let s=eC(t,e,n);return s.matched?(r=XP(e,r),SO(r,e,n,i).pipe(ee(o=>o===!0?s:k({},ig)))):H(s)}function eC(t,e,n){if(e.path==="**")return NO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},ig):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||SP)(n,t,e);if(!i)return k({},ig);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function NO(t){return{matched:!0,parameters:t.length>0?PD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function SD(t,e,n,r){return n.length>0&&OO(t,n,r)?{segmentGroup:new ye(e,PO(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&kO(t,n,r)?{segmentGroup:new ye(t.segments,xO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function xO(t,e,n,r){let i={};for(let s of n)if(pl(t,e,s)&&!r[qt(s)]){let o=new ye([],{});i[qt(s)]=o}return k(k({},r),i)}function PO(t,e){let n={};n[Y]=e;for(let r of t)if(r.path===""&&qt(r)!==Y){let i=new ye([],{});n[qt(r)]=i}return n}function OO(t,e,n){return n.some(r=>pl(t,e,r)&&qt(r)!==Y)}function kO(t,e,n){return n.some(r=>pl(t,e,r))}function pl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FO(t,e,n){return e.length===0&&!t.children[n]}var sg=class{};function VO(t,e,n,r,i,s,o="emptyOnly"){return new og(t,e,n,r,i,o,s).recognize()}var LO=31,og=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new rg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=SD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:n,rootSnapshot:r})=>{let i=new _t(r,n),s=new ul("",i),o=GP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new vs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Y,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Y,n).pipe(ee(r=>({children:r,rootSnapshot:n})),nr(r=>{if(r instanceof ca)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof aa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ee(o=>o instanceof _t?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ce(s).pipe(Gr(o=>{let c=r.children[o],u=eO(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Ah((o,c)=>(o.push(...c),o)),rr(null),Sh(),Me(o=>{if(o===null)return gs(r);let c=tC(o);return UO(c),H(c)}))}processSegment(e,n,r,i,s,o,c){return Ce(n).pipe(Gr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(nr(d=>{if(d instanceof aa)return H(null);throw d}))),Gt(u=>!!u),nr(u=>{if(JD(u))return FO(r,i,s)?H(new sg):gs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return qt(r)!==o&&(o===Y||!pl(i,s,r))?gs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):gs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:I}=eC(n,i,s);if(!u)return gs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LO&&(this.allowRedirects=!1));let C=new vs(s,d,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,AD(i),qt(i),i.component??i._loadedComponent??null,i,RD(i)),A=cl(C,c,this.paramsInheritanceStrategy);C.params=Object.freeze(A.params),C.data=Object.freeze(A.data);let P=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,C,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(Me(x=>this.processSegment(e,r,n,x.concat(I),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=MO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bt(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:I,remainingSegments:C}=u,A=new vs(I,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,AD(r),qt(r),r.component??r._loadedComponent??null,r,RD(r)),P=cl(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data);let{segmentGroup:x,slicedSegments:F}=SD(n,I,C,d);if(F.length===0&&x.hasChildren())return this.processChildren(f,d,x,A).pipe(ee(Z=>new _t(A,Z)));if(d.length===0&&F.length===0)return H(new _t(A,[]));let Q=qt(r)===s;return this.processSegment(f,d,x,F,Q?Y:s,!0,A).pipe(ee(Z=>new _t(A,Z instanceof _t?[Z]:[])))}))):gs(n)))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):TO(e,n,r,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):RO(n))):H({routes:[],injector:e})}};function UO(t){t.sort((e,n)=>e.value.outlet===Y?-1:n.value.outlet===Y?1:e.value.outlet.localeCompare(n.value.outlet))}function jO(t){let e=t.value.routeConfig;return e&&e.path===""}function tC(t){let e=[],n=new Set;for(let r of t){if(!jO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tC(r.children);e.push(new _t(r.value,i))}return e.filter(r=>!n.has(r))}function AD(t){return t.data||{}}function RD(t){return t.resolve||{}}function BO(t,e,n,r,i,s){return Me(o=>VO(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:c,tree:u})=>ne(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function $O(t,e){return Me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of nC(u))o.add(d);let c=0;return Ce(o).pipe(Gr(u=>s.has(u)?HO(u,r,t,e):(u.data=cl(u,u.parent,t).resolve,H(void 0))),Ve(()=>c++),Gi(1),Me(u=>c===o.size?H(n):mt))})}function nC(t){let e=t.children.map(n=>nC(n)).flat();return[t,...e]}function HO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!KD(i)&&(s[la]=i.title),qO(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=cl(t,t.parent,n).resolve,null)))}function qO(t,e,n,r){let i=Vp(t);if(i.length===0)return H({});let s={};return Ce(i).pipe(Me(o=>zO(t[o],e,n,r).pipe(Gt(),Ve(c=>{if(c instanceof oa)throw ll(new ws,c);s[o]=c}))),Gi(1),Th(s),nr(o=>JD(o)?mt:Hi(o)))}function zO(t,e,n,r){let i=ha(e)??r,s=bs(t,i),o=s.resolve?s.resolve(e,n):tn(i,()=>s(e,n));return Cr(o)}function kp(t){return bt(e=>{let n=t(e);return n?Ce(n).pipe(ee(()=>e)):H(e)})}var rC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Y);return r}getResolvedTitleForRoute(n){return n.data[la]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>M(GO),providedIn:"root"})}}return t})(),GO=(()=>{class t extends rC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(z(wD))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ga=new V("",{providedIn:"root",factory:()=>({})}),WO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Mt({type:t,selectors:[["ng-component"]],standalone:!0,features:[Pt],decls:1,vars:0,template:function(r,i){r&1&&xt(0,"router-outlet")},dependencies:[ug],encapsulation:2})}}return t})();function lg(t){let e=t.children&&t.children.map(lg),n=e?ne(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Y&&(n.component=WO),n}var ua=new V(""),dg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(zu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return H(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Cr(n.loadComponent()).pipe(ee(iC),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ao(()=>{this.componentLoaders.delete(n)})),i=new Ui(r,()=>new Ue).pipe(Li());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=KO(r,this.compiler,n,this.onLoadEndListener).pipe(Ao(()=>{this.childrenLoaders.delete(r)})),o=new Ui(s,()=>new Ue).pipe(Li());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function KO(t,e,n,r){return Cr(t.loadChildren()).pipe(ee(iC),Me(i=>i instanceof ko||Array.isArray(i)?H(i):Ce(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(ua,[],{optional:!0,self:!0}).flat()),{routes:o.map(lg),injector:s}}))}function QO(t){return t&&typeof t=="object"&&"default"in t}function iC(t){return QO(t)?t.default:t}var hg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>M(YO),providedIn:"root"})}}return t})(),YO=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sC=new V(""),oC=new V("");function ZO(t,e,n){let r=t.get(oC),i=t.get(ft);return t.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),c=i.startViewTransition(()=>(s(),JO(t))),{onViewTransitionCreated:u}=r;return u&&tn(t,()=>u({transition:c,from:e,to:n})),o})}function JO(t){return new Promise(e=>{pp({read:()=>setTimeout(e)},{injector:t})})}var XO=new V(""),fg=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ue,this.transitionAbortSubject=new Ue,this.configLoader=M(dg),this.environmentInjector=M(yt),this.urlSerializer=M(da),this.rootContexts=M(fa),this.location=M(ps),this.inputBindingEnabled=M(fl,{optional:!0})!==null,this.titleStrategy=M(rC),this.options=M(ga,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(hg),this.createViewTransition=M(sC,{optional:!0}),this.navigationErrorHandler=M(XO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null;let n=i=>this.events.next(new zp(i)),r=i=>this.events.next(new Gp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ne(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ke({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ea,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(s=>s.id!==0),ee(s=>ne(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),bt(s=>{let o=!1,c=!1;return H(s).pipe(bt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),mt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ne(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new Er(u.id,this.urlSerializer.serialize(u.rawUrl),g,rl.IgnoredSameUrlNavigation)),u.resolve(!1),mt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return H(u).pipe(bt(g=>{let I=this.transitions?.getValue();return this.events.next(new Es(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),I!==this.transitions?.getValue()?mt:Promise.resolve(g)}),BO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ne(k({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let I=new il(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(I)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:I,source:C,restoredState:A,extras:P}=u,x=new Es(g,this.urlSerializer.serialize(I),C,A);this.events.next(x);let F=GD(this.rootComponentType).snapshot;return this.currentTransition=s=ne(k({},u),{targetSnapshot:F,urlAfterRedirects:I,extras:ne(k({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,H(s)}else{let g="";return this.events.next(new Er(u.id,this.urlSerializer.serialize(u.extractedUrl),g,rl.IgnoredByUrlHandlingStrategy)),u.resolve(!1),mt}}),Ve(u=>{let d=new Bp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ee(u=>(this.currentTransition=s=ne(k({},u),{guards:aO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),vO(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ll(this.urlSerializer,u.guardsResult);let d=new $p(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Ct(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",It.GuardRejected),!1)),kp(u=>{if(u.guards.canActivateChecks.length)return H(u).pipe(Ve(d=>{let f=new Hp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),bt(d=>{let f=!1;return H(d).pipe($O(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",It.NoDataFromResolver)}}))}),Ve(d=>{let f=new qp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),kp(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ve(I=>{f.component=I}),ee(()=>{})));for(let I of f.children)g.push(...d(I));return g};return So(d(u.targetSnapshot.root)).pipe(rr(null),En(1))}),kp(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Ce(f).pipe(ee(()=>s)):H(s)}),ee(u=>{let d=nO(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ne(k({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Ve(()=>{this.events.next(new ia)}),oO(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),En(1),Ve({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Mh(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),Ao(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(u=>{if(c=!0,ZD(u))this.events.next(new Fn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),sO(u)?this.events.next(new Ds(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new ra(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=tn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof oa){let{message:g,cancellationCode:I}=ll(this.urlSerializer,f);this.events.next(new Fn(s.id,this.urlSerializer.serialize(s.extractedUrl),g,I)),this.events.next(new Ds(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return mt}))}))}cancelNavigationTransition(n,r,i){let s=new Fn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ek(t){return t!==ea}var tk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>M(nk),providedIn:"root"})}}return t})(),ag=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},nk=(()=>{class t extends ag{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yr(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>M(rk),providedIn:"root"})}}return t})(),rk=(()=>{class t extends aC{constructor(){super(...arguments),this.location=M(ps),this.urlSerializer=M(da),this.options=M(ga,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(hg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Es)this.stateMemento=this.createStateMemento();else if(n instanceof Er)this.rawUrlTree=r.initialUrl;else if(n instanceof il){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ia?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Fn&&(n.code===It.GuardRejected||n.code===It.NoDataFromResolver)?this.restoreHistory(r):n instanceof ra?this.restoreHistory(r,!0):n instanceof cn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Vn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yr(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Jo||{});function cC(t,e){t.events.pipe(Ct(n=>n instanceof cn||n instanceof Fn||n instanceof ra||n instanceof Er),ee(n=>n instanceof cn||n instanceof Er?Jo.COMPLETE:(n instanceof Fn?n.code===It.Redirect||n.code===It.SupersededByNewNavigation:!1)?Jo.REDIRECTING:Jo.FAILED),Ct(n=>n!==Jo.REDIRECTING),En(1)).subscribe(()=>{e()})}function ik(t){throw t}var sk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ok={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=M($u),this.stateManager=M(aC),this.options=M(ga,{optional:!0})||{},this.pendingTasks=M(hs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(fg),this.urlSerializer=M(da),this.location=M(ps),this.urlHandlingStrategy=M(hg),this._events=new Ue,this.errorHandler=this.options.errorHandler||ik,this.navigated=!1,this.routeReuseStrategy=M(tk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(ua,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(fl,{optional:!0}),this.eventsSubscription=new Te,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Fn&&r.code!==It.Redirect&&r.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cn)this.navigated=!0;else if(r instanceof Ds){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ek(i.source)},o);this.scheduleNavigation(c,ea,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ck(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(lg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let I=i?i.snapshot:this.routerState.snapshot.root;g=$D(I)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return HD(g,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ci(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ea,null,r)}navigate(n,r={skipLocationChange:!1}){return ak(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},sk):r===!1?i=k({},ok):i=r,ci(n))return ED(this.currentUrlTree,n,i);let s=this.parseUrl(n);return ED(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,I)=>{c=g,u=I});let f=this.pendingTasks.add();return cC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ak(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function ck(t){return!(t instanceof ia)&&!(t instanceof Ds)}var Ts=(()=>{class t{constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new Ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof cn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ci(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:iE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:ci(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(X(zt),X(Dr),Qf("tabindex"),X(Mn),X(nn),X(kn))}}static{this.\u0275dir=xe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&on("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&zo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",wr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",wr],replaceUrl:[2,"replaceUrl","replaceUrl",wr],routerLink:"routerLink"},standalone:!0,features:[fp,fr]})}}return t})();var hl=class{};var uk=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(n=>n instanceof cn),Gr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Uu(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ce(i).pipe(qi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=H(null);let s=i.pipe(Me(o=>o===null?H(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ce([s,o]).pipe(qi())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(z(zt),z(zu),z(yt),z(hl),z(dg))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uC=new V(""),lk=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Es?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof cn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Er&&n.code===rl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof sl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){yE()}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function lC(t,...e){return en([{provide:ua,multi:!0,useValue:t},[],{provide:Dr,useFactory:dC,deps:[zt]},{provide:qu,multi:!0,useFactory:hC},e.map(n=>n.\u0275providers)])}function dC(t){return t.routerState.root}function ma(t,e){return{\u0275kind:t,\u0275providers:e}}function hC(){let t=M(Qe);return e=>{let n=t.get(ii);if(e!==n.components[0])return;let r=t.get(zt),i=t.get(fC);t.get(pg)===1&&r.initialNavigation(),t.get(pC,null,J.Optional)?.setUpPreloading(),t.get(uC,null,J.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fC=new V("",{factory:()=>new Ue}),pg=new V("",{providedIn:"root",factory:()=>1});function dk(){return ma(2,[{provide:pg,useValue:0},{provide:Hu,multi:!0,deps:[Qe],useFactory:e=>{let n=e.get(oD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(zt),s=e.get(fC);cC(i,()=>{r(!0)}),e.get(fg).afterPreactivation=()=>(r(!0),s.closed?H(void 0):s),i.initialNavigation()}))}}])}function hk(){return ma(3,[{provide:Hu,multi:!0,useFactory:()=>{let e=M(zt);return()=>{e.setUpLocationChangeListener()}}},{provide:pg,useValue:2}])}var pC=new V("");function fk(t){return ma(0,[{provide:pC,useExisting:uk},{provide:hl,useExisting:t}])}function pk(){return ma(8,[TD,{provide:fl,useExisting:TD}])}function gk(t){let e=[{provide:sC,useValue:ZO},{provide:oC,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return ma(9,e)}var MD=new V("ROUTER_FORROOT_GUARD"),mk=[ps,{provide:da,useClass:ws},zt,fa,{provide:Dr,useFactory:dC,deps:[zt]},dg,[]],Ss=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[mk,[],{provide:ua,multi:!0,useValue:n},{provide:MD,useFactory:Ik,deps:[[zt,new ct,new QI]]},{provide:ga,useValue:r||{}},r?.useHash?vk():_k(),yk(),r?.preloadingStrategy?fk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wk(r):[],r?.bindToComponentInputs?pk().\u0275providers:[],r?.enableViewTransitions?gk().\u0275providers:[],Ek()]}}static forChild(n){return{ngModule:t,providers:[{provide:ua,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(z(MD,8))}}static{this.\u0275mod=hr({type:t})}static{this.\u0275inj=dr({})}}return t})();function yk(){return{provide:uC,useFactory:()=>{let t=M(dD),e=M(me),n=M(ga),r=M(fg),i=M(da);return n.scrollOffset&&t.setOffset(n.scrollOffset),new lk(i,r,t,e,n)}}}function vk(){return{provide:kn,useClass:cD}}function _k(){return{provide:kn,useClass:wp}}function Ik(t){return"guarded"}function wk(t){return[t.initialNavigation==="disabled"?hk().\u0275providers:[],t.initialNavigation==="enabledBlocking"?dk().\u0275providers:[]]}var ND=new V("");function Ek(){return[{provide:ND,useFactory:hC},{provide:qu,multi:!0,useExisting:ND}]}var mC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,I=(c&15)<<2|d>>6,C=d&63;u||(C=64,o||(I=64)),r.push(n[f],n[g],n[I],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new yg;let I=s<<2|c>>4;if(r.push(I),d!==64){let C=c<<4&240|d>>2;if(r.push(C),g!==64){let A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ck=function(t){let e=mC(t);return yC.encodeByteArray(e,!0)},ya=function(t){return Ck(t).replace(/\./g,"")},_g=function(t){try{return yC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Tk=()=>bk().__FIREBASE_DEFAULTS__,Sk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ak=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&_g(t[1]);return e&&JSON.parse(e)},ml=()=>{try{return Tk()||Sk()||Ak()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ig=t=>{var e,n;return(n=(e=ml())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vC=t=>{let e=Ig(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wg=()=>{var t;return(t=ml())===null||t===void 0?void 0:t.config},Eg=t=>{var e;return(e=ml())===null||e===void 0?void 0:e[`_${t}`]};var gl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function _C(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ya(JSON.stringify(n)),ya(JSON.stringify(o)),""].join(".")}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Rk(){var t;let e=(t=ml())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CC(){let t=$e();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bC(){return!Rk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dg(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Mk="FirebaseError",wt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Mk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}},Ln=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Nk(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new wt(i,c,r)}};function Nk(t,e){return t.replace(xk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var xk=/\{\$([^}]+)}/g;function SC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ui(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(gC(s)&&gC(o)){if(!ui(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function gC(t){return t!==null&&typeof t=="object"}function va(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AC(t,e){let n=new vg(t,e);return n.subscribe.bind(n)}var vg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Pk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mg),i.error===void 0&&(i.error=mg),i.complete===void 0&&(i.complete=mg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Pk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mg(){}var PG=4*60*60*1e3;function kt(t){return t&&t._delegate?t._delegate:t}var Ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var li="[DEFAULT]";var Cg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new gl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kk(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ok(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ok(t){return t===li?void 0:t}function kk(t){return t.instantiationMode==="EAGER"}var yl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Cg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Fk=[],se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{}),Vk={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Lk=se.INFO,Uk={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},jk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Uk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},br=class{constructor(e){this.name=e,this._logLevel=Lk,this._logHandler=jk,this._userLogHandler=null,Fk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var Bk=(t,e)=>e.some(n=>t instanceof n),RC,MC;function $k(){return RC||(RC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hk(){return MC||(MC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NC=new WeakMap,Tg=new WeakMap,xC=new WeakMap,bg=new WeakMap,Ag=new WeakMap;function qk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(un(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NC.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function zk(t){if(Tg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tg.set(t,e)}var Sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PC(t){Sg=t(Sg)}function Gk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(vl(this),e,...n);return xC.set(r,e.sort?e.sort():[e]),un(r)}:Hk().includes(t)?function(...e){return t.apply(vl(this),e),un(NC.get(this))}:function(...e){return un(t.apply(vl(this),e))}}function Wk(t){return typeof t=="function"?Gk(t):(t instanceof IDBTransaction&&zk(t),Bk(t,$k())?new Proxy(t,Sg):t)}function un(t){if(t instanceof IDBRequest)return qk(t);if(bg.has(t))return bg.get(t);let e=Wk(t);return e!==t&&(bg.set(t,e),Ag.set(e,t)),e}var vl=t=>Ag.get(t);function kC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=un(o);return r&&o.addEventListener("upgradeneeded",u=>{r(un(o.result),u.oldVersion,u.newVersion,un(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var Kk=["get","getKey","getAll","getAllKeys","count"],Qk=["put","add","delete","clear"],Rg=new Map;function OC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Qk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kk.includes(n)))return;let s=function(o,...c){return _(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return Rg.set(e,s),s}PC(t=>ne(k({},t),{get:(e,n,r)=>OC(e,n)||t.get(e,n,r),has:(e,n)=>!!OC(e,n)||t.has(e,n)}));var Ng=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Yk(t){let e=t.getComponent();return e?.type==="VERSION"}var xg="@firebase/app",FC="0.10.13";var Un=new br("@firebase/app"),Zk="@firebase/app-compat",Jk="@firebase/analytics-compat",Xk="@firebase/analytics",e1="@firebase/app-check-compat",t1="@firebase/app-check",n1="@firebase/auth",r1="@firebase/auth-compat",i1="@firebase/database",s1="@firebase/data-connect",o1="@firebase/database-compat",a1="@firebase/functions",c1="@firebase/functions-compat",u1="@firebase/installations",l1="@firebase/installations-compat",d1="@firebase/messaging",h1="@firebase/messaging-compat",f1="@firebase/performance",p1="@firebase/performance-compat",g1="@firebase/remote-config",m1="@firebase/remote-config-compat",y1="@firebase/storage",v1="@firebase/storage-compat",_1="@firebase/firestore",I1="@firebase/vertexai-preview",w1="@firebase/firestore-compat",E1="firebase",D1="10.14.1";var Pg="[DEFAULT]",C1={[xg]:"fire-core",[Zk]:"fire-core-compat",[Xk]:"fire-analytics",[Jk]:"fire-analytics-compat",[t1]:"fire-app-check",[e1]:"fire-app-check-compat",[n1]:"fire-auth",[r1]:"fire-auth-compat",[i1]:"fire-rtdb",[s1]:"fire-data-connect",[o1]:"fire-rtdb-compat",[a1]:"fire-fn",[c1]:"fire-fn-compat",[u1]:"fire-iid",[l1]:"fire-iid-compat",[d1]:"fire-fcm",[h1]:"fire-fcm-compat",[f1]:"fire-perf",[p1]:"fire-perf-compat",[g1]:"fire-rc",[m1]:"fire-rc-compat",[y1]:"fire-gcs",[v1]:"fire-gcs-compat",[_1]:"fire-fst",[w1]:"fire-fst-compat",[I1]:"fire-vertex","fire-js":"fire-js",[E1]:"fire-js-all"};var _a=new Map,b1=new Map,Og=new Map;function VC(t,e){try{t.container.addComponent(e)}catch(n){Un.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){let e=t.name;if(Og.has(e))return Un.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,t);for(let n of _a.values())VC(n,t);for(let n of b1.values())VC(n,t);return!0}function wa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ln(t){return t.settings!==void 0}var T1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Ln("app","Firebase",T1);var kg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}};var Ar=D1;function _l(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=wg()),!n)throw Tr.create("no-options");let s=_a.get(i);if(s){if(ui(n,s.options)&&ui(r,s.config))return s;throw Tr.create("duplicate-app",{appName:i})}let o=new yl(i);for(let u of Og.values())o.addComponent(u);let c=new kg(n,r,o);return _a.set(i,c),c}function As(t=Pg){let e=_a.get(t);if(!e&&t===Pg&&wg())return _l();if(!e)throw Tr.create("no-app",{appName:t});return e}function Il(){return Array.from(_a.values())}function Le(t,e,n){var r;let i=(r=C1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Un.warn(c.join(" "));return}Sr(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var S1="firebase-heartbeat-database",A1=1,Ia="firebase-heartbeat-store",Mg=null;function BC(){return Mg||(Mg=kC(S1,A1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Mg}function R1(t){return _(this,null,function*(){try{let n=(yield BC()).transaction(Ia),r=yield n.objectStore(Ia).get($C(t));return yield n.done,r}catch(e){if(e instanceof wt)Un.warn(e.message);else{let n=Tr.create("idb-get",{originalErrorMessage:e?.message});Un.warn(n.message)}}})}function LC(t,e){return _(this,null,function*(){try{let r=(yield BC()).transaction(Ia,"readwrite");yield r.objectStore(Ia).put(e,$C(t)),yield r.done}catch(n){if(n instanceof wt)Un.warn(n.message);else{let r=Tr.create("idb-set",{originalErrorMessage:n?.message});Un.warn(r.message)}}})}function $C(t){return`${t.name}!${t.options.appId}`}var M1=1024,N1=30*24*60*60*1e3,Fg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Vg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=UC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=N1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Un.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=UC(),{heartbeatsToSend:r,unsentEntries:i}=x1(this._heartbeatsCache.heartbeats),s=ya(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Un.warn(n),""}})}};function UC(){return new Date().toISOString().substring(0,10)}function x1(t,e=M1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Vg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Dg()?TC().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield R1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function jC(t){return ya(JSON.stringify({version:2,heartbeats:t})).length}function P1(t){Sr(new Ft("platform-logger",e=>new Ng(e),"PRIVATE")),Sr(new Ft("heartbeat",e=>new Fg(e),"PRIVATE")),Le(xg,FC,t),Le(xg,FC,"esm2017"),Le("fire-js","")}P1("");var O1="firebase",k1="10.14.1";Le(O1,k1,"app");var hi=new Tn("ANGULARFIRE2_VERSION");function El(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ea=(t,e)=>{let n=e?[e]:Il(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ms=class{constructor(){return Ea(F1)}},F1="app-check";function Rs(){}var wl=class{zone;delegate;constructor(e,n=Eh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Lg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ns=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new wl(Zone.current)),this.insideAngular=n.run(()=>new wl(Zone.current,wh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(z(me))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function V1(t){return Dl().ngZone.runOutsideAngular(()=>t())}function di(t){return Dl().ngZone.run(()=>t())}function L1(t){return U1(Dl())(t)}function U1(t){return function(n){return n=n.lift(new Lg(t.ngZone)),n.pipe(tr(t.outsideAngular),er(t.insideAngular))}}var j1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),di(()=>t.apply(void 0,r))},Rr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=di(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs))),r[s]=j1(r[s],n));let i=V1(()=>t.apply(this,r));if(!e)if(i instanceof ce){let s=Dl();return i.pipe(tr(s.outsideAngular),er(s.insideAngular))}else return di(()=>i);return i instanceof ce?i.pipe(L1):i instanceof Promise?di(()=>new Promise((s,o)=>i.then(c=>di(()=>s(c)),c=>di(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:di(()=>i)};var jn=class{constructor(e){return e}},fi=class{constructor(){return Il()}};function B1(t){return t&&t.length===1?t[0]:new jn(As())}var Ug=new V("angularfire2._apps"),$1={provide:jn,useFactory:B1,deps:[[new ct,Ug]]},H1={provide:fi,deps:[[new ct,Ug]]};function q1(t){return(e,n)=>{let r=n.get(rn);Le("angularfire",hi.full,"core"),Le("angularfire",hi.full,"app"),Le("angular",GE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new jn(i)}}function HC(t,...e){return en([$1,H1,{provide:Ug,useFactory:q1(t),multi:!0,deps:[me,Qe,Ns,...e]}])}function ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ab=ob,cb=new Ln("auth","Firebase",ob());var Rl=new br("@firebase/auth");function z1(t,...e){Rl.logLevel<=se.WARN&&Rl.warn(`Auth (${Ar}): ${t}`,...e)}function bl(t,...e){Rl.logLevel<=se.ERROR&&Rl.error(`Auth (${Ar}): ${t}`,...e)}function xr(t,...e){throw am(t,...e)}function pi(t,...e){return am(t,...e)}function ub(t,e,n){let r=Object.assign(Object.assign({},ab()),{[e]:n});return new Ln("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return ub(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function am(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cb.create(t,...e)}function G(t,e,...n){if(!t)throw am(e,...n)}function Bn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw bl(e),new Error(e)}function Pr(t,e){t||Bn(e)}function Hg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function G1(){return qC()==="http:"||qC()==="https:"}function qC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function W1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G1()||EC()||"connection"in navigator)?navigator.onLine:!0}function K1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var gi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=IC()||DC()}get(){return W1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cm(t,e){Pr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ml=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Q1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Y1=new gi(3e4,6e4);function Aa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function yi(s,o,c,u){return _(this,arguments,function*(t,e,n,r,i={}){return lb(t,i,()=>_(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=va(Object.assign({key:t.config.apiKey},f)).slice(1),I=yield t._getAdditionalHeaders();I["Content-Type"]="application/json",t.languageCode&&(I["X-Firebase-Locale"]=t.languageCode);let C=Object.assign({method:e,headers:I},d);return wC()||(C.referrerPolicy="no-referrer"),Ml.fetch()(hb(t,t.config.apiHost,n,g),C)}))})}function lb(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Q1),e);try{let i=new qg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Cl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Cl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Cl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ub(t,f,d);xr(t,f)}}catch(i){if(i instanceof wt)throw i;xr(t,"network-request-failed",{message:String(i)})}})}function db(s,o,c,u){return _(this,arguments,function*(t,e,n,r,i={}){let d=yield yi(t,e,n,r,i);return"mfaPendingCredential"in d&&xr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function hb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?cm(t.config,i):`${t.config.apiScheme}://${i}`}function Z1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var qg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),Y1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Cl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=pi(t,e,r);return i.customData._tokenResponse=n,i}function zC(t){return t!==void 0&&t.enterprise!==void 0}var zg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Z1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function J1(t,e){return _(this,null,function*(){return yi(t,"GET","/v2/recaptchaConfig",Aa(t,e))})}function X1(t,e){return _(this,null,function*(){return yi(t,"POST","/v1/accounts:delete",e)})}function fb(t,e){return _(this,null,function*(){return yi(t,"POST","/v1/accounts:lookup",e)})}function Da(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function um(t,e=!1){return _(this,null,function*(){let n=kt(t),r=yield n.getIdToken(e),i=lm(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Da(jg(i.auth_time)),issuedAtTime:Da(jg(i.iat)),expirationTime:Da(jg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function jg(t){return Number(t)*1e3}function lm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bl("JWT malformed, contained fewer than 3 sections"),null;try{let i=_g(n);return i?JSON.parse(i):(bl("Failed to decode base64 JWT payload"),null)}catch(i){return bl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function GC(t){let e=lm(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ba(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof wt&&eF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function eF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ta=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Da(this.lastLoginAt),this.creationTime=Da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nl(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ba(t,fb(n,{idToken:r}));G(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pb(s.providerUserInfo):[],c=tF(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!c?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ta(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function dm(t){return _(this,null,function*(){let e=kt(t);yield Nl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function tF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pb(t){return t.map(e=>{var{providerId:n}=e,r=Dh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function nF(t,e){return _(this,null,function*(){let n=yield lb(t,{},()=>_(this,null,function*(){let r=va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=hb(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ml.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function rF(t,e){return _(this,null,function*(){return yi(t,"POST","/v2/accounts:revokeToken",Aa(t,e))})}var Ca=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");let n=GC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield nF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Bn("not implemented")}};function Mr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Dh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ta(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield ba(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return um(this,e)}reload(){return dm(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Nl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(ln(this.auth.app))return Promise.reject(Nr(this.auth));let e=yield this.getIdToken();return yield ba(this,X1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,C=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=n.createdAt)!==null&&d!==void 0?d:void 0,Q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:ge,isAnonymous:Ge,providerData:fe,stsTokenManager:E}=n;G(Z&&E,e,"internal-error");let m=Ca.fromJSON(this.name,E);G(typeof Z=="string",e,"internal-error"),Mr(g,e.name),Mr(I,e.name),G(typeof ge=="boolean",e,"internal-error"),G(typeof Ge=="boolean",e,"internal-error"),Mr(C,e.name),Mr(A,e.name),Mr(P,e.name),Mr(x,e.name),Mr(F,e.name),Mr(Q,e.name);let y=new t({uid:Z,auth:e,email:I,emailVerified:ge,displayName:g,isAnonymous:Ge,photoURL:A,phoneNumber:C,tenantId:P,stsTokenManager:m,createdAt:F,lastLoginAt:Q});return fe&&Array.isArray(fe)&&(y.providerData=fe.map(w=>Object.assign({},w))),x&&(y._redirectEventId=x),y}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Ca;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];G(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?pb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ca;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ta(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var WC=new Map;function $n(t){Pr(t instanceof Function,"Expected a class definition");let e=WC.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WC.set(t,e),e)}var iF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Wg=iF;function Tl(t,e,n){return`firebase:${t}:${e}:${n}`}var xl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Tl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t($n(Wg),e,r);let i=(yield Promise.all(n.map(d=>_(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||$n(Wg),o=Tl(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(o);if(f){let g=xs._fromJSON(e,f);d!==s&&(c=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(d=>_(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function KC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ib(e))return"Blackberry";if(wb(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||yb(e))&&!e.includes("edge/"))return"Chrome";if(_b(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function gb(t=$e()){return/firefox\//i.test(t)}function mb(t=$e()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yb(t=$e()){return/crios\//i.test(t)}function vb(t=$e()){return/iemobile/i.test(t)}function _b(t=$e()){return/android/i.test(t)}function Ib(t=$e()){return/blackberry/i.test(t)}function wb(t=$e()){return/webos/i.test(t)}function hm(t=$e()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sF(t=$e()){var e;return hm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oF(){return CC()&&document.documentMode===10}function Eb(t=$e()){return hm(t)||_b(t)||wb(t)||Ib(t)||/windows phone/i.test(t)||vb(t)}function Db(t,e=[]){let n;switch(t){case"Browser":n=KC($e());break;case"Worker":n=`${KC($e())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ar}/${r}`}var Kg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function aF(n){return _(this,arguments,function*(t,e={}){return yi(t,"GET","/v2/passwordPolicy",Aa(t,e))})}var cF=6,Qg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:cF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Yg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pl(this),this.idTokenSubscription=new Pl(this),this.beforeStateQueue=new Kg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield xl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield fb(this,{idToken:e}),r=yield xs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(ln(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Nl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=K1()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(ln(this.app))return Promise.reject(Nr(this));let n=e?kt(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return ln(this.app)?Promise.reject(Nr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ln(this.app)?Promise.reject(Nr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence($n(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield aF(this),n=new Qg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield rF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&$n(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield xl.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&z1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Os(t){return kt(t)}var Pl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AC(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var jl={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uF(t){jl=t}function Cb(t){return jl.loadJS(t)}function lF(){return jl.recaptchaEnterpriseScript}function dF(){return jl.gapiScript}function bb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var hF="recaptcha-enterprise",fF="NO_RECAPTCHA",Zg=class{constructor(e){this.type=hF,this.auth=Os(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>_(this,null,function*(){J1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let d=new zg(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{c(u)})}))})}function i(s,o,c){let u=window.grecaptcha;zC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(fF)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&zC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=lF();u.length!==0&&(u+=c),Cb(u).then(()=>{i(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})})}};function QC(t,e,n,r=!1){return _(this,null,function*(){let i=new Zg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function pF(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield QC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield QC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function fm(t,e){let n=wa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ui(s,e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}function gF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($n);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function pm(t,e,n){let r=Os(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=Tb(e),{host:o,port:c}=mF(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||yF()}function Tb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mF(t){let e=Tb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:YC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:YC(o)}}}function YC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function yF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ol=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,n){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}};function Bg(t,e){return _(this,null,function*(){return db(t,"POST","/v1/accounts:signInWithIdp",Aa(t,e))})}var kl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Jg=class extends kl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function vF(t,e){return _(this,null,function*(){return db(t,"POST","/v1/accounts:signUp",Aa(t,e))})}var Ps=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield xs._fromIdTokenResponse(e,r,i),o=ZC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ZC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function ZC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Xg=class t extends wt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Sb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xg._fromErrorAndOperation(t,s,e,r):s})}function _F(t,e,n=!1){return _(this,null,function*(){let r=yield ba(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ps._forOperation(t,"link",r)})}function IF(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(ln(r.app))return Promise.reject(Nr(r));let i="reauthenticate";try{let s=yield ba(t,Sb(r,i,e,t),n);G(s.idToken,r,"internal-error");let o=lm(s.idToken);G(o,r,"internal-error");let{sub:c}=o;return G(t.uid===c,r,"user-mismatch"),Ps._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&xr(r,"user-mismatch"),s}})}function wF(t,e,n=!1){return _(this,null,function*(){if(ln(t.app))return Promise.reject(Nr(t));let r="signIn",i=yield Sb(t,r,e),s=yield Ps._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function EF(t){return _(this,null,function*(){let e=Os(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function gm(t,e,n){return _(this,null,function*(){if(ln(t.app))return Promise.reject(Nr(t));let r=Os(t),o=yield pF(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vF).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&EF(t),u}),c=yield Ps._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function mm(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function ym(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}var Fl="__sak";var Vl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fl,"1"),this.storage.removeItem(Fl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var DF=1e3,CF=10,bF=(()=>{class t extends Vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Eb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);oF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,CF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},DF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Jn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Jn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Jn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Ab=bF;var TF=(()=>{class t extends Vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),vm=TF;function SF(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var AF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>_(this,null,function*(){return f(r.origin,o)})),d=yield SF(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Rb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var em=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let d=Rb("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let I=g;if(I.data.eventId===d)switch(I.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(I.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function dn(){return window}function RF(t){dn().location.href=t}function Mb(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}function MF(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function NF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xF(){return Mb()?self:null}var Nb="firebaseLocalStorageDb",PF=1,Ll="firebaseLocalStorage",xb="fbase_key",mi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Bl(t,e){return t.transaction([Ll],e?"readwrite":"readonly").objectStore(Ll)}function OF(){let t=indexedDB.deleteDatabase(Nb);return new mi(t).toPromise()}function tm(){let t=indexedDB.open(Nb,PF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ll,{keyPath:xb})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ll)?e(r):(r.close(),yield OF(),e(yield tm()))}))})}function JC(t,e,n){return _(this,null,function*(){let r=Bl(t,!0).put({[xb]:e,value:n});return new mi(r).toPromise()})}function kF(t,e){return _(this,null,function*(){let n=Bl(t,!1).get(e),r=yield new mi(n).toPromise();return r===void 0?null:r.value})}function XC(t,e){let n=Bl(t,!0).delete(e);return new mi(n).toPromise()}var FF=800,VF=3,LF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield tm(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>VF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return Mb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=AF._getInstance(xF()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield MF(),!this.activeServiceWorker)return;this.sender=new em(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||NF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield tm();return yield JC(n,Fl,"1"),yield XC(n,Fl),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>JC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>kF(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>XC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=Bl(s,!1).getAll();return new mi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),FF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Pb=LF;var A3=bb("rcb"),R3=new gi(3e4,6e4);function UF(t,e){return e?$n(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Sa=class extends Ol{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function jF(t){return wF(t.auth,new Sa(t),t.bypassAuthState)}function BF(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),IF(n,new Sa(t),t.bypassAuthState)}function $F(t){return _(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),_F(n,new Sa(t),t.bypassAuthState)})}var nm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jF;case"linkViaPopup":case"linkViaRedirect":return $F;case"reauthViaPopup":case"reauthViaRedirect":return BF;default:xr(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var M3=new gi(2e3,1e4);var HF="pendingRedirect",Sl=new Map,rm=class t extends nm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Sl.get(this.auth._key());if(!e){try{let r=(yield qF(this.resolver,this.auth))?yield Jn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sl.set(this.auth._key(),e)}return this.bypassAuthState||Sl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Jn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Jn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function qF(t,e){return _(this,null,function*(){let n=WF(e),r=GF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function zF(t,e){Sl.set(t._key(),e)}function GF(t){return $n(t._redirectPersistence)}function WF(t){return Tl(HF,t.config.apiKey,t.name)}function KF(t,e,n=!1){return _(this,null,function*(){if(ln(t.app))return Promise.reject(Nr(t));let r=Os(t),i=UF(r,e),o=yield new rm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var QF=10*60*1e3,im=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ob(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QF&&this.cachedEventUids.clear(),this.cachedEventUids.has(eb(e))}saveEventToCache(e){this.cachedEventUids.add(eb(e)),this.lastProcessedEventTime=Date.now()}};function eb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ob({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(t);default:return!1}}function ZF(n){return _(this,arguments,function*(t,e={}){return yi(t,"GET","/v1/projects",e)})}var JF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XF=/^https?/;function eV(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield ZF(t);for(let n of e)try{if(tV(n))return}catch{}xr(t,"unauthorized-domain")})}function tV(t){let e=Hg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!XF.test(n))return!1;if(JF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var nV=new gi(3e4,6e4);function tb(){let t=dn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rV(t){return new Promise((e,n)=>{var r,i,s;function o(){tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tb(),n(pi(t,"network-request-failed"))},timeout:nV.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dn().gapi)===null||s===void 0)&&s.load)o();else{let c=bb("iframefcb");return dn()[c]=()=>{gapi.load?o():n(pi(t,"network-request-failed"))},Cb(`${dF()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Al=null,e})}var Al=null;function iV(t){return Al=Al||rV(t),Al}var sV=new gi(5e3,15e3),oV="__/auth/iframe",aV="emulator/auth/iframe",cV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lV(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?cm(e,aV):`https://${t.config.authDomain}/${oV}`,r={apiKey:e.apiKey,appName:t.name,v:Ar},i=uV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${va(r).slice(1)}`}function dV(t){return _(this,null,function*(){let e=yield iV(t),n=dn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:lV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cV,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=pi(t,"network-request-failed"),c=dn().setTimeout(()=>{s(o)},sV.get());function u(){dn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var hV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fV=500,pV=600,gV="_blank",mV="http://localhost",Ul=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function yV(t,e,n,r=fV,i=pV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},hV),{width:r.toString(),height:i.toString(),top:s,left:o}),d=$e().toLowerCase();n&&(c=yb(d)?gV:n),gb(d)&&(e=e||mV,u.scrollbars="yes");let f=Object.entries(u).reduce((I,[C,A])=>`${I}${C}=${A},`,"");if(sF(d)&&c!=="_self")return vV(e||"",c),new Ul(null);let g=window.open(e||"",c,f);G(g,t,"popup-blocked");try{g.focus()}catch{}return new Ul(g)}function vV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var _V="__/auth/handler",IV="emulator/auth/handler",wV=encodeURIComponent("fac");function nb(t,e,n,r,i,s){return _(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ar,eventId:i};if(e instanceof kl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",SC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Jg){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),d=u?`#${wV}=${encodeURIComponent(u)}`:"";return`${EV(t)}?${va(c).slice(1)}${d}`})}function EV({config:t}){return t.emulator?cm(t,IV):`https://${t.authDomain}/${_V}`}var $g="webStorageSupport",sm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vm,this._completeRedirectFn=KF,this._overrideRedirectResult=zF}_openPopup(e,n,r,i){return _(this,null,function*(){var s;Pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield nb(e,n,r,Hg(),i);return yV(e,o,Rb())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield nb(e,n,r,Hg(),i);return RF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield dV(e),r=new im(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($g,{type:$g},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[$g];o!==void 0&&n(!!o),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Eb()||mb()||hm()}},kb=sm;var rb="@firebase/auth",ib="1.7.9";var om=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function DV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CV(t){Sr(new Ft("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Db(t)},d=new Yg(r,i,s,u);return gF(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new Ft("auth-internal",e=>{let n=Os(e.getProvider("auth").getImmediate());return(r=>new om(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(rb,ib,DV(t)),Le(rb,ib,"esm2017")}var bV=5*60,TV=Eg("authIdTokenMaxAge")||bV,sb=null,SV=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TV)return;let i=n?.token;sb!==i&&(sb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function _m(t=As()){let e=wa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=fm(t,{popupRedirectResolver:kb,persistence:[Pb,Ab,vm]}),r=Eg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=SV(s.toString());ym(n,o,()=>o(n.currentUser)),mm(n,c=>o(c))}}let i=Ig("auth");return i&&pm(n,`http://${i}`),n}function AV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",AV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CV("Browser");var Fb="auth",vi=class{constructor(e){return e}},Ra=class{constructor(){return Ea(Fb)}};var Im=new V("angularfire2.auth-instances");function wL(t,e){let n=El(Fb,t,e);return n&&new vi(n)}function EL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vi(r)}}var DL={provide:Ra,deps:[[new ct,Im]]},CL={provide:vi,useFactory:wL,deps:[[new ct,Im],jn]};function Vb(t,...e){return Le("angularfire",hi.full,"auth"),en([CL,DL,{provide:Im,useFactory:EL(t),multi:!0,deps:[me,Qe,Ns,fi,[new ct,Ms],...e]}])}var Lb=Rr(gm,!0);var Ub=Rr(_m,!0);var jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bb={};var wm,$b;(function(){var t;function e(E,m){function y(){}y.prototype=m.prototype,E.D=m.prototype,E.prototype=new y,E.prototype.constructor=E,E.C=function(w,D,T){for(var v=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)v[yn-2]=arguments[yn];return m.prototype[D].apply(w,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,y){y||(y=0);var w=Array(16);if(typeof m=="string")for(var D=0;16>D;++D)w[D]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(D=0;16>D;++D)w[D]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=E.g[0],y=E.g[1],D=E.g[2];var T=E.g[3],v=m+(T^y&(D^T))+w[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(D^m&(y^D))+w[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=D+(y^T&(m^y))+w[2]+606105819&4294967295,D=T+(v<<17&4294967295|v>>>15),v=y+(m^D&(T^m))+w[3]+3250441966&4294967295,y=D+(v<<22&4294967295|v>>>10),v=m+(T^y&(D^T))+w[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(D^m&(y^D))+w[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=D+(y^T&(m^y))+w[6]+2821735955&4294967295,D=T+(v<<17&4294967295|v>>>15),v=y+(m^D&(T^m))+w[7]+4249261313&4294967295,y=D+(v<<22&4294967295|v>>>10),v=m+(T^y&(D^T))+w[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(D^m&(y^D))+w[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=D+(y^T&(m^y))+w[10]+4294925233&4294967295,D=T+(v<<17&4294967295|v>>>15),v=y+(m^D&(T^m))+w[11]+2304563134&4294967295,y=D+(v<<22&4294967295|v>>>10),v=m+(T^y&(D^T))+w[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(D^m&(y^D))+w[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=D+(y^T&(m^y))+w[14]+2792965006&4294967295,D=T+(v<<17&4294967295|v>>>15),v=y+(m^D&(T^m))+w[15]+1236535329&4294967295,y=D+(v<<22&4294967295|v>>>10),v=m+(D^T&(y^D))+w[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^D&(m^y))+w[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=D+(m^y&(T^m))+w[11]+643717713&4294967295,D=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(D^T))+w[0]+3921069994&4294967295,y=D+(v<<20&4294967295|v>>>12),v=m+(D^T&(y^D))+w[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^D&(m^y))+w[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=D+(m^y&(T^m))+w[15]+3634488961&4294967295,D=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(D^T))+w[4]+3889429448&4294967295,y=D+(v<<20&4294967295|v>>>12),v=m+(D^T&(y^D))+w[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^D&(m^y))+w[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=D+(m^y&(T^m))+w[3]+4107603335&4294967295,D=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(D^T))+w[8]+1163531501&4294967295,y=D+(v<<20&4294967295|v>>>12),v=m+(D^T&(y^D))+w[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^D&(m^y))+w[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=D+(m^y&(T^m))+w[7]+1735328473&4294967295,D=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(D^T))+w[12]+2368359562&4294967295,y=D+(v<<20&4294967295|v>>>12),v=m+(y^D^T)+w[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^D)+w[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=D+(T^m^y)+w[11]+1839030562&4294967295,D=T+(v<<16&4294967295|v>>>16),v=y+(D^T^m)+w[14]+4259657740&4294967295,y=D+(v<<23&4294967295|v>>>9),v=m+(y^D^T)+w[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^D)+w[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=D+(T^m^y)+w[7]+4139469664&4294967295,D=T+(v<<16&4294967295|v>>>16),v=y+(D^T^m)+w[10]+3200236656&4294967295,y=D+(v<<23&4294967295|v>>>9),v=m+(y^D^T)+w[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^D)+w[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=D+(T^m^y)+w[3]+3572445317&4294967295,D=T+(v<<16&4294967295|v>>>16),v=y+(D^T^m)+w[6]+76029189&4294967295,y=D+(v<<23&4294967295|v>>>9),v=m+(y^D^T)+w[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^D)+w[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=D+(T^m^y)+w[15]+530742520&4294967295,D=T+(v<<16&4294967295|v>>>16),v=y+(D^T^m)+w[2]+3299628645&4294967295,y=D+(v<<23&4294967295|v>>>9),v=m+(D^(y|~T))+w[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~D))+w[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=D+(m^(T|~y))+w[14]+2878612391&4294967295,D=T+(v<<15&4294967295|v>>>17),v=y+(T^(D|~m))+w[5]+4237533241&4294967295,y=D+(v<<21&4294967295|v>>>11),v=m+(D^(y|~T))+w[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~D))+w[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=D+(m^(T|~y))+w[10]+4293915773&4294967295,D=T+(v<<15&4294967295|v>>>17),v=y+(T^(D|~m))+w[1]+2240044497&4294967295,y=D+(v<<21&4294967295|v>>>11),v=m+(D^(y|~T))+w[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~D))+w[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=D+(m^(T|~y))+w[6]+2734768916&4294967295,D=T+(v<<15&4294967295|v>>>17),v=y+(T^(D|~m))+w[13]+1309151649&4294967295,y=D+(v<<21&4294967295|v>>>11),v=m+(D^(y|~T))+w[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~D))+w[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=D+(m^(T|~y))+w[2]+718787259&4294967295,D=T+(v<<15&4294967295|v>>>17),v=y+(T^(D|~m))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(D+(v<<21&4294967295|v>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var y=m-this.blockSize,w=this.B,D=this.h,T=0;T<m;){if(D==0)for(;T<=y;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<m;)if(w[D++]=E.charCodeAt(T++),D==this.blockSize){i(this,w),D=0;break}}else for(;T<m;)if(w[D++]=E[T++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var y=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=y&255,y/=256;for(this.u(E),E=Array(16),m=y=0;4>m;++m)for(var w=0;32>w;w+=8)E[y++]=this.g[m]>>>w&255;return E};function s(E,m){var y=c;return Object.prototype.hasOwnProperty.call(y,E)?y[E]:y[E]=m(E)}function o(E,m){this.h=m;for(var y=[],w=!0,D=E.length-1;0<=D;D--){var T=E[D]|0;w&&T==m||(y[D]=T,w=!1)}this.g=y}var c={};function u(E){return-128<=E&&128>E?s(E,function(m){return new o([m|0],0>m?-1:0)}):new o([E|0],0>E?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return x(d(-E));for(var m=[],y=1,w=0;E>=y;w++)m[w]=E/y|0,y*=4294967296;return new o(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return x(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(m,8)),w=g,D=0;D<E.length;D+=8){var T=Math.min(8,E.length-D),v=parseInt(E.substring(D,D+T),m);8>T?(T=d(Math.pow(m,T)),w=w.j(T).add(d(v))):(w=w.j(y),w=w.add(d(v)))}return w}var g=u(0),I=u(1),C=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-x(this).m();for(var E=0,m=1,y=0;y<this.g.length;y++){var w=this.i(y);E+=(0<=w?w:4294967296+w)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(P(this))return"-"+x(this).toString(E);for(var m=d(Math.pow(E,6)),y=this,w="";;){var D=ge(y,m).g;y=F(y,D.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(E);if(y=D,A(y))return T+w;for(;6>T.length;)T="0"+T;w=T+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=F(this,E),P(E)?-1:A(E)?0:1};function x(E){for(var m=E.g.length,y=[],w=0;w<m;w++)y[w]=~E.g[w];return new o(y,~E.h).add(I)}t.abs=function(){return P(this)?x(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),y=[],w=0,D=0;D<=m;D++){var T=w+(this.i(D)&65535)+(E.i(D)&65535),v=(T>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);w=v>>>16,T&=65535,v&=65535,y[D]=v<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(E,m){return E.add(x(m))}t.j=function(E){if(A(this)||A(E))return g;if(P(this))return P(E)?x(this).j(x(E)):x(x(this).j(E));if(P(E))return x(this.j(x(E)));if(0>this.l(C)&&0>E.l(C))return d(this.m()*E.m());for(var m=this.g.length+E.g.length,y=[],w=0;w<2*m;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<E.g.length;D++){var T=this.i(w)>>>16,v=this.i(w)&65535,yn=E.i(D)>>>16,ro=E.i(D)&65535;y[2*w+2*D]+=v*ro,Q(y,2*w+2*D),y[2*w+2*D+1]+=T*ro,Q(y,2*w+2*D+1),y[2*w+2*D+1]+=v*yn,Q(y,2*w+2*D+1),y[2*w+2*D+2]+=T*yn,Q(y,2*w+2*D+2)}for(w=0;w<m;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=m;w<2*m;w++)y[w]=0;return new o(y,0)};function Q(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function Z(E,m){this.g=E,this.h=m}function ge(E,m){if(A(m))throw Error("division by zero");if(A(E))return new Z(g,g);if(P(E))return m=ge(x(E),m),new Z(x(m.g),x(m.h));if(P(m))return m=ge(E,x(m)),new Z(x(m.g),m.h);if(30<E.g.length){if(P(E)||P(m))throw Error("slowDivide_ only works with positive integers.");for(var y=I,w=m;0>=w.l(E);)y=Ge(y),w=Ge(w);var D=fe(y,1),T=fe(w,1);for(w=fe(w,2),y=fe(y,2);!A(w);){var v=T.add(w);0>=v.l(E)&&(D=D.add(y),T=v),w=fe(w,1),y=fe(y,1)}return m=F(E,D.j(m)),new Z(D,m)}for(D=g;0<=E.l(m);){for(y=Math.max(1,Math.floor(E.m()/m.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),T=d(y),v=T.j(m);P(v)||0<v.l(E);)y-=w,T=d(y),v=T.j(m);A(T)&&(T=I),D=D.add(T),E=F(E,v)}return new Z(D,E)}t.A=function(E){return ge(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)&E.i(w);return new o(y,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)|E.i(w);return new o(y,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)^E.i(w);return new o(y,this.h^E.h)};function Ge(E){for(var m=E.g.length+1,y=[],w=0;w<m;w++)y[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(y,E.h)}function fe(E,m){var y=m>>5;m%=32;for(var w=E.g.length-y,D=[],T=0;T<w;T++)D[T]=0<m?E.i(T+y)>>>m|E.i(T+y+1)<<32-m:E.i(T+y);return new o(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$b=Bb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,wm=Bb.Integer=o}).apply(typeof jb<"u"?jb:typeof self<"u"?self:typeof window<"u"?window:{});var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var Em,bL,ks,Dm,Ma,Hl,Cm,bm,Tm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof $l=="object"&&$l];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function s(a,l){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:l(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(l,h){return h})}});var o=o||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(l,b)}}return function(){return a.apply(l,arguments)}}function I(a,l,h){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,I.apply(null,arguments)}function C(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var O=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)O[ve-2]=arguments[ve];return l.prototype[b].apply(p,O)}}function P(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function x(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let O=0;O<S;O++)a[b+O]=p[O]}else a.push(p)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function Q(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var Ge=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function fe(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function E(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,l){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function D(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Pd;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class yn{constructor(){this.h=this.g=null}add(l,h){let p=ro.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ro=new F(()=>new H0,a=>a.reset());class H0{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let io,so=!1,Pd=new yn,pv=()=>{let a=c.Promise.resolve(void 0);io=()=>{a.then(q0)}};var q0=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var l=ro;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}so=!1};function Kn(){this.s=this.s,this.C=this.C}Kn.prototype.s=!1,Kn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var z0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function oo(a,l){if(Ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Ge){e:{try{ge(l.nodeName);var b=!0;break e}catch{}b=!1}b||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:G0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&oo.aa.h.call(this)}}A(oo,Ye);var G0={2:"touch",3:"pen",4:"mouse"};oo.prototype.h=function(){oo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ao="closure_listenable_"+(1e6*Math.random()|0),W0=0;function K0(a,l,h,p,b){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=b,this.key=++W0,this.da=this.fa=!1}function Ja(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Xa(a){this.src=a,this.g={},this.h=0}Xa.prototype.add=function(a,l,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var O=kd(a,l,p,b);return-1<O?(l=a[O],h||(l.fa=!1)):(l=new K0(l,this.src,S,!!p,b),l.fa=h,a.push(l)),l};function Od(a,l){var h=l.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,l,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(Ja(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function kd(a,l,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==l&&S.capture==!!h&&S.ha==p)return b}return-1}var Fd="closure_lm_"+(1e6*Math.random()|0),Vd={};function gv(a,l,h,p,b){if(p&&p.once)return yv(a,l,h,p,b);if(Array.isArray(l)){for(var S=0;S<l.length;S++)gv(a,l[S],h,p,b);return null}return h=Bd(h),a&&a[ao]?a.K(l,h,d(p)?!!p.capture:!!p,b):mv(a,l,h,!1,p,b)}function mv(a,l,h,p,b,S){if(!l)throw Error("Invalid event type");var O=d(b)?!!b.capture:!!b,ve=Ud(a);if(ve||(a[Fd]=ve=new Xa(a)),h=ve.add(l,h,p,O,S),h.proxy)return h;if(p=Q0(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)z0||(b=O),b===void 0&&(b=!1),a.addEventListener(l.toString(),p,b);else if(a.attachEvent)a.attachEvent(_v(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Q0(){function a(h){return l.call(a.src,a.listener,h)}let l=Y0;return a}function yv(a,l,h,p,b){if(Array.isArray(l)){for(var S=0;S<l.length;S++)yv(a,l[S],h,p,b);return null}return h=Bd(h),a&&a[ao]?a.L(l,h,d(p)?!!p.capture:!!p,b):mv(a,l,h,!0,p,b)}function vv(a,l,h,p,b){if(Array.isArray(l))for(var S=0;S<l.length;S++)vv(a,l[S],h,p,b);else p=d(p)?!!p.capture:!!p,h=Bd(h),a&&a[ao]?(a=a.i,l=String(l).toString(),l in a.g&&(S=a.g[l],h=kd(S,h,p,b),-1<h&&(Ja(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[l],a.h--)))):a&&(a=Ud(a))&&(l=a.g[l.toString()],a=-1,l&&(a=kd(l,h,p,b)),(h=-1<a?l[a]:null)&&Ld(h))}function Ld(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[ao])Od(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(_v(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=Ud(l))?(Od(h,a),h.h==0&&(h.src=null,l[Fd]=null)):Ja(a)}}}function _v(a){return a in Vd?Vd[a]:Vd[a]="on"+a}function Y0(a,l){if(a.da)a=!0;else{l=new oo(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&Ld(a),a=h.call(p,l)}return a}function Ud(a){return a=a[Fd],a instanceof Xa?a:null}var jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bd(a){return typeof a=="function"?a:(a[jd]||(a[jd]=function(l){return a.handleEvent(l)}),a[jd])}function Ze(){Kn.call(this),this.i=new Xa(this),this.M=this,this.F=null}A(Ze,Kn),Ze.prototype[ao]=!0,Ze.prototype.removeEventListener=function(a,l,h,p){vv(this,a,l,h,p)};function rt(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new Ye(l,a);else if(l instanceof Ye)l.target=l.target||a;else{var b=l;l=new Ye(p,a),w(l,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var O=l.g=h[S];b=ec(O,p,!0,l)&&b}if(O=l.g=a,b=ec(O,p,!0,l)&&b,b=ec(O,p,!1,l)&&b,h)for(S=0;S<h.length;S++)O=l.g=h[S],b=ec(O,p,!1,l)&&b}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)Ja(h[p]);delete a.g[l],a.h--}}this.F=null},Ze.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},Ze.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function ec(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var b=!0,S=0;S<l.length;++S){var O=l[S];if(O&&!O.da&&O.capture==h){var ve=O.listener,We=O.ha||O.src;O.fa&&Od(a.i,O),b=ve.call(We,p)!==!1&&b}}return b&&!p.defaultPrevented}function Iv(a,l,h){if(typeof a=="function")h&&(a=I(a,h));else if(a&&typeof a.handleEvent=="function")a=I(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function wv(a){a.g=Iv(()=>{a.g=null,a.i&&(a.i=!1,wv(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class Z0 extends Kn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:wv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(a){Kn.call(this),this.h=a,this.g={}}A(co,Kn);var Ev=[];function Dv(a){fe(a.g,function(l,h){this.g.hasOwnProperty(h)&&Ld(l)},a),a.g={}}co.prototype.N=function(){co.aa.N.call(this),Dv(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $d=c.JSON.stringify,J0=c.JSON.parse,X0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Hd(){}Hd.prototype.h=null;function Cv(a){return a.h||(a.h=a.i())}function bv(){}var uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qd(){Ye.call(this,"d")}A(qd,Ye);function zd(){Ye.call(this,"c")}A(zd,Ye);var Lr={},Tv=null;function tc(){return Tv=Tv||new Ze}Lr.La="serverreachability";function Sv(a){Ye.call(this,Lr.La,a)}A(Sv,Ye);function lo(a){let l=tc();rt(l,new Sv(l))}Lr.STAT_EVENT="statevent";function Av(a,l){Ye.call(this,Lr.STAT_EVENT,a),this.stat=l}A(Av,Ye);function it(a){let l=tc();rt(l,new Av(l,a))}Lr.Ma="timingevent";function Rv(a,l){Ye.call(this,Lr.Ma,a),this.size=l}A(Rv,Ye);function ho(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function eS(a,l,h,p,b,S){a.info(function(){if(a.g)if(S)for(var O="",ve=S.split("&"),We=0;We<ve.length;We++){var pe=ve[We].split("=");if(1<pe.length){var Je=pe[0];pe=pe[1];var Xe=Je.split("_");O=2<=Xe.length&&Xe[1]=="type"?O+(Je+"="+pe+"&"):O+(Je+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+l+`
`+h+`
`+O})}function tS(a,l,h,p,b,S,O){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+l+`
`+h+`
`+S+" "+O})}function Ri(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+rS(a,h)+(p?" "+p:"")})}function nS(a,l){a.info(function(){return"TIMEOUT: "+l})}fo.prototype.info=function(){};function rS(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return $d(h)}catch{return l}}var nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gd;function rc(){}A(rc,Hd),rc.prototype.g=function(){return new XMLHttpRequest},rc.prototype.i=function(){return{}},Gd=new rc;function Qn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nv}function Nv(){this.i=null,this.g="",this.h=!1}var xv={},Wd={};function Kd(a,l,h){a.L=1,a.v=ac(vn(l)),a.m=h,a.P=!0,Pv(a,null)}function Pv(a,l){a.F=Date.now(),ic(a),a.A=vn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),Wv(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Nv,a.g=d_(a.j,h?l:null,!a.m),0<a.O&&(a.M=new Z0(I(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Ev[0]=b.toString()),b=Ev);for(var S=0;S<b.length;S++){var O=gv(h,b[S],p||l.handleEvent,!1,l.h||l);if(!O)break;l.g[O.key]=O}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),lo(),eS(a.i,a.u,a.A,a.l,a.R,a.m)}Qn.prototype.ca=function(a){a=a.target;let l=this.M;l&&_n(a)==3?l.j():this.Y(a)},Qn.prototype.Y=function(a){try{if(a==this.g)e:{let Xe=_n(this.g);var l=this.g.Ba();let xi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||e_(this.g)))){this.J||Xe!=4||l==7||(l==8||0>=xi?lo(3):lo(2)),Qd(this);var h=this.g.Z();this.X=h;t:if(Ov(this)){var p=e_(this.g);a="";var b=p.length,S=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),po(this);var O="";break t}this.h.i=new c.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(S&&l==b-1)});p.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,tS(this.i,this.u,this.A,this.l,this.R,Xe,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,We=this.g;if((ve=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(ve)){var pe=ve;break t}}pe=null}if(h=pe)Ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yd(this,h);else{this.o=!1,this.s=3,it(12),Ur(this),po(this);break e}}if(this.P){h=!0;let Vt;for(;!this.J&&this.C<O.length;)if(Vt=iS(this,O),Vt==Wd){Xe==4&&(this.s=4,it(14),h=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==xv){this.s=4,it(15),Ri(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else Ri(this.i,this.l,Vt,null),Yd(this,Vt);if(Ov(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||O.length!=0||this.h.h||(this.s=1,it(16),h=!1),this.o=this.o&&h,!h)Ri(this.i,this.l,O,"[Invalid Chunked Response]"),Ur(this),po(this);else if(0<O.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),nh(Je),Je.M=!0,it(11))}}else Ri(this.i,this.l,O,null),Yd(this,O);Xe==4&&Ur(this),this.o&&!this.J&&(Xe==4?a_(this.j,this):(this.o=!1,ic(this)))}else wS(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Ur(this),po(this)}}}catch{}finally{}};function Ov(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function iS(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?Wd:(h=Number(l.substring(h,p)),isNaN(h)?xv:(p+=1,p+h>l.length?Wd:(l=l.slice(p,p+h),a.C=p+h,l)))}Qn.prototype.cancel=function(){this.J=!0,Ur(this)};function ic(a){a.S=Date.now()+a.I,kv(a,a.I)}function kv(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ho(I(a.ba,a),l)}function Qd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(nS(this.i,this.A),this.L!=2&&(lo(),it(17)),Ur(this),this.s=2,po(this)):kv(this,this.S-a)};function po(a){a.j.G==0||a.J||a_(a.j,a)}function Ur(a){Qd(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,Dv(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function Yd(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||Zd(h.h,a))){if(!a.K&&Zd(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)hc(h),lc(h);else break e;th(h),it(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=ho(I(h.Za,h),6e3));if(1>=Lv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Br(h,11)}else if((a.K||h.g==a)&&hc(h),!Q(l))for(b=h.Da.g.parse(l),l=0;l<b.length;l++){let pe=b[l];if(h.T=pe[0],pe=pe[1],h.G==2)if(pe[0]=="c"){h.K=pe[1],h.ia=pe[2];let Je=pe[3];Je!=null&&(h.la=Je,h.j.info("VER="+h.la));let Xe=pe[4];Xe!=null&&(h.Aa=Xe,h.j.info("SVER="+h.Aa));let xi=pe[5];xi!=null&&typeof xi=="number"&&0<xi&&(p=1.5*xi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Vt=a.g;if(Vt){let pc=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pc){var S=p.h;S.g||pc.indexOf("spdy")==-1&&pc.indexOf("quic")==-1&&pc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Jd(S,S.h),S.h=null))}if(p.D){let rh=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;rh&&(p.ya=rh,Ee(p.I,p.D,rh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var O=a;if(p.qa=l_(p,p.J?p.ia:null,p.W),O.K){Uv(p.h,O);var ve=O,We=p.L;We&&(ve.I=We),ve.B&&(Qd(ve),ic(ve)),p.g=O}else s_(p);0<h.i.length&&dc(h)}else pe[0]!="stop"&&pe[0]!="close"||Br(h,7);else h.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Br(h,7):eh(h):pe[0]!="noop"&&h.l&&h.l.ta(pe),h.v=0)}}lo(4)}catch{}}var sS=class{constructor(a,l){this.g=a,this.map=l}};function Fv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Lv(a){return a.h?1:a.g?a.g.size:0}function Zd(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Jd(a,l){a.g?a.g.add(l):a.h=l}function Uv(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}Fv.prototype.cancel=function(){if(this.i=jv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function jv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return P(a.i)}function oS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function aS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function Bv(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=aS(a),p=oS(a),b=p.length,S=0;S<b;S++)l.call(void 0,p[S],h&&h[S],a)}var $v=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cS(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];l(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function jr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof jr){this.h=a.h,sc(this,a.j),this.o=a.o,this.g=a.g,oc(this,a.s),this.l=a.l;var l=a.i,h=new yo;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),Hv(this,h),this.m=a.m}else a&&(l=String(a).match($v))?(this.h=!1,sc(this,l[1]||"",!0),this.o=go(l[2]||""),this.g=go(l[3]||"",!0),oc(this,l[4]),this.l=go(l[5]||"",!0),Hv(this,l[6]||"",!0),this.m=go(l[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}jr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(mo(l,qv,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(mo(l,qv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(mo(h,h.charAt(0)=="/"?dS:lS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",mo(h,fS)),a.join("")};function vn(a){return new jr(a)}function sc(a,l,h){a.j=h?go(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function oc(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function Hv(a,l,h){l instanceof yo?(a.i=l,pS(a.i,a.h)):(h||(l=mo(l,hS)),a.i=new yo(l,a.h))}function Ee(a,l,h){a.i.set(l,h)}function ac(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function go(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function mo(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,uS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function uS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var qv=/[#\/\?@]/g,lS=/[#\?:]/g,dS=/[#\?]/g,hS=/[#\?@]/g,fS=/#/g;function yo(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Yn(a){a.g||(a.g=new Map,a.h=0,a.i&&cS(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=yo.prototype,t.add=function(a,l){Yn(this),this.i=null,a=Mi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function zv(a,l){Yn(a),l=Mi(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function Gv(a,l){return Yn(a),l=Mi(a,l),a.g.has(l)}t.forEach=function(a,l){Yn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(l,b,p,this)},this)},this)},t.na=function(){Yn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(l[p])}return h},t.V=function(a){Yn(this);let l=[];if(typeof a=="string")Gv(this,a)&&(l=l.concat(this.g.get(Mi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return Yn(this),this.i=null,a=Mi(this,a),Gv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function Wv(a,l,h){zv(a,l),0<h.length&&(a.i=null,a.g.set(Mi(a,l),P(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let S=encodeURIComponent(String(p)),O=this.V(p);for(p=0;p<O.length;p++){var b=S;O[p]!==""&&(b+="="+encodeURIComponent(String(O[p]))),a.push(b)}}return this.i=a.join("&")};function Mi(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function pS(a,l){l&&!a.j&&(Yn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(zv(this,p),Wv(this,b,h))},a)),a.j=l}function gS(a,l){let h=new fo;if(c.Image){let p=new Image;p.onload=C(Zn,h,"TestLoadImage: loaded",!0,l,p),p.onerror=C(Zn,h,"TestLoadImage: error",!1,l,p),p.onabort=C(Zn,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=C(Zn,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function mS(a,l){let h=new fo,p=new AbortController,b=setTimeout(()=>{p.abort(),Zn(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?Zn(h,"TestPingServer: ok",!0,l):Zn(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(b),Zn(h,"TestPingServer: error",!1,l)})}function Zn(a,l,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function yS(){this.g=new X0}function vS(a,l,h){let p=h||"";try{Bv(a,function(b,S){let O=b;d(b)&&(O=$d(b)),l.push(p+S+"="+encodeURIComponent(O))})}catch(b){throw l.push(p+"type="+encodeURIComponent("_badmap")),b}}function vo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(vo,Hd),vo.prototype.g=function(){return new cc(this.l,this.j)},vo.prototype.i=function(a){return function(){return a}}({});function cc(a,l){Ze.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(cc,Ze),t=cc.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,Io(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?_o(this):Io(this),this.readyState==3&&Kv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,_o(this))},t.Qa=function(a){this.g&&(this.response=a,_o(this))},t.ga=function(){this.g&&_o(this)};function _o(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Io(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function Io(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Qv(a){let l="";return fe(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function Xd(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=Qv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ee(a,l,h))}function be(a){Ze.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(be,Ze);var _S=/^https?$/i,IS=["POST","PUT"];t=be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gd.g(),this.v=this.o?Cv(this.o):Cv(Gd),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(S){Yv(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(IS,l,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of h)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xv(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){Yv(this,S)}};function Yv(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,Zv(a),uc(a)}function Zv(a){a.A||(a.A=!0,rt(a,"complete"),rt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,rt(this,"complete"),rt(this,"abort"),uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uc(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jv(this):this.bb())},t.bb=function(){Jv(this)};function Jv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)Iv(a.Ea,0,a);else if(rt(a,"readystatechange"),_n(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=O===0){var b=String(a.D).match($v)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!_S.test(b?b.toLowerCase():"")}h=p}if(h)rt(a,"complete"),rt(a,"success");else{a.m=6;try{var S=2<_n(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",Zv(a)}}finally{uc(a)}}}}function uc(a,l){if(a.g){Xv(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||rt(a,"ready");try{h.onreadystatechange=p}catch{}}}function Xv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),J0(l)}};function e_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function wS(a){let l={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(Q(a[p]))continue;var h=D(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=l[b]||[];l[b]=S,S.push(h)}E(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wo(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function t_(a){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wo("baseRetryDelayMs",5e3,a),this.cb=wo("retryDelaySeedMs",1e4,a),this.Wa=wo("forwardChannelMaxRetries",2,a),this.wa=wo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Fv(a&&a.concurrentRequestLimit),this.Da=new yS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=t_.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){it(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=l_(this,null,this.W),dc(this)};function eh(a){if(n_(a),a.G==3){var l=a.U++,h=vn(a.I);if(Ee(h,"SID",a.K),Ee(h,"RID",l),Ee(h,"TYPE","terminate"),Eo(a,h),l=new Qn(a,a.j,l),l.L=2,l.v=ac(vn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=d_(l.j,null),l.g.ea(l.v)),l.F=Date.now(),ic(l)}u_(a)}function lc(a){a.g&&(nh(a),a.g.cancel(),a.g=null)}function n_(a){lc(a),a.u&&(c.clearTimeout(a.u),a.u=null),hc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function dc(a){if(!Vv(a.h)&&!a.s){a.s=!0;var l=a.Ga;io||pv(),so||(io(),so=!0),Pd.add(l,a),a.B=0}}function ES(a,l){return Lv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ho(I(a.Ga,a,l),c_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Qn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=i_(this,b,l),h=vn(this.I),Ee(h,"RID",a),Ee(h,"CVER",22),this.D&&Ee(h,"X-HTTP-Session-Id",this.D),Eo(this,h),S&&(this.O?l="headers="+encodeURIComponent(String(Qv(S)))+"&"+l:this.m&&Xd(h,this.m,S)),Jd(this.h,b),this.Ua&&Ee(h,"TYPE","init"),this.P?(Ee(h,"$req",l),Ee(h,"SID","null"),b.T=!0,Kd(b,h,null)):Kd(b,h,l),this.G=2}}else this.G==3&&(a?r_(this,a):this.i.length==0||Vv(this.h)||r_(this))};function r_(a,l){var h;l?h=l.l:h=a.U++;let p=vn(a.I);Ee(p,"SID",a.K),Ee(p,"RID",h),Ee(p,"AID",a.T),Eo(a,p),a.m&&a.o&&Xd(p,a.m,a.o),h=new Qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=i_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Jd(a.h,h),Kd(h,p,l)}function Eo(a,l){a.H&&fe(a.H,function(h,p){Ee(l,p,h)}),a.l&&Bv({},function(h,p){Ee(l,p,h)})}function i_(a,l,h){h=Math.min(a.i.length,h);var p=a.l?I(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let O=["count="+h];S==-1?0<h?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let ve=!0;for(let We=0;We<h;We++){let pe=b[We].g,Je=b[We].map;if(pe-=S,0>pe)S=Math.max(0,b[We].g-100),ve=!1;else try{vS(Je,O,"req"+pe+"_")}catch{p&&p(Je)}}if(ve){p=O.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function s_(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;io||pv(),so||(io(),so=!0),Pd.add(l,a),a.v=0}}function th(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ho(I(a.Fa,a),c_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,o_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ho(I(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),lc(this),o_(this))};function nh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function o_(a){a.g=new Qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=vn(a.qa);Ee(l,"RID","rpc"),Ee(l,"SID",a.K),Ee(l,"AID",a.T),Ee(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(l,"TO",a.ja),Ee(l,"TYPE","xmlhttp"),Eo(a,l),a.m&&a.o&&Xd(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=ac(vn(l)),h.m=null,h.P=!0,Pv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,lc(this),th(this),it(19))};function hc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function a_(a,l){var h=null;if(a.g==l){hc(a),nh(a),a.g=null;var p=2}else if(Zd(a.h,l))h=l.D,Uv(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var b=a.B;p=tc(),rt(p,new Rv(p,h)),dc(a)}else s_(a);else if(b=l.s,b==3||b==0&&0<l.X||!(p==1&&ES(a,l)||p==2&&th(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),b){case 1:Br(a,5);break;case 4:Br(a,10);break;case 3:Br(a,6);break;default:Br(a,2)}}}function c_(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function Br(a,l){if(a.j.info("Error code "+l),l==2){var h=I(a.fb,a),p=a.Xa;let b=!p;p=new jr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sc(p,"https"),ac(p),b?gS(p.toString(),h):mS(p.toString(),h)}else it(2);a.G=0,a.l&&a.l.sa(l),u_(a),n_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function u_(a){if(a.G=0,a.ka=[],a.l){let l=jv(a.h);(l.length!=0||a.i.length!=0)&&(x(a.ka,l),x(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function l_(a,l,h){var p=h instanceof jr?vn(h):new jr(h);if(p.g!="")l&&(p.g=l+"."+p.g),oc(p,p.s);else{var b=c.location;p=b.protocol,l=l?l+"."+b.hostname:b.hostname,b=+b.port;var S=new jr(null);p&&sc(S,p),l&&(S.g=l),b&&oc(S,b),h&&(S.l=h),p=S}return h=a.D,l=a.ya,h&&l&&Ee(p,h,l),Ee(p,"VER",a.la),Eo(a,p),p}function d_(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new be(new vo({eb:h})):new be(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function h_(){}t=h_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fc(){}fc.prototype.g=function(a,l){return new pt(a,l)};function pt(a,l){Ze.call(this),this.g=new t_(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!Q(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!Q(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Ni(this)}A(pt,Ze),pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){eh(this.g)},pt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=$d(a),a=h);l.i.push(new sS(l.Ya++,a)),l.G==3&&dc(l)},pt.prototype.N=function(){this.g.l=null,delete this.j,eh(this.g),delete this.g,pt.aa.N.call(this)};function f_(a){qd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(f_,qd);function p_(){zd.call(this),this.status=1}A(p_,zd);function Ni(a){this.g=a}A(Ni,h_),Ni.prototype.ua=function(){rt(this.g,"a")},Ni.prototype.ta=function(a){rt(this.g,new f_(a))},Ni.prototype.sa=function(a){rt(this.g,new p_)},Ni.prototype.ra=function(){rt(this.g,"b")},fc.prototype.createWebChannel=fc.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,Tm=Hn.createWebChannelTransport=function(){return new fc},bm=Hn.getStatEventTarget=function(){return tc()},Cm=Hn.Event=Lr,Hl=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nc.NO_ERROR=0,nc.TIMEOUT=8,nc.HTTP_ERROR=6,Ma=Hn.ErrorCode=nc,Mv.COMPLETE="complete",Dm=Hn.EventType=Mv,bv.EventType=uo,uo.OPEN="a",uo.CLOSE="b",uo.ERROR="c",uo.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,ks=Hn.WebChannel=bv,bL=Hn.FetchXmlHttpFactory=vo,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Em=Hn.XhrIo=be}).apply(typeof $l<"u"?$l:typeof self<"u"?self:typeof window<"u"?window:{});var Hb="@firebase/firestore";var He=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");var Js="10.14.0";var Ei=new br("@firebase/firestore");function Na(){return Ei.logLevel}function L(t,...e){if(Ei.logLevel<=se.DEBUG){let n=e.map(Wy);Ei.debug(`Firestore (${Js}): ${t}`,...n)}}function Di(t,...e){if(Ei.logLevel<=se.ERROR){let n=e.map(Wy);Ei.error(`Firestore (${Js}): ${t}`,...n)}}function Ql(t,...e){if(Ei.logLevel<=se.WARN){let n=e.map(Wy);Ei.warn(`Firestore (${Js}): ${t}`,...n)}}function Wy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function Ae(t,e){t||oe()}function we(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends wt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Yl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Mm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(He.UNAUTHENTICATED))}shutdown(){}},Nm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},xm=class{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new Yl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new He(e)}},Pm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Om=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Pm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}},km=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Fm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new km(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function TL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=TL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ie(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Jl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},qe=class t extends Jl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},SL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Et=class t extends Jl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return SL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new B(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new B(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new B(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(qe.fromString(e))}static fromName(e){return new t(qe.fromString(e).popFirst(5))}static empty(){return new t(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qe(e.slice()))}};var Vm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Vm.UNKNOWN_ID=-1;function AL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Ci(i,te.empty(),e)}function RL(t){return new Ci(t.readTime,t.key,-1)}var Ci=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Se.min(),te.empty(),-1)}static max(){return new t(Se.max(),te.empty(),-1)}};function ML(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}var NL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function dT(t){return _(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==NL)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function xL(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yd(t){return t.name==="IndexedDbTransactionError"}var PL=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ky(t){return t==null}function Va(t){return t===0&&1/t==-1/0}function OL(t){return typeof t=="number"&&Number.isInteger(t)&&!Va(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var kL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],RW=[...kL,"documentOverlays"],FL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VL=FL,LL=[...VL,"indexConfiguration","indexState","indexEntries"];var MW=[...LL,"globals"];function qb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ha(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Dt=class t{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xl(this.data.getIterator())}getIteratorFrom(e){return new Xl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Xl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(Et.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Um=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Gn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Um("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Gn.EMPTY_BYTE_STRING=new Gn("");var UL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(Ae(!!t),typeof t=="string"){let e=0,n=UL.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function js(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}function Qy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fT(t){let e=t.mapValue.fields.__previous_value__;return Qy(e)?fT(e):e}function ed(t){let e=Or(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var jm=class{constructor(e,n,r,i,s,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},Bm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qy(t)?4:gT(t)?9007199254740991:pT(t)?10:11:oe()}function mn(t,e){if(t===e)return!0;let n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ed(t).isEqual(ed(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Or(i.timestampValue),c=Or(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return js(i.bytesValue).isEqual(js(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ke(i.geoPointValue.latitude)===ke(s.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ke(i.integerValue)===ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ke(i.doubleValue),c=ke(s.doubleValue);return o===c?Va(o)===Va(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(qb(o)!==qb(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!mn(o[u],c[u])))return!1;return!0}(t,e);default:return oe()}}function La(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function $s(t,e){if(t===e)return 0;let n=Bs(t),r=Bs(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=ke(s.integerValue||s.doubleValue),u=ke(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return zb(t.timestampValue,e.timestampValue);case 4:return zb(ed(t),ed(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){let c=js(s),u=js(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=Ie(c[d],u[d]);if(f!==0)return f}return Ie(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Ie(ke(s.latitude),ke(o.latitude));return c!==0?c:Ie(ke(s.longitude),ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Gb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;let g=s.fields||{},I=o.fields||{},C=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=I.value)===null||u===void 0?void 0:u.arrayValue,P=Ie(((d=C?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:Gb(C,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ql.mapValue&&o===ql.mapValue)return 0;if(s===ql.mapValue)return 1;if(o===ql.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let I=Ie(u[g],f[g]);if(I!==0)return I;let C=$s(c[u[g]],d[f[g]]);if(C!==0)return C}return Ie(u.length,f.length)}(t.mapValue,e.mapValue);default:throw oe()}}function zb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);let n=Or(t),r=Or(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function Gb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=$s(n[i],r[i]);if(s)return s}return Ie(n.length,r.length)}function Hs(t){return $m(t)}function $m(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=$m(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${$m(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function Hm(t){return!!t&&"integerValue"in t}function Yy(t){return!!t&&"arrayValue"in t}function Wl(t){return!!t&&"mapValue"in t}function pT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var fn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Pa(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Wl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ha(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Pa(this.value))}};function mT(t){let e=[];return Ha(t.fields,(n,r)=>{let i=new Et([n]);if(Wl(r)){let s=mT(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}var qs=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Se.min(),Se.min(),Se.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Se.min(),Se.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Se.min(),Se.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zs=class{constructor(e,n){this.position=e,this.inclusive=n}};function Wb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=$s(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}var Gs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function jL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var td=class{},ze=class t extends td{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zm(e,n,r):n==="array-contains"?new Km(e,r):n==="in"?new Qm(e,r):n==="not-in"?new Ym(e,r):n==="array-contains-any"?new Zm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Gm(e,r):new Wm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($s(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kr=class t extends td{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return yT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function yT(t){return t.op==="and"}function vT(t){return BL(t)&&yT(t)}function BL(t){for(let e of t.filters)if(e instanceof kr)return!1;return!0}function qm(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+Hs(t.value);if(vT(t))return t.filters.map(e=>qm(e)).join(",");{let e=t.filters.map(n=>qm(n)).join(",");return`${t.op}(${e})`}}function _T(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof kr?function(r,i){return i instanceof kr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&_T(o,i.filters[c]),!0):!1}(t,e):void oe()}function IT(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Hs(n.value)}`}(t):t instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(IT).join(" ,")+"}"}(t):"Filter"}var zm=class extends ze{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},Gm=class extends ze{constructor(e,n){super(e,"in",n),this.keys=wT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Wm=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=wT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function wT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}var Km=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Yy(n)&&La(n.arrayValue,this.value)}},Qm=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&La(this.value.arrayValue,n)}},Ym=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(La(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!La(this.value.arrayValue,n)}},Zm=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>La(this.value.arrayValue,r))}};var Jm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function Qb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Jm(t,e,n,r,i,s,o)}function Zy(t){let e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ky(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hs(r)).join(",")),e.ue=n}return e.ue}function Jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_T(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kb(t.startAt,e.startAt)&&Kb(t.endAt,e.endAt)}var Ws=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function $L(t,e,n,r,i,s,o,c){return new Ws(t,e,n,r,i,s,o,c)}function HL(t){return new Ws(t)}function Yb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qL(t){return t.collectionGroup!==null}function Oa(t){let e=we(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new dt(Et.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gs(s,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Gs(Et.keyField(),r))}return e.ce}function Ii(t){let e=we(t);return e.le||(e.le=zL(e,Oa(t))),e.le}function zL(t,e){if(t.limitType==="F")return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Gs(i.field,s)});let n=t.endAt?new zs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zs(t.startAt.position,t.startAt.inclusive):null;return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xm(t,e,n){return new Ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ET(t,e){return Jy(Ii(t),Ii(e))&&t.limitType===e.limitType}function DT(t){return`${Zy(Ii(t))}|lt:${t.limitType}`}function xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IT(i)).join(", ")}]`),Ky(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hs(i)).join(",")),`Target(${r})`}(Ii(t))}; limitType=${t.limitType})`}function Xy(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Oa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let d=Wb(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,Oa(r),i)||r.endAt&&!function(o,c,u){let d=Wb(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,Oa(r),i))}(t,e)}function GL(t){return(e,n)=>{let r=!1;for(let i of Oa(t)){let s=WL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WL(t,e,n){let r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?$s(u,d):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}var Fr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return hT(this.inner)}size(){return this.innerSize}};var KL=new Dt(te.comparator);function nd(){return KL}var CT=new Dt(te.comparator);function zl(...t){let e=CT;for(let n of t)e=e.insert(n.key,n);return e}function bT(t){let e=CT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return ka()}function TT(){return ka()}function ka(){return new Fr(t=>t.toString(),(t,e)=>t.isEqual(e))}var QL=new Dt(te.comparator),YL=new dt(te.comparator);function tt(...t){let e=YL;for(let n of t)e=e.add(n);return e}var ZL=new dt(Ie);function JL(){return ZL}function ev(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Va(e)?"-0":e}}function ST(t){return{integerValue:""+t}}function XL(t,e){return OL(e)?ST(e):ev(t,e)}var Ks=class{constructor(){this._=void 0}};function eU(t,e,n){return t instanceof Qs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qy(s)&&(s=fT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof bi?RT(t,e):t instanceof Ti?MT(t,e):function(i,s){let o=AT(i,s),c=Zb(o)+Zb(i.Pe);return Hm(o)&&Hm(i.Pe)?ST(c):ev(i.serializer,c)}(t,e)}function tU(t,e,n){return t instanceof bi?RT(t,e):t instanceof Ti?MT(t,e):n}function AT(t,e){return t instanceof Ys?function(r){return Hm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Qs=class extends Ks{},bi=class extends Ks{constructor(e){super(),this.elements=e}};function RT(t,e){let n=NT(e);for(let r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ti=class extends Ks{constructor(e){super(),this.elements=e}};function MT(t,e){let n=NT(e);for(let r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}var Ys=class extends Ks{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Zb(t){return ke(t.integerValue||t.doubleValue)}function NT(t){return Yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bi&&i instanceof bi||r instanceof Ti&&i instanceof Ti?Us(r.elements,i.elements,mn):r instanceof Ys&&i instanceof Ys?mn(r.Pe,i.Pe):r instanceof Qs&&i instanceof Qs}(t.transform,e.transform)}var ey=class{constructor(e,n){this.version=e,this.transformResults=n}},wi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Zs=class{};function xT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rd(t.key,wi.none()):new Si(t.key,t.data,wi.none());{let n=t.data,r=fn.empty(),i=new dt(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Wn(t.key,r,new pn(i.toArray()),wi.none())}}function rU(t,e,n){t instanceof Si?function(i,s,o){let c=i.value.clone(),u=Xb(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Wn?function(i,s,o){if(!Kl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=Xb(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(PT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof Si?function(s,o,c,u){if(!Kl(s.precondition,o))return c;let d=s.value.clone(),f=eT(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wn?function(s,o,c,u){if(!Kl(s.precondition,o))return c;let d=eT(s.fieldTransforms,u,o),f=o.data;return f.setAll(PT(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return Kl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function iU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=AT(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function Jb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Us(r,i,(s,o)=>nU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Si=class extends Zs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends Zs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function PT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Xb(t,e,n){let r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,tU(o,c,n[i]))}return r}function eT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,eU(s,o,e))}return r}var rd=class extends Zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ty=class extends Zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ny=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&rU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=TT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=xT(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,r)=>Jb(n,r))&&Us(this.baseMutations,e.baseMutations,(n,r)=>Jb(n,r))}},ry=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return QL}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var iy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pe,le;function sU(t){switch(t){default:return oe();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function oU(t){if(t===void 0)return Di("GRPC error has no .code"),R.UNKNOWN;switch(t){case Pe.OK:return R.OK;case Pe.CANCELLED:return R.CANCELLED;case Pe.UNKNOWN:return R.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return R.INTERNAL;case Pe.UNAVAILABLE:return R.UNAVAILABLE;case Pe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Pe.NOT_FOUND:return R.NOT_FOUND;case Pe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Pe.ABORTED:return R.ABORTED;case Pe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Pe.DATA_LOSS:return R.DATA_LOSS;default:return oe()}}(le=Pe||(Pe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var xW=new wm([4294967295,4294967295],0);var sy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function oy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cU(t,e){return oy(t,e.toTimestamp())}function Ls(t){return Ae(!!t),Se.fromTimestamp(function(n){let r=Or(n);return new nt(r.seconds,r.nanos)}(t))}function OT(t,e){return ay(t,e).canonicalString()}function ay(t,e){let n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uU(t){let e=qe.fromString(t);return Ae(yU(e)),e}function cy(t,e){return OT(t.databaseId,e.path)}function lU(t){let e=uU(t);return e.length===4?qe.emptyPath():hU(e)}function dU(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hU(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tT(t,e,n){return{name:cy(t,e),fields:n.value.mapValue.fields}}function fU(t,e){let n;if(e instanceof Si)n={update:tT(t,e.key,e.value)};else if(e instanceof rd)n={delete:cy(t,e.key)};else if(e instanceof Wn)n={update:tT(t,e.key,e.data),updateMask:mU(e.fieldMask)};else{if(!(e instanceof ty))return oe();n={verify:cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Qs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ti)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ys)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function pU(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ls(i.updateTime):Ls(s);return o.isEqual(Se.min())&&(o=Ls(s)),new ey(o,i.transformResults||[])}(n,e))):[]}function gU(t){let e=lU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let I=kT(g);return I instanceof kr&&vT(I)?I.getFilters():[I]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(I=>function(A){return new Gs(Fs(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(I))}(n.orderBy));let c=null;n.limit&&(c=function(g){let I;return I=typeof g=="object"?g.value:g,Ky(I)?null:I}(n.limit));let u=null;n.startAt&&(u=function(g){let I=!!g.before,C=g.values||[];return new zs(C,I)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let I=!g.before,C=g.values||[];return new zs(C,I)}(n.endAt)),$L(e,i,o,s,c,"F",u,d)}function kT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Fs(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Fs(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Fs(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Fs(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(Fs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(r=>kT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function Fs(t){return Et.fromServerFormat(t.fieldPath)}function mU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var uy=class{constructor(e){this.ct=e}};function vU(t){let e=gU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xm(e,e.limit,"L"):e}var id=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Va(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Or(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(js(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?gT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):pT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ke(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),te.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};id.vt=new id;var ly=class{constructor(){this.un=new dy}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Ci.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},dy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(qe.comparator)).toArray()}};var PW=new Uint8Array(0);var hn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var Ua=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var hy=class{constructor(){this.changes=new Fr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var py=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,pn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){let i=_i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=zl();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=nd(),o=ka(),c=function(){return ka()}();return n.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Wn)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Fa(f.mutation,d,f.mutation.getFieldMask(),nt.now())):o.set(d.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new fy(f,(g=o.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=ka(),i=new Dt((o,c)=>o-c),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=r.get(u)||pn.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||tt()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=TT();f.forEach(I=>{if(!s.has(I)){let C=xT(n.get(I),r.get(I));C!==null&&g.set(I,C),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve(_i()),c=-1,u=s;return o.next(d=>N.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(I=>{u=u.insert(f,I)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,tt())).next(f=>({batchId:c,changes:bT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=zl();return this.indexManager.getCollectionParents(e,s).next(c=>N.forEach(c,u=>{let d=function(g,I){return new Ws(I,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,I)=>{o=o.insert(g,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,qs.newInvalidDocument(f)))});let c=zl();return o.forEach((u,d)=>{let f=s.get(u);f!==void 0&&Fa(f.mutation,d,pn.empty(),nt.now()),Xy(n,d)&&(c=c.insert(u,d))}),c})}};var gy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ls(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:vU(i.bundledQuery),readTime:Ls(i.readTime)}}(n)),N.resolve()}};var my=class{constructor(){this.overlays=new Dt(te.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=_i();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=_i(),s=n.length+1,o=new te(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Dt((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=_i(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=_i(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return N.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iy(n,r));let s=this.Ir.get(n);s===void 0&&(s=tt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var yy=class{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var ja=class{constructor(){this.Tr=new dt(Oe.Er),this.dr=new dt(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new te(new qe([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new te(new qe([])),r=new Oe(n,e),i=new Oe(n,e+1),s=tt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||Ie(e.wr,n.wr)}static Ar(e,n){return Ie(e.wr,n.wr)||te.comparator(e.key,n.key)}};var vy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dt(Oe.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ny(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Oe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Ie);return n.forEach(i=>{let s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;te.isDocumentKey(s)||(s=s.child(""));let o=new Oe(new te(s),0),c=new dt(Ie);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},o),N.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var _y=class{constructor(e){this.Mr=e,this.docs=function(){return new Dt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():qs.newInvalidDocument(n))}getEntries(e,n){let r=nd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qs.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=nd(),o=n.path,c=new te(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||ML(RL(f),r)<=0||(i.has(f.key)||Xy(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Iy(this)}getSize(e){return N.resolve(this.size)}},Iy=class extends hy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var wy=class{constructor(e){this.persistence=e,this.Nr=new Fr(n=>Zy(n),Jy),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ja,this.targetCount=0,this.kr=Ua.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ua(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var Ey=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new PL(0),this.Kr=!1,this.Kr=!0,this.$r=new yy,this.referenceDelegate=e(this),this.Ur=new wy(this),this.indexManager=new ly,this.remoteDocumentCache=function(i){return new _y(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new uy(n),this.Gr=new gy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new my,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new vy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new Dy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Dy=class extends Lm{constructor(e){super(),this.currentSequenceNumber=e}},Cy=class t{constructor(e){this.persistence=e,this.Jr=new ja,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=te.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var by=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=tt(),i=tt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Ty=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bC()?8:xL($e())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ty;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Na()<=se.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Na()<=se.DEBUG&&L("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Na()<=se.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):N.resolve())}Yi(e,n){if(Yb(n))return N.resolve(null);let r=Ii(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xm(n,null,"F"),r=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=tt(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,c);return this.ns(n,d,o,u.readTime)?this.Yi(e,Xm(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return Yb(n)||i.isEqual(Se.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?N.resolve(null):(Na()<=se.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(n)),this.rs(e,o,n,AL(i,-1)).next(c=>c))})}ts(e,n){let r=new dt(GL(e));return n.forEach((i,s)=>{Xy(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Na()<=se.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ci.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ay=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Dt(Ie),this._s=new Fr(s=>Zy(s),Jy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new py(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function _U(t,e,n,r){return new Ay(t,e,n,r)}function FT(t,e){return _(this,null,function*(){let n=we(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=tt();for(let d of i){o.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})})}function IU(t,e){let n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let g=d.batch,I=g.keys(),C=N.resolve();return I.forEach(A=>{C=C.next(()=>f.getEntry(u,A)).next(P=>{let x=d.docVersions.get(A);Ae(x!==null),P.version.compareTo(x)<0&&(g.applyToRemoteDocument(P,d),P.isValidDocument()&&(P.setReadTime(d.commitVersion),f.addEntry(P)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=tt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wU(t){let e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function EU(t,e){let n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var sd=class{constructor(){this.activeTargetIds=JL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ry=class{constructor(){this.so=new sd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var My=class{_o(e){}shutdown(){}};var od=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gl=null;function Sm(){return Gl===null?Gl=function(){return 268435456+Math.round(2147483648*Math.random())}():Gl++,"0x"+Gl.toString(16)}var DU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ny=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var et="WebChannelConnection",xy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=Sm(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Ql("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=DU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Sm();return new Promise((o,c)=>{let u=new Em;u.setWithCredentials(!0),u.listenOnce(Dm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ma.NO_ERROR:let f=u.getResponseJson();L(et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ma.TIMEOUT:L(et,`RPC '${e}' ${s} timed out`),c(new B(R.DEADLINE_EXCEEDED,"Request time out"));break;case Ma.HTTP_ERROR:let g=u.getStatus();if(L(et,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let I=u.getResponseJson();Array.isArray(I)&&(I=I[0]);let C=I?.error;if(C&&C.status&&C.message){let A=function(x){let F=x.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(C.status);c(new B(A,C.message))}else c(new B(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new B(R.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{L(et,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);L(et,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=Sm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Tm(),c=bm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");L(et,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),I=!1,C=!1,A=new Ny({Io:x=>{C?L(et,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(I||(L(et,`Opening RPC '${e}' stream ${i} transport.`),g.open(),I=!0),L(et,`RPC '${e}' stream ${i} sending:`,x),g.send(x))},To:()=>g.close()}),P=(x,F,Q)=>{x.listen(F,Z=>{try{Q(Z)}catch(ge){setTimeout(()=>{throw ge},0)}})};return P(g,ks.EventType.OPEN,()=>{C||(L(et,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),P(g,ks.EventType.CLOSE,()=>{C||(C=!0,L(et,`RPC '${e}' stream ${i} transport closed`),A.So())}),P(g,ks.EventType.ERROR,x=>{C||(C=!0,Ql(et,`RPC '${e}' stream ${i} transport errored:`,x),A.So(new B(R.UNAVAILABLE,"The operation could not be completed")))}),P(g,ks.EventType.MESSAGE,x=>{var F;if(!C){let Q=x.data[0];Ae(!!Q);let Z=Q,ge=Z.error||((F=Z[0])===null||F===void 0?void 0:F.error);if(ge){L(et,`RPC '${e}' stream ${i} received error:`,ge);let Ge=ge.status,fe=function(y){let w=Pe[y];if(w!==void 0)return oU(w)}(Ge),E=ge.message;fe===void 0&&(fe=R.INTERNAL,E="Unknown error status: "+Ge+" with message "+ge.message),C=!0,A.So(new B(fe,E)),g.close()}else L(et,`RPC '${e}' stream ${i} received:`,Q),A.bo(Q)}}),P(c,Cm.STAT_EVENT,x=>{x.stat===Hl.PROXY?L(et,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Hl.NOPROXY&&L(et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Am(){return typeof document<"u"?document:null}function vd(t){return new sy(t,!0)}var ad=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Py=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ad(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new B(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Oy=class extends Py{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=pU(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=dU(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>fU(this.serializer,r))};this.a_(n)}};var ky=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new B(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,ay(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(R.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,ay(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(R.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Fy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Vy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>_(this,null,function*(){za(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let d=we(u);d.L_.add(4),yield qa(d),d.q_.set("Unknown"),d.L_.delete(4),yield _d(d)})}(this))}))}),this.q_=new Fy(r,i)}};function _d(t){return _(this,null,function*(){if(za(t))for(let e of t.B_)yield e(!0)})}function qa(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function za(t){return we(t).L_.size===0}function VT(t,e,n){return _(this,null,function*(){if(!yd(e))throw e;t.L_.add(1),yield qa(t),t.q_.set("Offline"),n||(n=()=>wU(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield _d(t)}))})}function LT(t,e){return e().catch(n=>VT(t,n,e))}function Id(t){return _(this,null,function*(){let e=we(t),n=Vr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;CU(e);)try{let i=yield EU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,bU(e,i)}catch(i){yield VT(e,i)}UT(e)&&jT(e)})}function CU(t){return za(t)&&t.O_.length<10}function bU(t,e){t.O_.push(e);let n=Vr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function UT(t){return za(t)&&!Vr(t).n_()&&t.O_.length>0}function jT(t){Vr(t).start()}function TU(t){return _(this,null,function*(){Vr(t).p_()})}function SU(t){return _(this,null,function*(){let e=Vr(t);for(let n of t.O_)e.m_(n.mutations)})}function AU(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=ry.from(r,e,n);yield LT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Id(t)})}function RU(t,e){return _(this,null,function*(){e&&Vr(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return sU(o)&&o!==R.ABORTED}(i.code)){let s=r.O_.shift();Vr(r).s_(),yield LT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Id(r)}})}(t,e)),UT(t)&&jT(t)})}function nT(t,e){return _(this,null,function*(){let n=we(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=za(n);n.L_.add(3),yield qa(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield _d(n)})}function MU(t,e){return _(this,null,function*(){let n=we(t);e?(n.L_.delete(2),yield _d(n)):e||(n.L_.add(2),yield qa(n),n.q_.set("Unknown"))})}function Vr(t){return t.U_||(t.U_=function(n,r,i){let s=we(n);return s.w_(),new Oy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TU.bind(null,t),mo:RU.bind(null,t),f_:SU.bind(null,t),g_:AU.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield Id(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Ly=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function BT(t,e){if(Di("AsyncQueue",`${e}: ${t}`),yd(t))return new B(R.UNAVAILABLE,`${e}: ${t}`);throw t}var Uy=class{constructor(){this.queries=rT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=we(n),s=i.queries;i.queries=rT(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new B(R.ABORTED,"Firestore shutting down"))}};function rT(){return new Fr(t=>DT(t),ET)}function NU(t){t.Y_.forEach(e=>{e.next()})}var iT,sT;(sT=iT||(iT={})).ea="default",sT.Cache="cache";var jy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Fr(c=>DT(c),ET),this.Ma=new Map,this.xa=new Set,this.Oa=new Dt(te.comparator),this.Na=new Map,this.La=new ja,this.Ba={},this.ka=new Map,this.qa=Ua.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function xU(t,e,n){return _(this,null,function*(){let r=FU(t);try{let i=yield function(o,c){let u=we(o),d=nt.now(),f=c.reduce((C,A)=>C.add(A.key),tt()),g,I;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let A=nd(),P=tt();return u.cs.getEntries(C,f).next(x=>{A=x,A.forEach((F,Q)=>{Q.isValidDocument()||(P=P.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,A)).next(x=>{g=x;let F=[];for(let Q of c){let Z=iU(Q,g.get(Q.key).overlayedDocument);Z!=null&&F.push(new Wn(Q.key,Z,mT(Z.value.mapValue),wi.exists(!0)))}return u.mutationQueue.addMutationBatch(C,d,F,c)}).next(x=>{I=x;let F=x.applyToLocalDocumentSet(g,P);return u.documentOverlayCache.saveOverlays(C,x.batchId,F)})}).then(()=>({batchId:I.batchId,changes:bT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Dt(Ie)),d=d.insert(c,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield wd(r,i.changes),yield Id(r.remoteStore)}catch(i){let s=BT(i,"Failed to persist write");n.reject(s)}})}function oT(t,e,n){let r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=we(o);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let I of g.j_)I.Z_(c)&&(d=!0)}),d&&NU(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function PU(t,e){return _(this,null,function*(){let n=we(t),r=e.batch.batchId;try{let i=yield IU(n.localStore,e);HT(n,r,null),$T(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield wd(n,i)}catch(i){yield dT(i)}})}function OU(t,e,n){return _(this,null,function*(){let r=we(t);try{let i=yield function(o,c){let u=we(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(Ae(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);HT(r,e,n),$T(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield wd(r,i)}catch(i){yield dT(i)}})}function $T(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function HT(t,e,n){let r=we(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wd(t,e,n){return _(this,null,function*(){let r=we(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=by.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return _(this,null,function*(){let f=we(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>N.forEach(d,I=>N.forEach(I.$i,C=>f.persistence.referenceDelegate.addReference(g,I.targetId,C)).next(()=>N.forEach(I.Ui,C=>f.persistence.referenceDelegate.removeReference(g,I.targetId,C)))))}catch(g){if(!yd(g))throw g;L("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let I=g.targetId;if(!g.fromCache){let C=f.os.get(I),A=C.snapshotVersion,P=C.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(I,P)}}})}(r.localStore,s))})}function kU(t,e){return _(this,null,function*(){let n=we(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield FT(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new B(R.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wd(n,r.hs)}})}function FU(t){let e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OU.bind(null,e),e}var aT=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=vd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return _U(this.persistence,new Sy,n.initialUser,this.serializer)}Ga(n){return new Ey(Cy.Zr,this.serializer)}Wa(n){return new Ry}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var VU=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kU.bind(null,this.syncEngine),yield MU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Uy}()}createDatastore(n){let r=vd(n.databaseInfo.databaseId),i=function(o){return new xy(o)}(n.databaseInfo);return function(o,c,u,d){return new ky(o,c,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new Vy(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>oT(this.syncEngine,r,0),function(){return od.D()?new od:new My}())}createSyncEngine(n,r){return function(s,o,c,u,d,f,g){let I=new jy(s,o,c,u,d,f);return g&&(I.Qa=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(s){return _(this,null,function*(){let o=we(s);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield qa(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var By=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=Zl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>_(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=BT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Rm(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield FT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function cT(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield LU(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>nT(e.remoteStore,i)),t._onlineComponents=e})}function LU(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ql("Error using user provided cache. Falling back to memory cache: "+n),yield Rm(t,new aT)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Rm(t,new aT);return t._offlineComponents})}function UU(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield cT(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield cT(t,new VU))),t._onlineComponents})}function jU(t){return UU(t).then(e=>e.syncEngine)}function qT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var uT=new Map;function BU(t,e,n){if(!n)throw new B(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $U(t,e,n,r){if(e===!0&&r===!0)throw new B(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lT(t){if(!te.isDocumentKey(t))throw new B(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function $y(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=tv(t);throw new B(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var cd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$U("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ba=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mm;switch(r.type){case"firstParty":return new Om(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=uT.get(n);r&&(L("ComponentProvider","Removing Datastore"),uT.delete(n),r.terminate())}(this),Promise.resolve()}};function zT(t,e,n,r={}){var i;let s=(t=$y(t,Ba))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=He.MOCK_USER;else{c=_C(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new B(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new He(d)}t._authCredentials=new Nm(new Yl(c,u))}}var Hy=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},$a=class t extends Hy{constructor(e,n,r){super(e,n,HL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GT(t,e,...n){if(t=kt(t),arguments.length===1&&(e=Zl.newId()),BU("doc","path",e),t instanceof Ba){let r=qe.fromString(e,...n);return lT(r),new zn(t,null,new te(r))}{if(!(t instanceof zn||t instanceof $a))throw new B(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return lT(r),new zn(t.firestore,t instanceof $a?t.converter:null,new te(r))}}var ud=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ad(this,"async_queue_retry"),this.Vu=()=>{let r=Am();r&&L("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new qn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yd(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Ly.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&oe()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var ld=class extends Ba{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ud,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ud(e),this._firestoreClient=void 0,yield e}})}};function WT(t,e){let n=typeof t=="object"?t:As(),r=typeof t=="string"?t:e||"(default)",i=wa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=vC("firestore");s&&zT(i,...s)}return i}function HU(t){if(t._terminated)throw new B(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qU(t),t._firestoreClient}function qU(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,d,f){return new jm(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new By(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var dd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Gn.fromBase64String(e))}catch(n){throw new B(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var hd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fd=class{constructor(e){this._methodName=e}};var pd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var gd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var zU=/^__.*__$/,qy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Si(e,this.data,n,this.fieldTransforms)}};function KT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var zy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return md(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(KT(this.Cu)&&zU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Gy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vd(e)}Qu(e,n,r,i=!1){return new zy({Cu:e,methodName:n,qu:r,path:Et.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function GU(t){let e=t._freezeSettings(),n=vd(t._databaseId);return new Gy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WU(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);JT("Data must be an object, but it was:",o,r);let c=YT(r,o),u,d;if(s.merge)u=new pn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let I=KU(e,g,n);if(!o.contains(I))throw new B(R.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);ZU(f,I)||f.push(I)}u=new pn(f),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new qy(new fn(c),u,d)}function QT(t,e){if(ZT(t=kt(t)))return JT("Unsupported field value:",e,t),YT(t,e);if(t instanceof fd)return function(r,i){if(!KT(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=QT(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=nt.fromDate(r);return{timestampValue:oy(i.serializer,s)}}if(r instanceof nt){let s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oy(i.serializer,s)}}if(r instanceof pd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dd)return{bytesValue:aU(i.serializer,r._byteString)};if(r instanceof zn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:OT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gd)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return ev(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${tv(r)}`)}(t,e)}function YT(t,e){let n={};return hT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(t,(r,i)=>{let s=QT(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof pd||t instanceof dd||t instanceof zn||t instanceof fd||t instanceof gd)}function JT(t,e,n){if(!ZT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=tv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function KU(t,e,n){if((e=kt(e))instanceof hd)return e._internalPath;if(typeof e=="string")return YU(t,e);throw md("Field path arguments must be of type string or ",t,!1,void 0,n)}var QU=new RegExp("[~\\*/\\[\\]]");function YU(t,e,n){if(e.search(QU)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hd(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function md(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new B(R.INVALID_ARGUMENT,c+t+u)}function ZU(t,e){return t.some(n=>n.isEqual(e))}function JU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function XT(t,e,n){t=$y(t,zn);let r=$y(t.firestore,ld),i=JU(t.converter,e,n);return XU(r,[WU(GU(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wi.none())])}function XU(t,e){return function(r,i){let s=new qn;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return xU(yield jU(r),i,s)})),s.promise}(HU(t),e)}(function(e,n=!0){(function(i){Js=i})(Ar),Sr(new Ft("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new ld(new xm(r.getProvider("auth-internal")),new Fm(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new B(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bm(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Le(Hb,"4.7.3",e),Le(Hb,"4.7.3","esm2017")})();var Ai=class{constructor(e){return e}},e0="firestore",nv=class{constructor(){return Ea(e0)}};var rv=new V("angularfire2.firestore-instances");function ej(t,e){let n=El(e0,t,e);return n&&new Ai(n)}function tj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ai(r)}}var nj={provide:nv,deps:[[new ct,rv]]},rj={provide:Ai,useFactory:ej,deps:[[new ct,rv],jn]};function t0(t,...e){return Le("angularfire",hi.full,"fst"),en([rj,nj,{provide:rv,useFactory:tj(t),multi:!0,deps:[me,Qe,Ns,fi,[new ct,Ra],[new ct,Ms],...e]}])}var n0=Rr(GT,!0);var r0=Rr(WT,!0);var i0=Rr(XT,!0);var s0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Mt({type:t,selectors:[["app-home"]],standalone:!0,features:[Pt],decls:2,vars:0,template:function(r,i){r&1&&(K(0,"p"),he(1,"home works!"),$())}})}}return t})();var o0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Mt({type:t,selectors:[["app-login"]],standalone:!0,features:[Pt],decls:20,vars:0,consts:[[1,"flex","min-h-screen","items-center","justify-center","bg-gray-100"],[1,"w-full","max-w-md","p-8","bg-white","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","text-center","text-gray-800"],[1,"mt-6","space-y-6"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","name","email","placeholder","Enter your email","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","name","password","placeholder","Enter your password","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","submit",1,"w-full","py-3","px-4","mt-4","text-white","bg-blue-600","rounded-lg","hover:bg-blue-700","transition-colors","duration-200"],[1,"my-6","border-t","border-gray-300"],[1,"mt-6","text-center","text-sm","text-gray-600"],["routerLink","/register",1,"text-blue-600","hover:underline"]],template:function(r,i){r&1&&(K(0,"div",0)(1,"div",1)(2,"h2",2),he(3,"Login to Your Account"),$(),K(4,"form",3)(5,"div")(6,"label",4),he(7,"Email"),$(),xt(8,"input",5),$(),K(9,"div")(10,"label",6),he(11,"Password"),$(),xt(12,"input",7),$(),K(13,"button",8),he(14," Login "),$()(),xt(15,"div",9),K(16,"p",10),he(17," Don't have an account? "),K(18,"a",11),he(19,"Sign up"),$()()()())},dependencies:[Ss,Ts]})}}return t})();var m0=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(X(Mn),X(nn))}}static{this.\u0275dir=xe({type:t})}}return t})(),sv=(()=>{class t extends m0{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yr(t)))(i||t)}})()}static{this.\u0275dir=xe({type:t,features:[$t]})}}return t})(),Rd=new V("");var ij={provide:Rd,useExisting:Sn(()=>Md),multi:!0};function sj(){let t=On()?On().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var oj=new V(""),Md=(()=>{class t extends m0{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!sj())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(X(Mn),X(nn),X(oj,8))}}static{this.\u0275dir=xe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&on("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ni([ij]),$t]})}}return t})();function aj(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var ov=new V(""),y0=new V("");function cj(t){return aj(t.value)?{required:!0}:null}function a0(t){return null}function v0(t){return t!=null}function _0(t){return ri(t)?Ce(t):t}function I0(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function w0(t,e){return e.map(n=>n(t))}function uj(t){return!t.validate}function E0(t){return t.map(e=>uj(e)?e:n=>e.validate(n))}function lj(t){if(!t)return null;let e=t.filter(v0);return e.length==0?null:function(n){return I0(w0(n,e))}}function av(t){return t!=null?lj(E0(t)):null}function dj(t){if(!t)return null;let e=t.filter(v0);return e.length==0?null:function(n){let r=w0(n,e).map(_0);return bh(r).pipe(ee(I0))}}function cv(t){return t!=null?dj(E0(t)):null}function c0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function hj(t){return t._rawValidators}function fj(t){return t._rawAsyncValidators}function iv(t){return t?Array.isArray(t)?t:[t]:[]}function Dd(t,e){return Array.isArray(t)?t.includes(e):t===e}function u0(t,e){let n=iv(e);return iv(t).forEach(i=>{Dd(n,i)||n.push(i)}),n}function l0(t,e){return iv(e).filter(n=>!Dd(t,n))}var Cd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=av(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},to=class extends Cd{get formDirective(){return null}get path(){return null}},Za=class extends Cd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},pj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},D6=ne(k({},pj),{"[class.ng-submitted]":"isSubmitted"}),D0=(()=>{class t extends bd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(X(Za,2))}}static{this.\u0275dir=xe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$t]})}}return t})(),C0=(()=>{class t extends bd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(X(to,10))}}static{this.\u0275dir=xe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[$t]})}}return t})();var Ga="VALID",Ed="INVALID",Xs="PENDING",Wa="DISABLED",no=class{},Td=class extends no{constructor(e,n){super(),this.value=e,this.source=n}},Qa=class extends no{constructor(e,n){super(),this.pristine=e,this.source=n}},Ya=class extends no{constructor(e,n){super(),this.touched=e,this.source=n}},eo=class extends no{constructor(e,n){super(),this.status=e,this.source=n}};function b0(t){return(Nd(t)?t.validators:t)||null}function gj(t){return Array.isArray(t)?av(t):t||null}function T0(t,e){return(Nd(e)?e.asyncValidators:t)||null}function mj(t){return Array.isArray(t)?cv(t):t||null}function Nd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function yj(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function vj(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new U(1002,"")})}var Sd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Go(()=>this.statusReactive()),this.statusReactive=qo(void 0),this._pristine=Go(()=>this.pristineReactive()),this.pristineReactive=qo(!0),this._touched=Go(()=>this.touchedReactive()),this.touchedReactive=qo(!1),this._events=new Ue,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(e){xn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ga}get invalid(){return this.status===Ed}get pending(){return this.status==Xs}get disabled(){return this.status===Wa}get enabled(){return this.status!==Wa}get pristine(){return xn(this.pristineReactive)}set pristine(e){xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(e){xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(u0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(u0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(l0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(l0(e,this._rawAsyncValidators))}hasValidator(e){return Dd(this._rawValidators,e)}hasAsyncValidator(e){return Dd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ne(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ya(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ya(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ne(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qa(!0,r))}markAsPending(e={}){this.status=Xs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new eo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ne(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wa,this.errors=null,this._forEachChild(i=>{i.disable(ne(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Td(this.value,r)),this._events.next(new eo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ga,this._forEachChild(r=>{r.enable(ne(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ga||this.status===Xs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Td(this.value,n)),this._events.next(new eo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ne(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wa:Ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Xs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=_0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new eo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Wa:this.errors?Ed:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xs)?Xs:this._anyControlsHaveStatus(Ed)?Ed:Ga}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Qa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ya(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=gj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=mj(this._rawAsyncValidators)}},Ad=class extends Sd{constructor(e,n,r){super(b0(n),T0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){vj(this,!0,e),Object.keys(e).forEach(r=>{yj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var uv=new V("CallSetDisabledState",{providedIn:"root",factory:()=>lv}),lv="always";function _j(t,e){return[...e.path,t]}function S0(t,e,n=lv){A0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),wj(t,e),Dj(t,e),Ej(t,e),Ij(t,e)}function d0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ij(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function A0(t,e){let n=hj(t);e.validator!==null?t.setValidators(c0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=fj(t);e.asyncValidator!==null?t.setAsyncValidators(c0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();d0(e._rawValidators,i),d0(e._rawAsyncValidators,i)}function wj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&R0(t,e)})}function Ej(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&R0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function R0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Dj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Cj(t,e){t==null,A0(t,e)}function bj(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Tj(t){return Object.getPrototypeOf(t.constructor)===sv}function Sj(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Aj(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Md?n=s:Tj(s)?r=s:i=s}),i||r||n||null}var Rj={provide:to,useExisting:Sn(()=>dv)},Ka=Promise.resolve(),dv=(()=>{class t extends to{get submitted(){return xn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Go(()=>this.submittedReactive()),this.submittedReactive=qo(!1),this._directives=new Set,this.ngSubmit=new Ne,this.form=new Ad({},av(n),cv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ka.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),S0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ka.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ka.then(()=>{let r=this._findContainer(n.path),i=new Ad({});Cj(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ka.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ka.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Sj(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(X(ov,10),X(y0,10),X(uv,8))}}static{this.\u0275dir=xe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&on("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ni([Rj]),$t]})}}return t})();function h0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function f0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Mj=class extends Sd{constructor(e=null,n,r){super(b0(n),T0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(f0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){h0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){h0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){f0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Nj={provide:Za,useExisting:Sn(()=>hv)},p0=Promise.resolve(),hv=(()=>{class t extends Za{constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new Mj,this._registered=!1,this.name="",this.update=new Ne,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Aj(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),bj(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){S0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){p0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&wr(r);p0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?_j(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(X(to,9),X(ov,10),X(y0,10),X(Rd,10),X(si,8),X(uv,8))}}static{this.\u0275dir=xe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ni([Nj]),$t,fr]})}}return t})(),M0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=xe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var xj={provide:Rd,useExisting:Sn(()=>xd),multi:!0};function N0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Pj(t){return t.split(":")[0]}var xd=(()=>{class t extends sv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=N0(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=Pj(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yr(t)))(i||t)}})()}static{this.\u0275dir=xe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&on("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ni([xj]),$t]})}}return t})(),x0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(N0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(X(nn),X(Mn),X(xd,9))}}static{this.\u0275dir=xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),Oj={provide:Rd,useExisting:Sn(()=>P0),multi:!0};function g0(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function kj(t){return t.split(":")[0]}var P0=(()=>{class t extends sv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let u=o[c],d=this._getOptionValue(u.value);i.push(d)}}else{let o=r.options;for(let c=0;c<o.length;c++){let u=o[c];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=kj(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yr(t)))(i||t)}})()}static{this.\u0275dir=xe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&on("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ni([Oj]),$t]})}}return t})(),O0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(g0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(g0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(X(nn),X(Mn),X(P0,9))}}static{this.\u0275dir=xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var Fj=(()=>{class t{constructor(){this._validator=a0}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):a0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=xe({type:t,features:[fr]})}}return t})();var Vj={provide:ov,useExisting:Sn(()=>fv),multi:!0};var fv=(()=>{class t extends Fj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=wr,this.createValidator=n=>cj}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yr(t)))(i||t)}})()}static{this.\u0275dir=xe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&zo("required",i._enabled?"":null)},inputs:{required:"required"},features:[ni([Vj]),$t]})}}return t})();var Lj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=hr({type:t})}static{this.\u0275inj=dr({})}}return t})();var k0=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:uv,useValue:n.callSetDisabledState??lv}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=hr({type:t})}static{this.\u0275inj=dr({imports:[Lj]})}}return t})();var F0=(()=>{class t{constructor(){this.auth=M(vi),this.firestore=M(Ai)}register(n,r,i,s,o){return _(this,null,function*(){let c=yield Lb(this.auth,n,r),u=c.user;return yield i0(n0(this.firestore,"users",u.uid),{firstName:i,lastName:s,email:n,type:o}),c})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Bj(t,e){t&1&&(K(0,"div",32),he(1," Email is required. "),$())}function $j(t,e){t&1&&(K(0,"div",32),he(1," First name is required. "),$())}function Hj(t,e){t&1&&(K(0,"div",32),he(1," Last name is required. "),$())}function qj(t,e){t&1&&(K(0,"div",32),he(1," Password is required. "),$())}function zj(t,e){t&1&&(K(0,"div",32),he(1," Confirm password is required. "),$())}function Gj(t,e){t&1&&(K(0,"div",32),he(1," Passwords do not match. "),$())}function Wj(t,e){t&1&&(K(0,"div",32),he(1," User type is required. "),$())}function Kj(t,e){t&1&&(K(0,"div",33),xt(1,"div",34),$())}var V0=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.isLoading=!1}onRegister(n){return _(this,null,function*(){n.invalid||(this.isLoading=!0,yield this.authService.register(this.email,this.password,this.firstName,this.lastName,this.userType),this.isLoading=!1,this.router.navigate(["/"]))})}static{this.\u0275fac=function(r){return new(r||t)(X(F0),X(zt))}}static{this.\u0275cmp=Mt({type:t,selectors:[["app-register"]],standalone:!0,features:[Pt],decls:57,vars:14,consts:[["registerForm","ngForm"],["emailInput","ngModel"],["firstNameInput","ngModel"],["lastNameInput","ngModel"],["passwordInput","ngModel"],["confirmPasswordInput","ngModel"],["userTypeInput","ngModel"],[1,"flex","min-h-screen","items-center","justify-center","bg-gray-100"],[1,"w-full","max-w-md","p-8","bg-white","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","text-center","text-gray-800"],[3,"ngSubmit"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","name","email","placeholder","Enter your email","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["class","text-red-500 text-sm",4,"ngIf"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","firstName","name","firstName","placeholder","Enter your first name","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","lastName","name","lastName","placeholder","Enter your last name","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","name","password","placeholder","Enter your password","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm your password","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["for","userType",1,"block","text-sm","font-medium","text-gray-700"],["id","userType","name","userType","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","hiker"],["value","hikingClub"],["type","submit",1,"w-full","py-3","px-4","mt-4","text-white","bg-blue-600","rounded-lg","hover:bg-blue-700","transition-colors","duration-200"],["class","fixed inset-0 flex items-center justify-center bg-gray-100 bg-opacity-75 z-50",4,"ngIf"],[1,"my-6","border-t","border-gray-300"],[1,"text-center","text-sm","text-gray-600"],["routerLink","/login",1,"text-blue-600","hover:underline"],[1,"text-red-500","text-sm"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-gray-100","bg-opacity-75","z-50"],[1,"animate-spin","rounded-full","h-32","w-32","border-t-2","border-b-2","border-blue-500"]],template:function(r,i){if(r&1){let s=HE();K(0,"div",7)(1,"div",8)(2,"h2",9),he(3,"Create an Account"),$(),K(4,"form",10,0),on("ngSubmit",function(){gr(s);let c=vr(5);return mr(i.onRegister(c))}),K(6,"div")(7,"label",11),he(8,"Email"),$(),K(9,"input",12,1),Ir("ngModelChange",function(c){return gr(s),ti(i.email,c)||(i.email=c),mr(c)}),$(),Nn(11,Bj,2,0,"div",13),$(),K(12,"div")(13,"label",14),he(14,"First Name"),$(),K(15,"input",15,2),Ir("ngModelChange",function(c){return gr(s),ti(i.firstName,c)||(i.firstName=c),mr(c)}),$(),Nn(17,$j,2,0,"div",13),$(),K(18,"div")(19,"label",16),he(20,"Last Name"),$(),K(21,"input",17,3),Ir("ngModelChange",function(c){return gr(s),ti(i.lastName,c)||(i.lastName=c),mr(c)}),$(),Nn(23,Hj,2,0,"div",13),$(),K(24,"div")(25,"label",18),he(26,"Password"),$(),K(27,"input",19,4),Ir("ngModelChange",function(c){return gr(s),ti(i.password,c)||(i.password=c),mr(c)}),$(),Nn(29,qj,2,0,"div",13),$(),K(30,"div")(31,"label",20),he(32,"Confirm Password"),$(),K(33,"input",21,5),Ir("ngModelChange",function(c){return gr(s),ti(i.confirmPassword,c)||(i.confirmPassword=c),mr(c)}),$(),Nn(35,zj,2,0,"div",13)(36,Gj,2,0,"div",13),$(),K(37,"div")(38,"label",22),he(39,"User Type"),$(),K(40,"select",23,6),Ir("ngModelChange",function(c){return gr(s),ti(i.userType,c)||(i.userType=c),mr(c)}),K(42,"option",24),he(43,"Select user type"),$(),K(44,"option",25),he(45,"Hiker"),$(),K(46,"option",26),he(47,"Hiking Club"),$()(),Nn(48,Wj,2,0,"div",13),$(),K(49,"button",27),he(50," Register "),$()(),Nn(51,Kj,2,0,"div",28),xt(52,"div",29),K(53,"p",30),he(54," Already have an account? "),K(55,"a",31),he(56,"Login"),$()()()()}if(r&2){let s=vr(10),o=vr(16),c=vr(22),u=vr(28),d=vr(34),f=vr(41);lt(9),_r("ngModel",i.email),lt(2),sn("ngIf",s.invalid&&s.touched),lt(4),_r("ngModel",i.firstName),lt(2),sn("ngIf",o.invalid&&o.touched),lt(4),_r("ngModel",i.lastName),lt(2),sn("ngIf",c.invalid&&c.touched),lt(4),_r("ngModel",i.password),lt(2),sn("ngIf",u.invalid&&u.touched),lt(4),_r("ngModel",i.confirmPassword),lt(2),sn("ngIf",d.invalid&&d.touched),lt(),sn("ngIf",i.password!==i.confirmPassword&&d.touched),lt(4),_r("ngModel",i.userType),lt(8),sn("ngIf",f.invalid&&f.touched),lt(3),sn("ngIf",i.isLoading)}},dependencies:[k0,M0,x0,O0,Md,xd,D0,C0,fv,hv,dv,Ss,Ts,Ep,lD]})}}return t})();var L0=[{path:"",component:s0},{path:"login",component:o0},{path:"register",component:V0}];var U0={apiKey:"AIzaSyCu5CPQCRQ7_qsOst9yUHo9_VXxDZ7RQv0",authDomain:"master-b6858.firebaseapp.com",projectId:"master-b6858",storageBucket:"master-b6858.firebasestorage.app",messagingSenderId:"21300314672",appId:"1:21300314672:web:8cd1730aa552dff5f3e3f5"};var j0={providers:[HC(()=>_l(U0)),Vb(()=>Ub()),t0(()=>r0()),ZE({eventCoalescing:!0}),lC(L0)]};var B0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Mt({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Pt],decls:8,vars:0,consts:[[1,"bg-gray-800","p-4"],[1,"flex","space-x-4"],["routerLink","/login",1,"text-white","hover:text-gray-400"],["routerLink","/register",1,"text-white","hover:text-gray-400"]],template:function(r,i){r&1&&(K(0,"nav",0)(1,"ul",1)(2,"li")(3,"a",2),he(4,"Login"),$()(),K(5,"li")(6,"a",3),he(7,"Register"),$()()()())},dependencies:[Ss,Ts]})}}return t})();var $0=(()=>{class t{constructor(){this.title="master"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Mt({type:t,selectors:[["app-root"]],standalone:!0,features:[Pt],decls:2,vars:0,template:function(r,i){r&1&&xt(0,"app-navbar")(1,"router-outlet")},dependencies:[ug,B0]})}}return t})();ID($0,j0).catch(t=>console.error(t));
