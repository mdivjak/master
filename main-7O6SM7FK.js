var DR=Object.defineProperty,CR=Object.defineProperties;var bR=Object.getOwnPropertyDescriptors;var KI=Object.getOwnPropertySymbols,TR=Object.getPrototypeOf,SR=Object.prototype.hasOwnProperty,AR=Object.prototype.propertyIsEnumerable,RR=Reflect.get;var QI=(t,e,n)=>e in t?DR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})SR.call(e,n)&&QI(t,n,e[n]);if(KI)for(var n of KI(e))AR.call(e,n)&&QI(t,n,e[n]);return t},le=(t,e)=>CR(t,bR(e));var pr=(t,e,n)=>RR(TR(t),n,e);var y=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function YI(t,e){return Object.is(t,e)}var $e=null,Xc=!1,eu=1,jn=Symbol("SIGNAL");function ye(t){let e=$e;return $e=t,e}function ZI(){return $e}var Go={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function af(t){if(Xc)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(iu($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&zo($e)){let n=$e.producerNode[e];ru(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=zo($e)?tw(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function MR(){eu++}function JI(t){if(!(zo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===eu)){if(!t.producerMustRecompute(t)&&!uf(t)){t.dirty=!1,t.lastCleanEpoch=eu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=eu}}function XI(t){if(t.liveConsumerNode===void 0)return;let e=Xc;Xc=!0;try{for(let n of t.liveConsumerNode)n.dirty||NR(n)}finally{Xc=e}}function ew(){return $e?.consumerAllowSignalWrites!==!1}function NR(t){t.dirty=!0,XI(t),t.consumerMarkedDirty?.(t)}function nu(t){return t&&(t.nextProducerIndex=0),ye(t)}function cf(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ru(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function uf(t){iu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(JI(n),r!==n.version))return!0}return!1}function lf(t){if(iu(t),zo(t))for(let e=0;e<t.producerNode.length;e++)ru(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function tw(t,e,n){if(nw(t),t.liveConsumerNode.length===0&&rw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=tw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ru(t,e){if(nw(t),t.liveConsumerNode.length===1&&rw(t))for(let r=0;r<t.producerNode.length;r++)ru(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];iu(i),i.producerIndexOfThis[r]=e}}function zo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function iu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function nw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function rw(t){return t.producerNode!==void 0}function iw(t){let e=Object.create(xR);e.computation=t;let n=()=>{if(JI(e),af(e),e.value===tu)throw e.error;return e.value};return n[jn]=e,n}var sf=Symbol("UNSET"),of=Symbol("COMPUTING"),tu=Symbol("ERRORED"),xR=le(k({},Go),{value:sf,dirty:!0,error:null,equal:YI,producerMustRecompute(t){return t.value===sf||t.value===of},producerRecomputeValue(t){if(t.value===of)throw new Error("Detected cycle in computations.");let e=t.value;t.value=of;let n=nu(t),r;try{r=t.computation()}catch(i){r=tu,t.error=i}finally{cf(t,n)}if(e!==sf&&e!==tu&&r!==tu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function PR(){throw new Error}var sw=PR;function ow(){sw()}function aw(t){sw=t}var OR=null;function cw(t){let e=Object.create(lw);e.value=t;let n=()=>(af(e),e.value);return n[jn]=e,n}function df(t,e){ew()||ow(),t.equal(t.value,e)||(t.value=e,kR(t))}function uw(t,e){ew()||ow(),df(t,e(t.value))}var lw=le(k({},Go),{equal:YI,value:void 0});function kR(t){t.version++,MR(),XI(t),OR?.()}function te(t){return typeof t=="function"}function Wi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var su=Wi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ni(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(s){e=s instanceof su?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{dw(s)}catch(o){e=e??[],o instanceof su?e=[...e,...o.errors]:e.push(o)}}if(e)throw new su(e)}}add(e){var n;if(e&&e!==this)if(this.closed)dw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ni(n,e)}remove(e){let{_finalizers:n}=this;n&&ni(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var hf=Ne.EMPTY;function ou(t){return t instanceof Ne||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function dw(t){te(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ki={setTimeout(t,e,...n){let{delegate:r}=Ki;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ki;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function au(t){Ki.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function Wo(){}var hw=ff("C",void 0,void 0);function fw(t){return ff("E",void 0,t)}function pw(t){return ff("N",t,void 0)}function ff(t,e,n){return{kind:t,value:e,error:n}}var ri=null;function Qi(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!ri;if(e&&(ri={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ri;if(ri=null,n)throw r}}else t()}function gw(t){Qt.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=t)}var ii=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ou(e)&&e.add(this)):this.destination=LR}static create(e,n,r){return new Yi(e,n,r)}next(e){this.isStopped?gf(pw(e),this):this._next(e)}error(e){this.isStopped?gf(fw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gf(hw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FR=Function.prototype.bind;function pf(t,e){return FR.call(t,e)}var mf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cu(r)}else cu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cu(n)}}},Yi=class extends ii{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pf(e.next,s),error:e.error&&pf(e.error,s),complete:e.complete&&pf(e.complete,s)}):i=e}this.destination=new mf(i)}};function cu(t){Qt.useDeprecatedSynchronousErrorHandling?gw(t):au(t)}function VR(t){throw t}function gf(t,e){let{onStoppedNotification:n}=Qt;n&&Ki.setTimeout(()=>n(t,e))}var LR={closed:!0,next:Wo,error:VR,complete:Wo};var Zi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mt(t){return t}function yf(...t){return vf(t)}function vf(t){return t.length===0?Mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=UR(n)?n:new Yi(n,r,i);return Qi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=mw(r),new r((i,s)=>{let o=new Yi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Zi](){return this}pipe(...n){return vf(n)(this)}toPromise(n){return n=mw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function mw(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function jR(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function UR(t){return t&&t instanceof ii||jR(t)&&ou(t)}function _f(t){return te(t?.lift)}function ge(t){return e=>{if(_f(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new If(t,e,n,r,i)}var If=class extends ii{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ji(){return ge((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Xi=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_f(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Ji()(this)}};var yw=Wi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new uu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yw}next(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?hf:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,ni(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new uu(e,n),t})(),uu=class extends We{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:hf}};var Oe=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wf={now(){return(wf.delegate||Date).now()},delegate:void 0};var lu=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var Ko={setInterval(t,e,...n){let{delegate:r}=Ko;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ko;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var es=class extends lu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ko.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ko.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ni(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ts=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ts.now=wf.now;var ns=class extends ts{constructor(e,n=ts.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ef=new ns(es);var du=class extends es{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var hu=class extends ns{};var Df=new hu(du);var Nt=new pe(t=>t.complete());function vw(t){return t&&te(t.schedule)}function _w(t){return t[t.length-1]}function fu(t){return te(_w(t))?t.pop():void 0}function gr(t){return vw(_w(t))?t.pop():void 0}function Cf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ww(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Iw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(t){return this instanceof si?(this.v=t,this):new si(t)}function Ew(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(w){return function(A){return Promise.resolve(A).then(w,p)}}function a(w,A){r[w]&&(i[w]=function(M){return new Promise(function(R,F){s.push([w,M,R,F])>1||u(w,M)})},A&&(i[w]=A(i[w])))}function u(w,A){try{l(r[w](A))}catch(M){v(s[0][3],M)}}function l(w){w.value instanceof si?Promise.resolve(w.value.v).then(f,p):v(s[0][2],w)}function f(w){u("next",w)}function p(w){u("throw",w)}function v(w,A){w(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Dw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Iw=="function"?Iw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var pu=t=>t&&typeof t.length=="number"&&typeof t!="function";function gu(t){return te(t?.then)}function mu(t){return te(t[Zi])}function yu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function vu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _u=BR();function Iu(t){return te(t?.[_u])}function wu(t){return Ew(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield si(n.read());if(i)return yield si(void 0);yield yield si(r)}}finally{n.releaseLock()}})}function Eu(t){return te(t?.getReader)}function ke(t){if(t instanceof pe)return t;if(t!=null){if(mu(t))return $R(t);if(pu(t))return HR(t);if(gu(t))return qR(t);if(yu(t))return Cw(t);if(Iu(t))return zR(t);if(Eu(t))return GR(t)}throw vu(t)}function $R(t){return new pe(e=>{let n=t[Zi]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HR(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function qR(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,au)})}function zR(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Cw(t){return new pe(e=>{WR(t,e).catch(n=>e.error(n))})}function GR(t){return Cw(wu(t))}function WR(t,e){var n,r,i,s;return ww(this,void 0,void 0,function*(){try{for(n=Dw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function mr(t,e=0){return ge((n,r)=>{n.subscribe(de(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function yr(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bw(t,e){return ke(t).pipe(yr(e),mr(e))}function Tw(t,e){return ke(t).pipe(yr(e),mr(e))}function Sw(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Aw(t,e){return new pe(n=>{let r;return Ct(n,e,()=>{r=t[_u](),Ct(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Du(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Rw(t,e){return Du(wu(t),e)}function Mw(t,e){if(t!=null){if(mu(t))return bw(t,e);if(pu(t))return Sw(t,e);if(gu(t))return Tw(t,e);if(yu(t))return Du(t,e);if(Iu(t))return Aw(t,e);if(Eu(t))return Rw(t,e)}throw vu(t)}function Ae(t,e){return e?Mw(t,e):ke(t)}function K(...t){let e=gr(t);return Ae(t,e)}function rs(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function bf(t){return!!t&&(t instanceof pe||te(t.lift)&&te(t.subscribe))}var Un=Wi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return ge((n,r)=>{let i=0;n.subscribe(de(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:KR}=Array;function QR(t,e){return KR(e)?t(...e):t(e)}function Cu(t){return se(e=>QR(t,e))}var{isArray:YR}=Array,{getPrototypeOf:ZR,prototype:JR,keys:XR}=Object;function bu(t){if(t.length===1){let e=t[0];if(YR(e))return{args:e,keys:null};if(eM(e)){let n=XR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eM(t){return t&&typeof t=="object"&&ZR(t)===JR}function Tu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Qo(...t){let e=gr(t),n=fu(t),{args:r,keys:i}=bu(t);if(r.length===0)return Ae([],e);let s=new pe(tM(r,e,i?o=>Tu(i,o):Mt));return n?s.pipe(Cu(n)):s}function tM(t,e,n=Mt){return r=>{Nw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)Nw(e,()=>{let l=Ae(t[u],e),f=!1;l.subscribe(de(r,p=>{s[u]=p,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Nw(t,e,n){t?Ct(n,t,e):e()}function xw(t,e,n,r,i,s,o,a){let u=[],l=0,f=0,p=!1,v=()=>{p&&!u.length&&!l&&e.complete()},w=M=>l<r?A(M):u.push(M),A=M=>{s&&e.next(M),l++;let R=!1;ke(n(M,f++)).subscribe(de(e,F=>{i?.(F),s?w(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?Ct(e,o,()=>A(F)):A(F)}v()}catch(F){e.error(F)}}))};return t.subscribe(de(e,w,()=>{p=!0,v()})),()=>{a?.()}}function Fe(t,e,n=1/0){return te(e)?Fe((r,i)=>se((s,o)=>e(r,s,i,o))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>xw(r,i,t,n)))}function is(t=1/0){return Fe(Mt,t)}function Pw(){return is(1)}function ss(...t){return Pw()(Ae(t,gr(t)))}function Su(t){return new pe(e=>{ke(t()).subscribe(e)})}function Tf(...t){let e=fu(t),{args:n,keys:r}=bu(t),i=new pe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let p=!1;ke(n[f]).subscribe(de(s,v=>{p||(p=!0,l--),a[f]=v},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Tu(r,a):a),s.complete())}))}});return e?i.pipe(Cu(e)):i}function Lt(t,e){return ge((n,r)=>{let i=0;n.subscribe(de(r,s=>t.call(e,s,i++)&&r.next(s)))})}function vr(t){return ge((e,n)=>{let r=null,i=!1,s;r=e.subscribe(de(n,void 0,void 0,o=>{s=ke(t(o,vr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Ow(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(de(o,f=>{let p=l++;u=a?t(u,f,p):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function oi(t,e){return te(e)?Fe(t,e,1):Fe(t,1)}function _r(t){return ge((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function bt(t){return t<=0?()=>Nt:ge((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Sf(t){return se(()=>t)}function Au(t=nM){return ge((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function nM(){return new Un}function Yo(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function un(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Lt((i,s)=>t(i,s,r)):Mt,bt(1),n?_r(e):Au(()=>new Un))}function os(t){return t<=0?()=>Nt:ge((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Af(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Lt((i,s)=>t(i,s,r)):Mt,os(1),n?_r(e):Au(()=>new Un))}function Rf(t,e){return ge(Ow(t,e,arguments.length>=2,!0))}function Mf(...t){let e=gr(t);return ge((n,r)=>{(e?ss(t,n,e):ss(t,n)).subscribe(r)})}function jt(t,e){return ge((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,f=s++;ke(t(u,f)).subscribe(i=de(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Nf(t){return ge((e,n)=>{ke(t).subscribe(de(n,()=>n.complete(),Wo)),!n.closed&&e.subscribe(n)})}function He(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(de(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Mt}var yE="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(Np(e,n)),this.code=e}};function Np(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function sa(t){return{toString:t}.toString()}var Ru="__parameters__";function rM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function vE(t,e,n){return sa(()=>{let r=rM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,f){let p=u.hasOwnProperty(Ru)?u[Ru]:Object.defineProperty(u,Ru,{value:[]})[Ru];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var zf=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function iM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function gt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(gt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function kw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sM=Ce({__forward_ref__:Ce});function qn(t){return t.__forward_ref__=qn,t.toString=function(){return gt(this())},t}function pt(t){return _E(t)?t():t}function _E(t){return typeof t=="function"&&t.hasOwnProperty(sM)&&t.__forward_ref__===qn}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ar(t){return{providers:t.providers||[],imports:t.imports||[]}}function ul(t){return Fw(t,wE)||Fw(t,EE)}function IE(t){return ul(t)!==null}function Fw(t,e){return t.hasOwnProperty(e)?t[e]:null}function oM(t){let e=t&&(t[wE]||t[EE]);return e||null}function Vw(t){return t&&(t.hasOwnProperty(Lw)||t.hasOwnProperty(aM))?t[Lw]:null}var wE=Ce({\u0275prov:Ce}),Lw=Ce({\u0275inj:Ce}),EE=Ce({ngInjectableDef:Ce}),aM=Ce({ngInjectorDef:Ce}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function DE(t){return t&&!!t.\u0275providers}var cM=Ce({\u0275cmp:Ce}),uM=Ce({\u0275dir:Ce}),lM=Ce({\u0275pipe:Ce}),dM=Ce({\u0275mod:Ce}),ju=Ce({\u0275fac:Ce}),Jo=Ce({__NG_ELEMENT_ID__:Ce}),jw=Ce({__NG_ENV_ID__:Ce});function xp(t){return typeof t=="string"?t:t==null?"":String(t)}function hM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xp(t)}function fM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Pp(t,e){throw new B(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),Gf;function CE(){return Gf}function Tt(t){let e=Gf;return Gf=t,e}function bE(t,e,n){let r=ul(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;Pp(t,"Injector")}var pM={},Xo=pM,Wf="__NG_DI_FLAG__",Uu="ngTempTokenPath",gM="ngTokenPath",mM=/\n/gm,yM="\u0275",Uw="__source",ds;function vM(){return ds}function Ir(t){let e=ds;return ds=t,e}function _M(t,e=oe.Default){if(ds===void 0)throw new B(-203,!1);return ds===null?bE(t,void 0,e):ds.get(t,e&oe.Optional?null:void 0,e)}function J(t,e=oe.Default){return(CE()||_M)(pt(t),e)}function x(t,e=oe.Default){return J(t,ll(e))}function ll(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kf(t){let e=[];for(let n=0;n<t.length;n++){let r=pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=IM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(J(i,s))}else e.push(J(r))}return e}function TE(t,e){return t[Wf]=e,t.prototype[Wf]=e,t}function IM(t){return t[Wf]}function wM(t,e,n,r){let i=t[Uu];throw e[Uw]&&i.unshift(e[Uw]),t.message=EM(`
`+t.message,i,n,r),t[gM]=i,t[Uu]=null,t}function EM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yM?t.slice(2):t;let i=gt(e);if(Array.isArray(e))i=e.map(gt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):gt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mM,`
  `)}`}var yt=TE(vE("Optional"),8);var SE=TE(vE("SkipSelf"),4);function ci(t,e){let n=t.hasOwnProperty(ju);return n?t[ju]:null}function Op(t,e){t.forEach(n=>Array.isArray(n)?Op(n,e):e(n))}function AE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function DM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function CM(t,e,n){let r=oa(t,e);return r>=0?t[r|1]=n:(r=~r,DM(t,r,e,n)),r}function xf(t,e){let n=oa(t,e);if(n>=0)return t[n|1]}function oa(t,e){return bM(t,e,1)}function bM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var fs={},Ut=[],ps=new j(""),RE=new j("",-1),ME=new j(""),$u=class{get(e,n=Xo){if(n===Xo){let r=new Error(`NullInjectorError: No provider for ${gt(e)}!`);throw r.name="NullInjectorError",r}return n}},NE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(NE||{}),hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hn||{}),Dr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Dr||{});function TM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Qf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];SM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function xE(t){return t===3||t===4||t===6}function SM(t){return t.charCodeAt(0)===64}function ea(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Bw(t,n,i,null,e[++r]):Bw(t,n,i,null,null))}}return t}function Bw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var PE="ng-template";function AM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&TM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(kp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function kp(t){return t.type===4&&t.value!==PE}function RM(t,e,n){let r=t.type===4&&!n?PE:t.value;return e===r}function MM(t,e,n){let r=4,i=t.attrs,s=i!==null?PM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Yt(r)&&!Yt(u))return!1;if(o&&Yt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!RM(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;o=!0}}else if(r&8){if(i===null||!AM(t,i,u,n)){if(Yt(r))return!1;o=!0}}else{let l=e[++a],f=NM(u,i,kp(t),n);if(f===-1){if(Yt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;o=!0}}}}return Yt(r)||o}function Yt(t){return(t&1)===0}function NM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return OM(e,t)}function xM(t,e,n=!1){for(let r=0;r<e.length;r++)if(MM(t,e[r],n))return!0;return!1}function PM(t){for(let e=0;e<t.length;e++){let n=t[e];if(xE(n))return e}return t.length}function OM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function $w(t,e){return t?":not("+e.trim()+")":e}function kM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yt(o)&&(e+=$w(s,i),i=""),r=o,s=s||!Yt(r);n++}return i!==""&&(e+=$w(s,i)),e}function FM(t){return t.map(kM).join(",")}function VM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Yt(i))break;i=s}r++}return{attrs:e,classes:n}}function st(t){return sa(()=>{let e=jE(t),n=le(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===NE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hn.Emulated,styles:t.styles||Ut,_:null,schemas:t.schemas||null,tView:null,id:""});UE(n);let r=t.dependencies;return n.directiveDefs=qw(r,!1),n.pipeDefs=qw(r,!0),n.id=UM(n),n})}function LM(t){return Cr(t)||kE(t)}function jM(t){return t!==null}function Rr(t){return sa(()=>({type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hw(t,e){if(t==null)return fs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Dr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Dr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Le(t){return sa(()=>{let e=jE(t);return UE(e),e})}function OE(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Cr(t){return t[cM]||null}function kE(t){return t[uM]||null}function FE(t){return t[lM]||null}function VE(t){let e=Cr(t)||kE(t)||FE(t);return e!==null?e.standalone:!1}function LE(t,e){let n=t[dM]||null;if(!n&&e===!0)throw new Error(`Type ${gt(t)} does not have '\u0275mod' property.`);return n}function jE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||fs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hw(t.inputs,e),outputs:Hw(t.outputs),debugInfo:null}}function UE(t){t.features?.forEach(e=>e(t))}function qw(t,e){if(!t)return null;let n=e?FE:LM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(jM)}function UM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function mn(t){return{\u0275providers:t}}function BM(...t){return{\u0275providers:BE(!0,t),\u0275fromNgModule:!0}}function BE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Op(e,o=>{let a=o;Yf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$E(i,s),n}function $E(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Fp(i,s=>{e(s,r)})}}function Yf(t,e,n,r){if(t=pt(t),!t)return!1;let i=null,s=Vw(t),o=!s&&Cr(t);if(!s&&!o){let u=t.ngModule;if(s=Vw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Yf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Op(s.imports,f=>{Yf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&$E(l,e)}if(!a){let l=ci(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ut},i),e({provide:ME,useValue:i,multi:!0},i),e({provide:ps,useValue:()=>J(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Fp(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Fp(t,e){for(let n of t)DE(n)&&(n=n.\u0275providers),Array.isArray(n)?Fp(n,e):e(n)}var $M=Ce({provide:String,useValue:Ce});function HE(t){return t!==null&&typeof t=="object"&&$M in t}function HM(t){return!!(t&&t.useExisting)}function qM(t){return!!(t&&t.useFactory)}function gs(t){return typeof t=="function"}function zM(t){return!!t.useClass}var dl=new j(""),Ou={},GM={},Pf;function Vp(){return Pf===void 0&&(Pf=new $u),Pf}var xt=class{},ta=class extends xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jf(e,o=>this.processProvider(o)),this.records.set(RE,as(void 0,this)),i.has("environment")&&this.records.set(xt,as(void 0,this));let s=this.records.get(dl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ME,Ut,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ir(this),r=Tt(void 0),i;try{return e()}finally{Ir(n),Tt(r)}}get(e,n=Xo,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jw))return e[jw](this);r=ll(r);let i,s=Ir(this),o=Tt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=ZM(e)&&ul(e);l&&this.injectableDefInScope(l)?u=as(Zf(e),Ou):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?Vp():this.parent;return n=r&oe.Optional&&n===Xo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Uu]=a[Uu]||[]).unshift(gt(e)),s)throw a;return wM(a,e,"R3InjectorError",this.source)}else throw a}finally{Tt(o),Ir(s)}}resolveInjectorInitializers(){let e=ye(null),n=Ir(this),r=Tt(void 0),i;try{let s=this.get(ps,Ut,oe.Self);for(let o of s)o()}finally{Ir(n),Tt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=pt(e);let n=gs(e)?e:pt(e&&e.provide),r=KM(e);if(!gs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=as(void 0,Ou,!0),i.factory=()=>Kf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===Ou&&(n.value=GM,n.value=n.factory()),typeof n.value=="object"&&n.value&&YM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Zf(t){let e=ul(t),n=e!==null?e.factory:ci(t);if(n!==null)return n;if(t instanceof j)throw new B(204,!1);if(t instanceof Function)return WM(t);throw new B(204,!1)}function WM(t){if(t.length>0)throw new B(204,!1);let n=oM(t);return n!==null?()=>n.factory(t):()=>new t}function KM(t){if(HE(t))return as(void 0,t.useValue);{let e=qE(t);return as(e,Ou)}}function qE(t,e,n){let r;if(gs(t)){let i=pt(t);return ci(i)||Zf(i)}else if(HE(t))r=()=>pt(t.useValue);else if(qM(t))r=()=>t.useFactory(...Kf(t.deps||[]));else if(HM(t))r=()=>J(pt(t.useExisting));else{let i=pt(t&&(t.useClass||t.provide));if(QM(t))r=()=>new i(...Kf(t.deps));else return ci(i)||Zf(i)}return r}function as(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function QM(t){return!!t.deps}function YM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ZM(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Jf(t,e){for(let n of t)Array.isArray(n)?Jf(n,e):n&&DE(n)?Jf(n.\u0275providers,e):e(n)}function yn(t,e){t instanceof ta&&t.assertNotDestroyed();let n,r=Ir(t),i=Tt(void 0);try{return e()}finally{Ir(r),Tt(i)}}function zE(){return CE()!==void 0||vM()!=null}function JM(t){if(!zE())throw new B(-203,!1)}function XM(t){return typeof t=="function"}var zn=0,ue=1,Z=2,mt=3,Zt=4,Xt=5,Hu=6,qu=7,Jt=8,ms=9,fn=10,qe=11,na=12,zw=13,Ts=14,pn=15,ys=16,cs=17,vs=18,hl=19,GE=20,wr=21,Of=22,Bt=23,Ht=25,WE=1;var ui=7,zu=8,Gu=9,$t=10,Wu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Wu||{});function Er(t){return Array.isArray(t)&&typeof t[WE]=="object"}function Gn(t){return Array.isArray(t)&&t[WE]===!0}function Lp(t){return(t.flags&4)!==0}function fl(t){return t.componentOffset>-1}function pl(t){return(t.flags&1)===1}function br(t){return!!t.template}function Xf(t){return(t[Z]&512)!==0}var ep=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function KE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Mr(){return QE}function QE(t){return t.type.prototype.ngOnChanges&&(t.setInput=tN),eN}Mr.ngInherit=!0;function eN(){let t=ZE(this),e=t?.current;if(e){let n=t.previous;if(n===fs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tN(t,e,n,r,i){let s=this.declaredInputs[r],o=ZE(t)||nN(t,{previous:fs,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new ep(l&&l.currentValue,n,u===fs),KE(t,e,i,n)}var YE="__ngSimpleChanges__";function ZE(t){return t[YE]||null}function nN(t,e){return t[YE]=e}var Gw=null;var ln=function(t,e,n){Gw?.(t,e,n)},rN="svg",iN="math";function gn(t){for(;Array.isArray(t);)t=t[zn];return t}function sN(t,e){return gn(e[t])}function qt(t,e){return gn(e[t.index])}function JE(t,e){return t.data[e]}function XE(t,e){return t[e]}function Nr(t,e){let n=e[t];return Er(n)?n:n[zn]}function jp(t){return(t[Z]&128)===128}function oN(t){return Gn(t[mt])}function _s(t,e){return e==null?null:t[e]}function eD(t){t[cs]=0}function tD(t){t[Z]&1024||(t[Z]|=1024,jp(t)&&ml(t))}function aN(t,e){for(;t>0;)e=e[Ts],t--;return e}function gl(t){return!!(t[Z]&9216||t[Bt]?.dirty)}function tp(t){t[fn].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),gl(t)&&ml(t)}function ml(t){t[fn].changeDetectionScheduler?.notify(0);let e=li(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!jp(e)));)e=li(e)}function nD(t,e){if((t[Z]&256)===256)throw new B(911,!1);t[wr]===null&&(t[wr]=[]),t[wr].push(e)}function cN(t,e){if(t[wr]===null)return;let n=t[wr].indexOf(e);n!==-1&&t[wr].splice(n,1)}function li(t){let e=t[mt];return Gn(e)?e[mt]:e}var ae={lFrame:dD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rD=!1;function uN(){return ae.lFrame.elementDepthCount}function lN(){ae.lFrame.elementDepthCount++}function dN(){ae.lFrame.elementDepthCount--}function iD(){return ae.bindingsEnabled}function hN(){return ae.skipHydrationRootTNode!==null}function fN(t){return ae.skipHydrationRootTNode===t}function pN(){ae.skipHydrationRootTNode=null}function be(){return ae.lFrame.lView}function ot(){return ae.lFrame.tView}function vt(t){return ae.lFrame.contextLView=t,t[Jt]}function _t(t){return ae.lFrame.contextLView=null,t}function at(){let t=sD();for(;t!==null&&t.type===64;)t=t.parent;return t}function sD(){return ae.lFrame.currentTNode}function gN(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function gi(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function Up(){return ae.lFrame.isParent}function oD(){ae.lFrame.isParent=!1}function mN(){return ae.lFrame.contextLView}function aD(){return rD}function Ww(t){rD=t}function yN(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function vN(t){return ae.lFrame.bindingIndex=t}function Bp(){return ae.lFrame.bindingIndex++}function _N(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function IN(){return ae.lFrame.inI18n}function wN(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,np(e)}function EN(){return ae.lFrame.currentDirectiveIndex}function np(t){ae.lFrame.currentDirectiveIndex=t}function DN(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cD(t){ae.lFrame.currentQueryIndex=t}function CN(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[Xt]:null}function uD(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=CN(s),i===null||(s=s[Ts],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ae.lFrame=lD();return r.currentTNode=e,r.lView=t,!0}function $p(t){let e=lD(),n=t[ue];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lD(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?dD(t):e}function dD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function hD(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fD=hD;function Hp(){let t=hD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bN(t){return(ae.lFrame.contextLView=aN(t,ae.lFrame.contextLView))[Jt]}function aa(){return ae.lFrame.selectedIndex}function di(t){ae.lFrame.selectedIndex=t}function qp(){let t=ae.lFrame;return JE(t.tView,t.selectedIndex)}function TN(){return ae.lFrame.currentNamespace}var pD=!0;function yl(){return pD}function vl(t){pD=t}function SN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=QE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function _l(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function ku(t,e,n){gD(t,e,3,n)}function Fu(t,e,n,r){(t[Z]&3)===n&&gD(t,e,n,r)}function kf(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function gD(t,e,n,r){let i=r!==void 0?t[cs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[cs]+=65536),(a<s||s==-1)&&(AN(t,n,e,u),t[cs]=(t[cs]&4294901760)+u+2),u++}function Kw(t,e){ln(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),ln(5,t,e)}}function AN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Z]>>14<t[cs]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,Kw(a,s)):Kw(a,s)}var hs=-1,hi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function RN(t){return t instanceof hi}function MN(t){return(t.flags&8)!==0}function NN(t){return(t.flags&16)!==0}var Ff={},rp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ll(r);let i=this.injector.get(e,Ff,r);return i!==Ff||n===Ff?i:this.parentInjector.get(e,n,r)}};function mD(t){return t!==hs}function Ku(t){return t&32767}function xN(t){return t>>16}function Qu(t,e){let n=xN(t),r=e;for(;n>0;)r=r[Ts],n--;return r}var ip=!0;function Yu(t){let e=ip;return ip=t,e}var PN=256,yD=PN-1,vD=5,ON=0,dn={};function kN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jo)&&(r=n[Jo]),r==null&&(r=n[Jo]=ON++);let i=r&yD,s=1<<i;e.data[t+(i>>vD)]|=s}function Zu(t,e){let n=_D(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,Vf(r.data,t),Vf(e,null),Vf(r.blueprint,null));let i=zp(t,e),s=t.injectorIndex;if(mD(i)){let o=Ku(i),a=Qu(i,e),u=a[ue].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Vf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _D(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=CD(i),r===null)return hs;if(n++,i=i[Ts],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return hs}function sp(t,e,n){kN(t,e,n)}function FN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(xE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function ID(t,e,n){if(n&oe.Optional||t!==void 0)return t;Pp(e,"NodeInjector")}function wD(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[ms],s=Tt(void 0);try{return i?i.get(e,r,n&oe.Optional):bE(e,r,n&oe.Optional)}finally{Tt(s)}}return ID(r,e,n)}function ED(t,e,n,r=oe.Default,i){if(t!==null){if(e[Z]&2048&&!(r&oe.Self)){let o=BN(t,e,n,r,dn);if(o!==dn)return o}let s=DD(t,e,n,r,dn);if(s!==dn)return s}return wD(e,n,r,i)}function DD(t,e,n,r,i){let s=jN(n);if(typeof s=="function"){if(!uD(e,t,r))return r&oe.Host?ID(i,n,r):wD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))Pp(n);else return o}finally{fD()}}else if(typeof s=="number"){let o=null,a=_D(t,e),u=hs,l=r&oe.Host?e[pn][Xt]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?zp(t,e):e[a+8],u===hs||!Yw(r,!1)?a=-1:(o=e[ue],a=Ku(u),e=Qu(u,e)));a!==-1;){let f=e[ue];if(Qw(s,a,f.data)){let p=VN(a,e,n,o,r,l);if(p!==dn)return p}u=e[a+8],u!==hs&&Yw(r,e[ue].data[a+8]===l)&&Qw(s,a,e)?(o=f,a=Ku(u),e=Qu(u,e)):a=-1}}return i}function VN(t,e,n,r,i,s){let o=e[ue],a=o.data[t+8],u=r==null?fl(a)&&ip:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,f=LN(a,o,n,u,l);return f!==null?Is(e,o,f,a):dn}function LN(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?a:a+f,v=i?a+f:l;for(let w=p;w<v;w++){let A=o[w];if(w<u&&n===A||w>=u&&A.type===n)return w}if(i){let w=o[u];if(w&&br(w)&&w.type===n)return u}return null}function Is(t,e,n,r){let i=t[n],s=e.data;if(RN(i)){let o=i;o.resolving&&fM(hM(s[n]));let a=Yu(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Tt(o.injectImpl):null,f=uD(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&SN(n,s[n],e)}finally{l!==null&&Tt(l),Yu(a),o.resolving=!1,fD()}}return i}function jN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Jo)?t[Jo]:void 0;return typeof e=="number"?e>=0?e&yD:UN:e}function Qw(t,e,n){let r=1<<t;return!!(n[e+(t>>vD)]&r)}function Yw(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var ai=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ED(this._tNode,this._lView,e,ll(r),n)}};function UN(){return new ai(at(),be())}function xr(t){return sa(()=>{let e=t.prototype.constructor,n=e[ju]||op(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ju]||op(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function op(t){return _E(t)?()=>{let e=op(pt(t));return e&&e()}:ci(t)}function BN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Z]&2048&&!(o[Z]&512);){let a=DD(s,o,n,r|oe.Self,dn);if(a!==dn)return a;let u=s.parent;if(!u){let l=o[GE];if(l){let f=l.get(n,dn,r);if(f!==dn)return f}u=CD(o),o=o[Ts]}s=u}return i}function CD(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[Xt]:null}function Gp(t){return FN(at(),t)}function Zw(t,e=null,n=null,r){let i=bD(t,e,n,r);return i.resolveInjectorInitializers(),i}function bD(t,e=null,n=null,r,i=new Set){let s=[n||Ut,BM(t)];return r=r||(typeof t=="object"?void 0:gt(t)),new ta(s,e||Vp(),r||null,i)}var Je=class t{static{this.THROW_IF_NOT_FOUND=Xo}static{this.NULL=new $u}static create(e,n){if(Array.isArray(e))return Zw({name:""},n,e,"");{let r=e.name??"";return Zw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=$({token:t,providedIn:"any",factory:()=>J(RE)})}static{this.__NG_ELEMENT_ID__=-1}};var $N=new j("");$N.__NG_ELEMENT_ID__=t=>{let e=at();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new B(204,!1)};var HN="ngOriginalError";function Lf(t){return t[HN]}var TD=!0,Wp=(()=>{class t{static{this.__NG_ELEMENT_ID__=qN}static{this.__NG_ENV_ID__=n=>n}}return t})(),ap=class extends Wp{constructor(e){super(),this._lView=e}onDestroy(e){return nD(this._lView,e),()=>cN(this._lView,e)}};function qN(){return new ap(be())}var Ss=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Oe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})();var cp=class extends We{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,zE()&&(this.destroyRef=x(Wp,{optional:!0})??void 0,this.pendingTasks=x(Ss,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ve=cp;function Ju(...t){}function SD(t){let e,n;function r(){t=Ju;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Jw(t){return queueMicrotask(()=>t()),()=>{t=Ju}}var Kp="isAngularZone",Xu=Kp+"_ID",zN=0,Ie=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=TD}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,KN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Kp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,GN,Ju,Ju);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},GN={};function Qp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function WN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){SD(()=>{t.callbackScheduled=!1,up(t),t.isCheckStableRunning=!0,Qp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),up(t)}function KN(t){let e=()=>{WN(t)},n=zN++;t._inner=t._inner.fork({name:"angular",properties:{[Kp]:!0,[Xu]:n,[Xu+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(QN(u))return r.invokeTask(s,o,a,u);try{return Xw(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),eE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return Xw(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!YN(u)&&e(),eE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,up(t),Qp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function up(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Xw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eE(t){t._nesting--,Qp(t)}var lp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function QN(t){return AD(t,"__ignore_ng_zone__")}function YN(t){return AD(t,"__scheduler_tick__")}function AD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Lf(e);for(;n&&Lf(n);)n=Lf(n);return n||null}},ZN=new j("",{providedIn:"root",factory:()=>{let t=x(Ie),e=x(Bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function JN(){return Il(at(),be())}function Il(t,e){return new vn(qt(t,e))}var vn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=JN}}return t})();function RD(t){return(t.flags&128)===128}var MD=new Map,XN=0;function ex(){return XN++}function tx(t){MD.set(t[hl],t)}function dp(t){MD.delete(t[hl])}var tE="__ngContext__";function Tr(t,e){Er(e)?(t[tE]=e[hl],tx(e)):t[tE]=e}function ND(t){return PD(t[na])}function xD(t){return PD(t[Zt])}function PD(t){for(;t!==null&&!Gn(t);)t=t[Zt];return t}var hp;function OD(t){hp=t}function nx(){if(hp!==void 0)return hp;if(typeof document<"u")return document;throw new B(210,!1)}var Yp=new j("",{providedIn:"root",factory:()=>rx}),rx="ng",Zp=new j(""),_n=new j("",{providedIn:"platform",factory:()=>"unknown"});var Jp=new j("",{providedIn:"root",factory:()=>nx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ix="h",sx="b";var ox=()=>null;function Xp(t,e,n=!1){return ox(t,e,n)}var kD=!1,ax=new j("",{providedIn:"root",factory:()=>kD});var Mu;function cx(){if(Mu===void 0&&(Mu=null,zf.trustedTypes))try{Mu=zf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mu}function nE(t){return cx()?.createScriptURL(t)||t}var el=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yE})`}};function ca(t){return t instanceof el?t.changingThisBreaksApplicationSecurity:t}function eg(t,e){let n=ux(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${yE})`)}return n===e}function ux(t){return t instanceof el&&t.getTypeName()||null}var lx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function FD(t){return t=String(t),t.match(lx)?t:"unsafe:"+t}var wl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wl||{});function dx(t){let e=LD();return e?e.sanitize(wl.URL,t)||"":eg(t,"URL")?ca(t):FD(xp(t))}function hx(t){let e=LD();if(e)return nE(e.sanitize(wl.RESOURCE_URL,t)||"");if(eg(t,"ResourceURL"))return nE(ca(t));throw new B(904,!1)}function fx(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?hx:dx}function VD(t,e,n){return fx(e,n)(t)}function LD(){let t=be();return t&&t[fn].sanitizer}var px=/^>|^->|<!--|-->|--!>|<!-$/g,gx=/(<|>)/g,mx="\u200B$1\u200B";function yx(t){return t.replace(px,e=>e.replace(gx,mx))}function jD(t){return t instanceof Function?t():t}function vx(t){return(t??x(Je)).get(_n)==="browser"}var $n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($n||{}),_x;function tg(t,e){return _x(t,e)}function us(t,e,n,r,i){if(r!=null){let s,o=!1;Gn(r)?s=r:Er(r)&&(o=!0,r=r[zn]);let a=gn(r);t===0&&n!==null?i==null?qD(e,n,a):tl(e,n,a,i||null,!0):t===1&&n!==null?tl(e,n,a,i||null,!0):t===2?Ox(e,a,o):t===3&&e.destroyNode(a),s!=null&&Fx(e,t,s,n,i)}}function Ix(t,e){return t.createText(e)}function wx(t,e){return t.createComment(yx(e))}function UD(t,e,n){return t.createElement(e,n)}function Ex(t,e){BD(t,e),e[zn]=null,e[Xt]=null}function Dx(t,e,n,r,i,s){r[zn]=i,r[Xt]=e,Dl(t,r,n,1,i,s)}function BD(t,e){e[fn].changeDetectionScheduler?.notify(9),Dl(t,e,e[qe],2,null,null)}function Cx(t){let e=t[na];if(!e)return jf(t[ue],t);for(;e;){let n=null;if(Er(e))n=e[na];else{let r=e[$t];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)Er(e)&&jf(e[ue],e),e=e[mt];e===null&&(e=t),Er(e)&&jf(e[ue],e),n=e&&e[Zt]}e=n}}function bx(t,e,n,r){let i=$t+r,s=n.length;r>0&&(n[i-1][Zt]=e),r<s-$t?(e[Zt]=n[i],AE(n,$t+r,e)):(n.push(e),e[Zt]=null),e[mt]=n;let o=e[ys];o!==null&&n!==o&&$D(o,e);let a=e[vs];a!==null&&a.insertView(t),tp(e),e[Z]|=128}function $D(t,e){let n=t[Gu],r=e[mt];if(Er(r))t[Z]|=Wu.HasTransplantedViews;else{let i=r[mt][pn];e[pn]!==i&&(t[Z]|=Wu.HasTransplantedViews)}n===null?t[Gu]=[e]:n.push(e)}function ng(t,e){let n=t[Gu],r=n.indexOf(e);n.splice(r,1)}function fp(t,e){if(t.length<=$t)return;let n=$t+e,r=t[n];if(r){let i=r[ys];i!==null&&i!==t&&ng(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let s=Bu(t,$t+e);Ex(r[ue],r);let o=s[vs];o!==null&&o.detachView(s[ue]),r[mt]=null,r[Zt]=null,r[Z]&=-129}return r}function HD(t,e){if(!(e[Z]&256)){let n=e[qe];n.destroyNode&&Dl(t,e,n,3,null,null),Cx(e)}}function jf(t,e){if(e[Z]&256)return;let n=ye(null);try{e[Z]&=-129,e[Z]|=256,e[Bt]&&lf(e[Bt]),Sx(t,e),Tx(t,e),e[ue].type===1&&e[qe].destroy();let r=e[ys];if(r!==null&&Gn(e[mt])){r!==e[mt]&&ng(r,e);let i=e[vs];i!==null&&i.detachView(t)}dp(e)}finally{ye(n)}}function Tx(t,e){let n=t.cleanup,r=e[qu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[qu]=null);let i=e[wr];if(i!==null){e[wr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function Sx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof hi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];ln(4,a,u);try{u.call(a)}finally{ln(5,a,u)}}else{ln(4,i,s);try{s.call(i)}finally{ln(5,i,s)}}}}}function Ax(t,e,n){return Rx(t,e.parent,n)}function Rx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[zn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===hn.None||s===hn.Emulated)return null}return qt(r,n)}}function tl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function qD(t,e,n){t.appendChild(e,n)}function rE(t,e,n,r,i){r!==null?tl(t,e,n,r,i):qD(t,e,n)}function zD(t,e){return t.parentNode(e)}function Mx(t,e){return t.nextSibling(e)}function Nx(t,e,n){return Px(t,e,n)}function xx(t,e,n){return t.type&40?qt(t,n):null}var Px=xx,iE;function El(t,e,n,r){let i=Ax(t,r,e),s=e[qe],o=r.parent||e[Xt],a=Nx(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)rE(s,i,n[u],a,!1);else rE(s,i,n,a,!1);iE!==void 0&&iE(s,r,e,n,i)}function Zo(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return pp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zo(t,r);{let i=t[e.index];return Gn(i)?pp(-1,i):gn(i)}}else{if(n&128)return Zo(t,e.next);if(n&32)return tg(e,t)()||gn(t[e.index]);{let r=GD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=li(t[pn]);return Zo(i,r)}else return Zo(t,e.next)}}}return null}function GD(t,e){if(e!==null){let r=t[pn][Xt],i=e.projection;return r.projection[i]}return null}function pp(t,e){let n=$t+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Zo(r,i)}return e[ui]}function Ox(t,e,n){t.removeChild(null,e,n)}function rg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Tr(gn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)rg(t,e,n.child,r,i,s,!1),us(e,t,i,a,s);else if(u&32){let l=tg(n,r),f;for(;f=l();)us(e,t,i,f,s);us(e,t,i,a,s)}else u&16?kx(t,e,r,n,i,s):us(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Dl(t,e,n,r,i,s){rg(n,r,t.firstChild,e,i,s,!1)}function kx(t,e,n,r,i,s){let o=n[pn],u=o[Xt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];us(e,t,i,f,s)}else{let l=u,f=o[mt];RD(r)&&(l.flags|=128),rg(t,e,l,f,i,s,!0)}}function Fx(t,e,n,r,i){let s=n[ui],o=gn(n);s!==o&&us(e,t,r,s,i);for(let a=$t;a<n.length;a++){let u=n[a];Dl(u[ue],u,t,e,r,s)}}function Vx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:$n.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=$n.Important),t.setStyle(n,r,i,s))}}function Lx(t,e,n){t.setAttribute(e,"style",n)}function WD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function KD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Qf(t,e,r),i!==null&&WD(t,e,i),s!==null&&Lx(t,e,s)}var ua={};function xe(t=1){QD(ot(),be(),aa()+t,!1)}function QD(t,e,n,r){if(!r)if((e[Z]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ku(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Fu(e,s,0,n)}di(n)}function Q(t,e=oe.Default){let n=be();if(n===null)return J(t,e);let r=at();return ED(r,n,pt(t),e)}function YD(){let t="invalid";throw new Error(t)}function ZD(t,e,n,r,i,s){let o=ye(null);try{let a=null;i&Dr.SignalBased&&(a=e[r][jn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Dr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):KE(e,a,r,s)}finally{ye(o)}}function jx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)di(~i);else{let s=i,o=n[++r],a=n[++r];wN(o,s);let u=e[s];a(2,u)}}}finally{di(-1)}}function Cl(t,e,n,r,i,s,o,a,u,l,f){let p=e.blueprint.slice();return p[zn]=i,p[Z]=r|4|128|8|64,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),eD(p),p[mt]=p[Ts]=t,p[Jt]=n,p[fn]=o||t&&t[fn],p[qe]=a||t&&t[qe],p[ms]=u||t&&t[ms]||null,p[Xt]=s,p[hl]=ex(),p[Hu]=f,p[GE]=l,p[pn]=e.type==2?t[pn]:p,p}function la(t,e,n,r,i){let s=t.data[e];if(s===null)s=Ux(t,e,n,r,i),IN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=gN();s.injectorIndex=o===null?-1:o.injectorIndex}return gi(s,!0),s}function Ux(t,e,n,r,i){let s=sD(),o=Up(),a=o?s:s&&s.parent,u=t.data[e]=zx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function JD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function XD(t,e,n,r,i){let s=aa(),o=r&2;try{di(-1),o&&e.length>Ht&&QD(t,e,Ht,!1),ln(o?2:0,i),n(r,i)}finally{di(s),ln(o?3:1,i)}}function ig(t,e,n){if(Lp(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{ye(r)}}}function sg(t,e,n){iD()&&(Zx(t,e,n,qt(n,e)),(n.flags&64)===64&&rC(t,e,n))}function og(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function eC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ag(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ag(t,e,n,r,i,s,o,a,u,l,f){let p=Ht+r,v=p+i,w=Bx(p,v),A=typeof l=="function"?l():l;return w[ue]={type:t,blueprint:w,template:n,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function Bx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ua);return n}function $x(t,e,n,r){let s=r.get(ax,kD)||n===hn.ShadowDom,o=t.selectRootElement(e,s);return Hx(o),o}function Hx(t){qx(t)}var qx=()=>null;function zx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return hN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Dr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?oE(r,n,l,a,u):oE(r,n,l,a)}return r}function oE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Gx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],v=n?n.get(p):null,w=v?v.inputs:null,A=v?v.outputs:null;u=sE(0,p.inputs,f,u,w),l=sE(1,p.outputs,f,l,A);let M=u!==null&&o!==null&&!kp(e)?cP(u,f,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Wx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function tC(t,e,n,r,i,s,o,a){let u=qt(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(ug(t,n,f,r,i),fl(e)&&Kx(n,e.index)):e.type&3?(r=Wx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function Kx(t,e){let n=Nr(e,t);n[Z]&16||(n[Z]|=64)}function cg(t,e,n,r){if(iD()){let i=r===null?null:{"":-1},s=Xx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&nC(t,e,n,o,i,a),i&&eP(n,r,i)}n.mergedAttrs=ea(n.mergedAttrs,n.attrs)}function nC(t,e,n,r,i,s){for(let l=0;l<r.length;l++)sp(Zu(n,e),t,r[l].type);nP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=JD(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=ea(n.mergedAttrs,f.hostAttrs),rP(t,n,e,u,f),tP(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Gx(t,n,s)}function Qx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Yx(o)!=a&&o.push(a),o.push(n,r,s)}}function Yx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Zx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;fl(n)&&iP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Zu(n,e),Tr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Is(e,t,a,n);if(Tr(l,e),o!==null&&aP(e,a-i,l,u,n,o),br(u)){let f=Nr(n.index,e);f[Jt]=Is(e,t,a,n)}}}function rC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=EN();try{di(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];np(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Jx(u,l)}}finally{di(-1),np(o)}}function Jx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Xx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(xM(e,o.selectors,!1))if(r||(r=[]),br(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;gp(t,e,u)}else r.unshift(o),gp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function gp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function eP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function tP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;br(e)&&(n[""]=t)}}function nP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function rP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ci(i.type,!0)),o=new hi(s,br(i),Q);t.blueprint[r]=o,n[r]=o,Qx(t,e,r,JD(t,n,i.hostVars,ua),i)}function iP(t,e,n){let r=qt(e,t),i=eC(n),s=t[fn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=bl(t,Cl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function sP(t,e,n,r,i,s){let o=qt(t,e);oP(e[qe],o,s,t.value,n,r,i)}function oP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?xp(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function aP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],f=o[a++],p=o[a++];ZD(r,n,u,l,f,p)}}function cP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function iC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sC(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];cD(s),a.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function bl(t,e){return t[na]?t[zw][Zt]=e:t[na]=e,t[zw]=e,e}function mp(t,e,n){cD(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function uP(t){return t[qu]??=[]}function lP(t){return t.cleanup??=[]}function oC(t,e){let n=t[ms],r=n?n.get(Bn,null):null;r&&r.handleError(e)}function ug(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],f=t.data[o];ZD(f,l,r,a,u,i)}}function dP(t,e){let n=Nr(e,t),r=n[ue];hP(r,n);let i=n[zn];i!==null&&n[Hu]===null&&(n[Hu]=Xp(i,n[ms])),lg(r,n,n[Jt])}function hP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lg(t,e,n){$p(e);try{let r=t.viewQuery;r!==null&&mp(1,r,n);let i=t.template;i!==null&&XD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[vs]?.finishViewCreation(t),t.staticContentQueries&&sC(t,e),t.staticViewQueries&&mp(2,t.viewQuery,n);let s=t.components;s!==null&&fP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,Hp()}}function fP(t,e){for(let n=0;n<e.length;n++)dP(t,e[n])}function pP(t,e,n,r){let i=ye(null);try{let s=e.tView,a=t[Z]&4096?4096:16,u=Cl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ys]=l;let f=t[vs];return f!==null&&(u[vs]=f.createEmbeddedView(s)),lg(s,u,n),u}finally{ye(i)}}function aE(t,e){return!e||e.firstChild===null||RD(t)}function gP(t,e,n,r=!0){let i=e[ue];if(bx(i,e,t,n),r){let o=pp(n,t),a=e[qe],u=zD(a,t[ui]);u!==null&&Dx(i,t[Xt],a,e,u,o)}let s=e[Hu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function nl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(gn(s)),Gn(s)&&mP(s,r);let o=n.type;if(o&8)nl(t,e,n.child,r);else if(o&32){let a=tg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=GD(e,n);if(Array.isArray(a))r.push(...a);else{let u=li(e[pn]);nl(u[ue],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function mP(t,e){for(let n=$t;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&nl(r[ue],r,i,e)}t[ui]!==t[zn]&&e.push(t[ui])}var aC=[];function yP(t){return t[Bt]??vP(t)}function vP(t){let e=aC.pop()??Object.create(IP);return e.lView=t,e}function _P(t){t.lView[Bt]!==t&&(t.lView=null,aC.push(t))}var IP=le(k({},Go),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ml(t.lView)},consumerOnSignalRead(){this.lView[Bt]=this}});function wP(t){let e=t[Bt]??Object.create(EP);return e.lView=t,e}var EP=le(k({},Go),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=li(t.lView);for(;e&&!cC(e[ue]);)e=li(e);e&&tD(e)},consumerOnSignalRead(){this.lView[Bt]=this}});function cC(t){return t.type!==2}var DP=100;function uC(t,e=!0,n=0){let r=t[fn],i=r.rendererFactory,s=!1;s||i.begin?.();try{CP(t,n)}catch(o){throw e&&oC(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function CP(t,e){let n=aD();try{Ww(!0),yp(t,e);let r=0;for(;gl(t);){if(r===DP)throw new B(103,!1);r++,yp(t,1)}}finally{Ww(n)}}function bP(t,e,n,r){let i=e[Z];if((i&256)===256)return;let s=!1,o=!1;!s&&e[fn].inlineEffectRunner?.flush(),$p(e);let a=!0,u=null,l=null;s||(cC(t)?(l=yP(e),u=nu(l)):ZI()===null?(a=!1,l=wP(e),u=nu(l)):e[Bt]&&(lf(e[Bt]),e[Bt]=null));try{eD(e),vN(t.bindingStartIndex),n!==null&&XD(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let w=t.preOrderCheckHooks;w!==null&&ku(e,w,null)}else{let w=t.preOrderHooks;w!==null&&Fu(e,w,0,null),kf(e,0)}if(o||TP(e),lC(e,0),t.contentQueries!==null&&sC(t,e),!s)if(f){let w=t.contentCheckHooks;w!==null&&ku(e,w)}else{let w=t.contentHooks;w!==null&&Fu(e,w,1),kf(e,1)}jx(t,e);let p=t.components;p!==null&&hC(e,p,0);let v=t.viewQuery;if(v!==null&&mp(2,v,r),!s)if(f){let w=t.viewCheckHooks;w!==null&&ku(e,w)}else{let w=t.viewHooks;w!==null&&Fu(e,w,2),kf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Of]){for(let w of e[Of])w();e[Of]=null}s||(e[Z]&=-73)}catch(f){throw s||ml(e),f}finally{l!==null&&(cf(l,u),a&&_P(l)),Hp()}}function lC(t,e){for(let n=ND(t);n!==null;n=xD(n))for(let r=$t;r<n.length;r++){let i=n[r];dC(i,e)}}function TP(t){for(let e=ND(t);e!==null;e=xD(e)){if(!(e[Z]&Wu.HasTransplantedViews))continue;let n=e[Gu];for(let r=0;r<n.length;r++){let i=n[r];tD(i)}}}function SP(t,e,n){let r=Nr(e,t);dC(r,n)}function dC(t,e){jp(t)&&yp(t,e)}function yp(t,e){let r=t[ue],i=t[Z],s=t[Bt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&uf(s)),o||=!1,s&&(s.dirty=!1),t[Z]&=-9217,o)bP(r,t,r.template,t[Jt]);else if(i&8192){lC(t,1);let a=r.components;a!==null&&hC(t,a,1)}}function hC(t,e,n){for(let r=0;r<e.length;r++)SP(t,e[r],n)}function dg(t,e){let n=aD()?64:1088;for(t[fn].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=li(t);if(Xf(t)&&!r)return t;t=r}return null}var fi=class{get rootNodes(){let e=this._lView,n=e[ue];return nl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jt]}set context(e){this._lView[Jt]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mt];if(Gn(e)){let n=e[zu],r=n?n.indexOf(this):-1;r>-1&&(fp(e,r),Bu(n,r))}this._attachedToViewContainer=!1}HD(this._lView[ue],this._lView)}onDestroy(e){nD(this._lView,e)}markForCheck(){dg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){tp(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,uC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Xf(this._lView),n=this._lView[ys];n!==null&&!e&&ng(n,this._lView),BD(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Xf(this._lView),r=this._lView[ys];r!==null&&!n&&$D(r,this._lView),tp(this._lView)}},hg=(()=>{class t{static{this.__NG_ELEMENT_ID__=MP}}return t})(),AP=hg,RP=class extends AP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=pP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new fi(i)}};function MP(){return fC(at(),be())}function fC(t,e){return t.type&4?new RP(e,t,Il(t,e)):null}var eW=new RegExp(`^(\\d+)*(${sx}|${ix})*(.*)`);var NP=()=>null;function cE(t,e){return NP(t,e)}var ws=class{},Tl=new j("",{providedIn:"root",factory:()=>!1});var pC=new j(""),gC=new j(""),vp=class{},rl=class{};function xP(t){let e=Error(`No component factory found for ${gt(t)}.`);return e[PP]=t,e}var PP="ngComponent";var _p=class{resolveComponentFactory(e){throw xP(e)}},Es=class{static{this.NULL=new _p}},Ds=class{},Wn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>OP()}}return t})();function OP(){let t=be(),e=at(),n=Nr(e.index,t);return(Er(n)?n:t)[qe]}var kP=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>null})}}return t})();function il(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=kw(i,a);else if(s==2){let u=a,l=e[++o];r=kw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var sl=class extends Es{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cr(e);return new Cs(n,this.ngModule)}};function uE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Dr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Dr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function FP(t){let e=t.toLowerCase();return e==="svg"?rN:e==="math"?iN:null}var Cs=class extends rl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=uE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return uE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=FM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof xt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new rp(e,o):e,u=a.get(Ds,null);if(u===null)throw new B(407,!1);let l=a.get(kP,null),f=a.get(ws,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},v=u.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",A=r?$x(v,r,this.componentDef.encapsulation,a):UD(v,w,FP(w)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;A!==null&&(R=Xp(A,a,!0));let F=ag(0,null,null,1,0,null,null,null,null,null,null),q=Cl(null,F,null,M,null,null,p,v,a,null,R);$p(q);let z,ce,Re=null;try{let ee=this.componentDef,D,m=null;ee.findHostDirectiveDefs?(D=[],m=new Map,ee.findHostDirectiveDefs(ee,D,m),D.push(ee)):D=[ee];let _=VP(q,A);Re=LP(_,A,ee,D,q,p,v),ce=JE(F,Ht),A&&BP(v,ee,A,r),n!==void 0&&$P(ce,this.ngContentSelectors,n),z=UP(Re,ee,D,m,q,[HP]),lg(F,q,null)}catch(ee){throw Re!==null&&dp(Re),dp(q),ee}finally{Hp()}return new Ip(this.componentType,z,Il(ce,q),q,ce)}finally{ye(s)}}},Ip=class extends vp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;ug(s[ue],s,i,e,n),this.previousInputValues.set(e,n);let o=Nr(this._tNode.index,s);dg(o,1)}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function VP(t,e){let n=t[ue],r=Ht;return t[r]=e,la(n,r,2,"#host",null)}function LP(t,e,n,r,i,s,o){let a=i[ue];jP(r,t,e,o);let u=null;e!==null&&(u=Xp(e,i[ms]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=Cl(i,eC(n),null,f,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&gp(a,t,r.length-1),bl(i,p),i[t.index]=p}function jP(t,e,n,r){for(let i of t)e.mergedAttrs=ea(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(il(e,e.mergedAttrs,!0),n!==null&&KD(r,n,e))}function UP(t,e,n,r,i,s){let o=at(),a=i[ue],u=qt(o,i);nC(a,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,v=Is(i,a,p,o);Tr(v,i)}rC(a,i,o),u&&Tr(u,i);let l=Is(i,a,o.directiveStart+o.componentOffset,o);if(t[Jt]=i[Jt]=l,s!==null)for(let f of s)f(l,e);return ig(a,o,i),l}function BP(t,e,n,r){if(r)Qf(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=VM(e.selectors[0]);i&&Qf(t,n,i),s&&s.length>0&&WD(t,n,s.join(" "))}}function $P(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function HP(){let t=at();_l(be()[ue],t)}var da=(()=>{class t{static{this.__NG_ELEMENT_ID__=qP}}return t})();function qP(){let t=at();return GP(t,be())}var zP=da,mC=class extends zP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Il(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){let e=zp(this._hostTNode,this._hostLView);if(mD(e)){let n=Qu(e,this._hostLView),r=Ku(e),i=n[ue].data[r+8];return new ai(i,n)}else return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=lE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=cE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,aE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!XM(e),a;if(o)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Cs(Cr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(xt,null);M&&(s=M)}let f=Cr(u.componentType??{}),p=cE(this._lContainer,f?.id??null),v=p?.firstChild??null,w=u.create(l,i,v,s);return this.insertImpl(w.hostView,a,aE(this._hostTNode,p)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(oN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[mt],l=new mC(u,u[Xt],u[mt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return gP(o,i,s,r),e.attachToViewContainerRef(),AE(Uf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=lE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=fp(this._lContainer,n);r&&(Bu(Uf(this._lContainer),n),HD(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=fp(this._lContainer,n);return r&&Bu(Uf(this._lContainer),n)!=null?new fi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lE(t){return t[zu]}function Uf(t){return t[zu]||(t[zu]=[])}function GP(t,e){let n,r=e[t.index];return Gn(r)?n=r:(n=iC(r,e,null,t),e[t.index]=n,bl(e,n)),KP(n,e,t,r),new mC(n,t,e)}function WP(t,e){let n=t[qe],r=n.createComment(""),i=qt(e,t),s=zD(n,i);return tl(n,s,r,Mx(n,i),!1),r}var KP=ZP,QP=()=>!1;function YP(t,e,n){return QP(t,e,n)}function ZP(t,e,n,r){if(t[ui])return;let i;n.type&8?i=gn(r):i=WP(e,n),t[ui]=i}var dE=new Set;function As(t){dE.has(t)||(dE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function JP(t){return typeof t=="function"&&t[jn]!==void 0}function ha(t,e){As("NgSignals");let n=cw(t),r=n[jn];return e?.equal&&(r.equal=e.equal),n.set=i=>df(r,i),n.update=i=>uw(r,i),n.asReadonly=XP.bind(n),n}function XP(){let t=this[jn];if(t.readonlyFn===void 0){let e=()=>this();e[jn]=t,t.readonlyFn=e}return t.readonlyFn}function yC(t){return JP(t)&&typeof t.set=="function"}function eO(t){return Object.getPrototypeOf(t.prototype).constructor}function en(t){let e=eO(t.type),n=!0,r=[t];for(;e;){let i;if(br(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Nu(t.inputs),o.inputTransforms=Nu(t.inputTransforms),o.declaredInputs=Nu(t.declaredInputs),o.outputs=Nu(t.outputs);let a=i.hostBindings;a&&sO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&rO(t,u),l&&iO(t,l),tO(t,i),iM(t.outputs,i.outputs),br(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===en&&(n=!1)}}e=Object.getPrototypeOf(e)}nO(r)}function tO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function nO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ea(i.hostAttrs,n=ea(n,i.hostAttrs))}}function Nu(t){return t===fs?{}:t===Ut?[]:t}function rO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function iO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function sO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function fg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Sr=class{},ra=class{};var wp=class extends Sr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sl(this);let s=LE(e);this._bootstrapComponents=jD(s.bootstrap),this._r3Injector=bD(e,n,[{provide:Sr,useValue:this},{provide:Es,useValue:this.componentFactoryResolver},...r],gt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ep=class extends ra{constructor(e){super(),this.moduleType=e}create(e){return new wp(this.moduleType,e,[])}};var ol=class extends Sr{constructor(e){super(),this.componentFactoryResolver=new sl(this),this.instance=null;let n=new ta([...e.providers,{provide:Sr,useValue:this},{provide:Es,useValue:this.componentFactoryResolver}],e.parent||Vp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sl(t,e,n=null){return new ol({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function oO(t,e,n){return t[e]=n}function fa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function aO(t){return(t.flags&32)===32}function cO(t,e,n,r,i,s,o,a,u){let l=e.consts,f=la(e,t,4,o||null,a||null);cg(e,n,f,_s(l,u)),_l(e,f);let p=f.tView=ag(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function uO(t,e,n,r,i,s,o,a,u,l){let f=n+Ht,p=e.firstCreatePass?cO(f,e,t,r,i,s,o,a,u):e.data[f];gi(p,!1);let v=lO(e,t,p,n);yl()&&El(e,t,v,p),Tr(v,t);let w=iC(v,t,v,p);return t[f]=w,bl(t,w),YP(w,p,t),pl(p)&&sg(e,t,p),u!=null&&og(t,p,l),p}function It(t,e,n,r,i,s,o,a){let u=be(),l=ot(),f=_s(l.consts,s);return uO(u,l,t,e,n,r,i,f,o,a),It}var lO=dO;function dO(t,e,n,r){return vl(!0),e[qe].createComment("")}var ls=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ls||{}),vC=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Dp=class t{constructor(){this.ngZone=x(Ie),this.scheduler=x(ws),this.errorHandler=x(Bn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ls.EarlyRead,ls.Write,ls.MixedReadWrite,ls.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}},Cp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function pg(t,e){!e?.injector&&JM(pg);let n=e?.injector??x(Je);return vx(n)?(As("NgAfterNextRender"),fO(t,n,e,!0)):pO}function hO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function fO(t,e,n,r){let i=e.get(vC);i.impl??=e.get(Dp);let s=n?.phase??ls.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(Wp):null,a=new Cp(i.impl,hO(t,s),r,o);return i.impl.register(a),a}var pO={destroy(){}};function pa(t,e,n,r){let i=be(),s=Bp();if(fa(i,s,e)){let o=ot(),a=qp();sP(a,i,t,e,n,r)}return pa}function xu(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function gO(t){return(t&2)==2}function mO(t,e){return t&131071|e<<17}function bp(t){return t|2}function bs(t){return(t&131068)>>2}function Bf(t,e){return t&-131069|e<<2}function yO(t){return(t&1)===1}function Tp(t){return t|1}function vO(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=bs(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||oa(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let v=pi(t[a+1]);t[r+1]=xu(v,a),v!==0&&(t[v+1]=Bf(t[v+1],r)),t[a+1]=mO(t[a+1],r)}else t[r+1]=xu(a,0),a!==0&&(t[a+1]=Bf(t[a+1],r)),a=r;else t[r+1]=xu(u,0),a===0?a=r:t[u+1]=Bf(t[u+1],r),u=r;l&&(t[r+1]=bp(t[r+1])),hE(t,f,r,!0),hE(t,f,r,!1),_O(e,f,t,r,s),o=xu(a,u),s?e.classBindings=o:e.styleBindings=o}function _O(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&oa(s,e)>=0&&(n[r+1]=Tp(n[r+1]))}function hE(t,e,n,r){let i=t[n+1],s=e===null,o=r?pi(i):bs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];IO(u,e)&&(a=!0,t[o+1]=r?Tp(l):bp(l)),o=r?pi(l):bs(l)}a&&(t[n+1]=r?bp(i):Tp(i))}function IO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?oa(t,e)>=0:!1}function wt(t,e,n){let r=be(),i=Bp();if(fa(r,i,e)){let s=ot(),o=qp();tC(s,o,r,t,e,r[qe],n,!1)}return wt}function fE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";ug(t,n,s[o],o,r)}function Al(t,e){return wO(t,e,null,!0),Al}function wO(t,e,n,r){let i=be(),s=ot(),o=_N(2);if(s.firstUpdatePass&&DO(s,t,o,r),e!==ua&&fa(i,o,e)){let a=s.data[aa()];AO(s,a,i,i[qe],t,i[o+1]=RO(e,n),r,o)}}function EO(t,e){return e>=t.expandoStartIndex}function DO(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[aa()],o=EO(t,n);MO(s,r)&&e===null&&!o&&(e=!1),e=CO(i,s,e,r),vO(i,s,e,n,o,r)}}function CO(t,e,n,r){let i=DN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=$f(null,t,e,n,r),n=ia(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=$f(i,t,e,n,r),s===null){let u=bO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=$f(null,t,e,u[1],r),u=ia(u,e.attrs,r),TO(t,e,r,u))}else s=SO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function bO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(bs(r)!==0)return t[pi(r)]}function TO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[pi(i)]=r}function SO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ia(r,o,n)}return ia(r,e.attrs,n)}function $f(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ia(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ia(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),CM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function AO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=yO(l)?pE(u,e,n,i,bs(l),o):void 0;if(!al(f)){al(s)||gO(l)&&(s=pE(u,null,n,i,a,o));let p=sN(aa(),n);Vx(r,o,p,i,s)}}function pE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,v=n[i+1];v===ua&&(v=p?Ut:void 0);let w=p?xf(v,r):f===r?v:void 0;if(l&&!al(w)&&(w=xf(u,r)),al(w)&&(a=w,o))return a;let A=t[i+1];i=o?pi(A):bs(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=xf(u,r))}return a}function al(t){return t!==void 0}function RO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=gt(ca(t)))),t}function MO(t,e){return(t.flags&(e?8:16))!==0}function NO(t,e,n,r,i,s){let o=e.consts,a=_s(o,i),u=la(e,t,2,r,a);return cg(e,n,u,_s(o,s)),u.attrs!==null&&il(u,u.attrs,!1),u.mergedAttrs!==null&&il(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function U(t,e,n,r){let i=be(),s=ot(),o=Ht+t,a=i[qe],u=s.firstCreatePass?NO(o,s,i,e,n,r):s.data[o],l=xO(s,i,u,a,e,t);i[o]=l;let f=pl(u);return gi(u,!0),KD(a,l,u),!aO(u)&&yl()&&El(s,i,l,u),uN()===0&&Tr(l,i),lN(),f&&(sg(s,i,u),ig(s,u,i)),r!==null&&og(i,u),U}function L(){let t=at();Up()?oD():(t=t.parent,gi(t,!1));let e=t;fN(e)&&pN(),dN();let n=ot();return n.firstCreatePass&&(_l(n,t),Lp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&MN(e)&&fE(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&NN(e)&&fE(n,e,be(),e.stylesWithoutHost,!1),L}function In(t,e,n,r){return U(t,e,n,r),L(),In}var xO=(t,e,n,r,i,s)=>(vl(!0),UD(r,i,TN()));function PO(t,e,n,r,i){let s=e.consts,o=_s(s,r),a=la(e,t,8,"ng-container",o);o!==null&&il(a,o,!0);let u=_s(s,i);return cg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function gg(t,e,n){let r=be(),i=ot(),s=t+Ht,o=i.firstCreatePass?PO(s,i,r,e,n):i.data[s];gi(o,!0);let a=OO(i,r,o,t);return r[s]=a,yl()&&El(i,r,a,o),Tr(a,r),pl(o)&&(sg(i,r,o),ig(i,o,r)),n!=null&&og(r,o),gg}function mg(){let t=at(),e=ot();return Up()?oD():(t=t.parent,gi(t,!1)),e.firstCreatePass&&(_l(e,t),Lp(t)&&e.queries.elementEnd(t)),mg}var OO=(t,e,n,r)=>(vl(!0),wx(e[qe],""));function Rs(){return be()}var cl="en-US";var kO=cl;function FO(t){typeof t=="string"&&(kO=t.toLowerCase().replace(/_/g,"-"))}var VO=(t,e,n)=>{};function Et(t,e,n,r){let i=be(),s=ot(),o=at();return _C(s,i,i[qe],o,t,e,r),Et}function LO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[qu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function _C(t,e,n,r,i,s,o){let a=pl(r),l=t.firstCreatePass&&lP(t),f=e[Jt],p=uP(e),v=!0;if(r.type&3||o){let M=qt(r,e),R=o?o(M):M,F=p.length,q=o?ce=>o(gn(ce[r.index])):r.index,z=null;if(!o&&a&&(z=LO(t,e,i,r.index)),z!==null){let ce=z.__ngLastListenerFn__||z;ce.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,v=!1}else{s=mE(r,e,f,s),VO(M,i,s);let ce=n.listen(R,i,s);p.push(s,ce),l&&l.push(i,q,F,F+1)}}else s=mE(r,e,f,s);let w=r.outputs,A;if(v&&w!==null&&(A=w[i])){let M=A.length;if(M)for(let R=0;R<M;R+=2){let F=A[R],q=A[R+1],Re=e[F][q].subscribe(s),ee=p.length;p.push(s,Re),l&&l.push(i,r.index,ee,-(ee+1))}}}function gE(t,e,n,r){let i=ye(null);try{return ln(6,e,n),n(r)!==!1}catch(s){return oC(t,s),!1}finally{ln(7,e,n),ye(i)}}function mE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Nr(t.index,e):e;dg(o,5);let a=gE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=gE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function yg(t=1){return bN(t)}function jO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function St(t){let e=mN();return XE(e,Ht+t)}function re(t,e=""){let n=be(),r=ot(),i=t+Ht,s=r.firstCreatePass?la(r,i,1,e,null):r.data[i],o=UO(r,n,s,e,t);n[i]=o,yl()&&El(r,n,o,s),gi(s,!1)}var UO=(t,e,n,r,i)=>(vl(!0),Ix(e[qe],r));function tn(t,e,n){yC(e)&&(e=e());let r=be(),i=Bp();if(fa(r,i,e)){let s=ot(),o=qp();tC(s,o,r,t,e,r[qe],n,!1)}return tn}function wn(t,e){let n=yC(t);return n&&t.set(e),n}function nn(t,e){let n=be(),r=ot(),i=at();return _C(r,n,n[qe],i,t,e),nn}function BO(t,e,n){let r=ot();if(r.firstCreatePass){let i=br(t);Sp(n,r.data,r.blueprint,i,!0),Sp(e,r.data,r.blueprint,i,!1)}}function Sp(t,e,n,r,i){if(t=pt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Sp(t[s],e,n,r,i);else{let s=ot(),o=be(),a=at(),u=gs(t)?t:pt(t.provide),l=qE(t),f=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(gs(t)||!t.multi){let w=new hi(l,i,Q),A=qf(u,e,i?f:f+v,p);A===-1?(sp(Zu(a,o),s,u),Hf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),o.push(w)):(n[A]=w,o[A]=w)}else{let w=qf(u,e,f+v,p),A=qf(u,e,f,f+v),M=w>=0&&n[w],R=A>=0&&n[A];if(i&&!R||!i&&!M){sp(Zu(a,o),s,u);let F=qO(i?HO:$O,n.length,i,r,l);!i&&R&&(n[A].providerFactory=F),Hf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=IC(n[i?A:w],l,!i&&r);Hf(s,t,w>-1?w:A,F)}!i&&r&&R&&n[A].componentProviders++}}}function Hf(t,e,n,r){let i=gs(e),s=zM(e);if(i||s){let u=(s?pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function IC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $O(t,e,n,r){return Ap(this.multi,[])}function HO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Is(n,n[ue],this.providerFactory.index,r);s=a.slice(0,o),Ap(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ap(i,s);return s}function Ap(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function qO(t,e,n,r,i){let s=new hi(t,n,Q);return s.multi=[],s.index=e,s.componentProviders=0,IC(s,i,r&&!n),s}function mi(t,e=[]){return n=>{n.providersResolver=(r,i)=>BO(r,i?i(t):t,e)}}var zO=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=BE(!1,n.type),i=r.length>0?Sl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(J(xt))})}}return t})();function ct(t){As("NgStandalone"),t.getStandaloneInjector=e=>e.get(zO).getOrCreateStandaloneInjector(t)}function GO(t,e){let n=t[e];return n===ua?void 0:n}function WO(t,e,n,r,i,s){let o=e+n;return fa(t,o,i)?oO(t,o+1,s?r.call(s,i):r(i)):GO(t,o+1)}function wC(t,e){let n=ot(),r,i=t+Ht;n.firstCreatePass?(r=KO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ci(r.type,!0)),o,a=Tt(Q);try{let u=Yu(!1),l=s();return Yu(u),jO(n,be(),i,l),l}finally{Tt(a)}}function KO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function EC(t,e,n){let r=t+Ht,i=be(),s=XE(i,r);return QO(i,r)?WO(i,yN(),e,s.transform,n,s):s.transform(n)}function QO(t,e){return t[ue].data[e].pure}function DC(t,e){return fC(t,e)}var Hn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},CC=new Hn("18.2.10");var Rl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var bC=new j("");function Pr(t){return!!t&&typeof t.then=="function"}function vg(t){return!!t&&typeof t.subscribe=="function"}var Ml=new j(""),TC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(Ml,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Pr(s))n.push(s);else if(vg(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nl=new j("");function YO(){aw(()=>{throw new B(600,!1)})}function ZO(t){return t.isBoundToModule}var JO=10;function XO(t,e,n){try{let r=n();return Pr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var yi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(ZN),this.afterRenderManager=x(vC),this.zonelessEnabled=x(Tl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new We,this.afterTick=new We,this.componentTypes=[],this.components=[],this.isStable=x(Ss).hasPendingTasks.pipe(se(n=>!n)),this._injector=x(xt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof rl;if(!this._injector.get(TC).done){let v=!i&&VE(n),w=!1;throw new B(405,w)}let o;i?o=n:o=this._injector.get(Es).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=ZO(o)?void 0:this._injector.get(Sr),u=r||o.selector,l=o.create(Je.NULL,[],u,a),f=l.location.nativeElement,p=l.injector.get(bC,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Vu(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let n=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Ds,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<JO;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)ek(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>gl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Vu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Nl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Vu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Vu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ek(t,e,n,r){if(!n&&!gl(t))return;uC(t,e,n&&!r?0:1)}var Rp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},xl=(()=>{class t{compileModuleSync(n){return new Ep(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=LE(n),s=jD(i.declarations).reduce((o,a)=>{let u=Cr(a);return u&&o.push(new Cs(u)),o},[]);return new Rp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var tk=(()=>{class t{constructor(){this.zone=x(Ie),this.changeDetectionScheduler=x(ws),this.applicationRef=x(yi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nk=new j("",{factory:()=>!1});function SC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(le(k({},RC()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:ps,multi:!0,useFactory:()=>{let r=x(tk,{optional:!0});return()=>r.initialize()}},{provide:ps,multi:!0,useFactory:()=>{let r=x(rk);return()=>{r.initialize()}}},e===!0?{provide:pC,useValue:!0}:[],{provide:gC,useValue:n??TD}]}function AC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=SC({ngZoneFactory:()=>{let i=RC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&As("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return mn([{provide:nk,useValue:!0},{provide:Tl,useValue:!1},r])}function RC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var rk=(()=>{class t{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=x(Ie),this.pendingTasks=x(Ss)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ik=(()=>{class t{constructor(){this.appRef=x(yi),this.taskService=x(Ss),this.ngZone=x(Ie),this.zonelessEnabled=x(Tl),this.disableScheduling=x(pC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(gC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Jw:SD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sk(){return typeof $localize<"u"&&$localize.locale||cl}var _g=new j("",{providedIn:"root",factory:()=>x(_g,oe.Optional|oe.SkipSelf)||sk()});var Mp=new j("");function Pu(t){return!t.moduleRef}function ok(t){let e=Pu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{Pu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Bn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Pu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Mp);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Mp);o.add(s),t.moduleRef.onDestroy(()=>{Vu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return XO(r,n,()=>{let s=e.get(TC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(_g,cl);if(FO(o||cl),Pu(t)){let a=e.get(yi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return ak(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function ak(t,e){let n=t.injector.get(yi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var Lu=null;function ck(t=[],e){return Je.create({name:e,providers:[{provide:dl,useValue:"platform"},{provide:Mp,useValue:new Set([()=>Lu=null])},...t]})}function uk(t=[]){if(Lu)return Lu;let e=ck(t);return Lu=e,YO(),lk(e),e}function lk(t){t.get(Zp,null)?.forEach(n=>n())}var Or=(()=>{class t{static{this.__NG_ELEMENT_ID__=dk}}return t})();function dk(t){return hk(at(),be(),(t&16)===16)}function hk(t,e,n){if(fl(t)&&!n){let r=Nr(t.index,e);return new fi(r,r)}else if(t.type&175){let r=e[pn];return new fi(r,e)}return null}function MC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=uk(r),s=[SC({}),{provide:ws,useExisting:ik},...n||[]],o=new ol({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return ok({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function kr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ga(t,e){As("NgSignals");let n=iw(t);return e?.equal&&(n[jn].equal=e.equal),n}function rn(t){let e=ye(null);try{return t()}finally{ye(e)}}function NC(t){let e=Cr(t);if(!e)return null;let n=new Cs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var kC=null;function Qn(){return kC}function FC(t){kC??=t}var Pl=class{};var At=new j(""),bg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(fk),providedIn:"platform"})}}return t})(),VC=new j(""),fk=(()=>{class t extends bg{constructor(){super(),this._doc=x(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qn().getBaseHref(this._doc)}onPopState(n){let r=Qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Tg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function xC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Kn(t){return t&&t[0]!=="?"?"?"+t:t}var Yn=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(Sg),providedIn:"root"})}}return t})(),LC=new j(""),Sg=(()=>{class t extends Yn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Tg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Kn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(J(bg),J(LC,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jC=(()=>{class t extends Yn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Tg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(J(bg),J(LC,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Ms=(()=>{class t{constructor(n){this._subject=new Ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=mk(xC(PC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kn(r))}normalize(n){return t.stripTrailingSlash(gk(this._basePath,PC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Kn}static{this.joinWithSlash=Tg}static{this.stripTrailingSlash=xC}static{this.\u0275fac=function(r){return new(r||t)(J(Yn))}}static{this.\u0275prov=$({token:t,factory:()=>pk(),providedIn:"root"})}}return t})();function pk(){return new Ms(J(Yn))}function gk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function PC(t){return t.replace(/\/index.html$/,"")}function mk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function UC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ns=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Ig,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){OC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){OC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Q(da),Q(hg))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Ig=class{constructor(){this.$implicit=null,this.ngIf=null}};function OC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${gt(e)}'.`)}function yk(t,e){return new B(2100,!1)}var wg=class{createSubscription(e,n){return rn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){rn(()=>e.unsubscribe())}},Eg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},vk=new Eg,_k=new wg,BC=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Pr(n))return vk;if(vg(n))return _k;throw yk(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(Q(Or,16))}}static{this.\u0275pipe=OE({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var vi=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Rr({type:t})}static{this.\u0275inj=Ar({})}}return t})(),Ag="browser",Ik="server";function wk(t){return t===Ag}function Rg(t){return t===Ik}var $C=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>wk(x(_n))?new Dg(x(At),window):new Cg})}}return t})(),Dg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Ek(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Ek(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Cg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ol=class{};var xg=class extends Pl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pg=class t extends xg{static makeCurrent(){FC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Dk();return n==null?null:Ck(n)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return UC(document.cookie,e)}},ma=null;function Dk(){return ma=ma||document.querySelector("base"),ma?ma.getAttribute("href"):null}function Ck(t){return new URL(t,document.baseURI).pathname}var bk=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Og=new j(""),GC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(J(Og),J(Ie))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Fl=class{constructor(e){this._doc=e}},Mg="ng-app-id",WC=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rg(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Mg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Mg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Mg,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(J(At),J(Yp),J(Jp,8),J(_n))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Ng={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fg=/%COMP%/g,KC="%COMP%",Tk=`_nghost-${KC}`,Sk=`_ngcontent-${KC}`,Ak=!0,Rk=new j("",{providedIn:"root",factory:()=>Ak});function Mk(t){return Sk.replace(Fg,t)}function Nk(t){return Tk.replace(Fg,t)}function QC(t,e){return e.map(n=>n.replace(Fg,t))}var HC=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Rg(a),this.defaultRenderer=new ya(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hn.ShadowDom&&(r=le(k({},r),{encapsulation:hn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Vl?i.applyToHost(n):i instanceof va&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case hn.Emulated:s=new Vl(u,l,r,this.appId,f,o,a,p);break;case hn.ShadowDom:return new kg(u,l,n,r,o,a,this.nonce,p);default:s=new va(u,l,r,f,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(J(GC),J(WC),J(Yp),J(Rk),J(At),J(_n),J(Ie),J(Jp))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),ya=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ng[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Ng[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ng[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($n.DashCase|$n.Important)?e.style.setProperty(n,r,i&$n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Qn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function qC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var kg=class extends ya{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=QC(i.id,i.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},va=class extends ya{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?QC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Vl=class extends va{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=Mk(l),this.hostAttr=Nk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xk=(()=>{class t extends Fl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(J(At))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),zC=["alt","control","meta","shift"],Pk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ok={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},kk=(()=>{class t extends Fl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),zC.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=Pk[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),zC.forEach(o=>{if(o!==i){let a=Ok[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(J(At))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function YC(t,e){return MC(k({rootComponent:t},Fk(e)))}function Fk(t){return{appProviders:[...Bk,...t?.providers??[]],platformProviders:Uk}}function Vk(){Pg.makeCurrent()}function Lk(){return new Bn}function jk(){return OD(document),document}var Uk=[{provide:_n,useValue:Ag},{provide:Zp,useValue:Vk,multi:!0},{provide:At,useFactory:jk,deps:[]}];var Bk=[{provide:dl,useValue:"root"},{provide:Bn,useFactory:Lk,deps:[]},{provide:Og,useClass:xk,multi:!0,deps:[At,Ie,_n]},{provide:Og,useClass:kk,multi:!0,deps:[At]},HC,WC,GC,{provide:Ds,useExisting:HC},{provide:Ol,useClass:bk,deps:[]},[]];var ZC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(J(At))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ie="primary",Pa=Symbol("RouteTitle"),Bg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vs(t){return new Bg(t)}function Hk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!En(t[n],e[n]))return!1;return!0}function En(t,e){let n=t?$g(t):void 0,r=e?$g(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!cb(t[i],e[i]))return!1;return!0}function $g(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function cb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ub(t){return t.length>0?t[t.length-1]:null}function Lr(t){return bf(t)?t:Pr(t)?Ae(Promise.resolve(t)):K(t)}var zk={exact:db,subset:hb},lb={exact:Gk,subset:Wk,ignored:()=>!0};function JC(t,e,n){return zk[n.paths](t.root,e.root,n.matrixParams)&&lb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Gk(t,e){return En(t,e)}function db(t,e,n){if(!Ii(t.segments,e.segments)||!Ul(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!db(t.children[r],e.children[r],n))return!1;return!0}function Wk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cb(t[n],e[n]))}function hb(t,e,n){return fb(t,e,e.segments,n)}function fb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ii(i,n)||e.hasChildren()||!Ul(i,n,r))}else if(t.segments.length===n.length){if(!Ii(t.segments,n)||!Ul(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!hb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ii(t.segments,i)||!Ul(t.segments,i,r)||!t.children[ie]?!1:fb(t.children[ie],e,s,r)}}function Ul(t,e,n){return e.every((r,i)=>lb[n](t[i].parameters,r.parameters))}var Jn=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vs(this.queryParams),this._queryParamMap}toString(){return Yk.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bl(this)}},_i=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vs(this.parameters),this._parameterMap}toString(){return gb(this)}};function Kk(t,e){return Ii(t,e)&&t.every((n,r)=>En(n.parameters,e[r].parameters))}function Ii(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Qk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var Oa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new Ls,providedIn:"root"})}}return t})(),Ls=class{parse(e){let n=new qg(e);return new Jn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_a(e.root,!0)}`,r=Xk(e.queryParams),i=typeof e.fragment=="string"?`#${Zk(e.fragment)}`:"";return`${n}${r}${i}`}},Yk=new Ls;function Bl(t){return t.segments.map(e=>gb(e)).join("/")}function _a(t,e){if(!t.hasChildren())return Bl(t);if(e){let n=t.children[ie]?_a(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${_a(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Qk(t,(r,i)=>i===ie?[_a(t.children[ie],!1)]:[`${i}:${_a(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${Bl(t)}/${n[0]}`:`${Bl(t)}/(${n.join("//")})`}}function pb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ll(t){return pb(t).replace(/%3B/gi,";")}function Zk(t){return encodeURI(t)}function Hg(t){return pb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $l(t){return decodeURIComponent(t)}function XC(t){return $l(t.replace(/\+/g,"%20"))}function gb(t){return`${Hg(t.path)}${Jk(t.parameters)}`}function Jk(t){return Object.entries(t).map(([e,n])=>`;${Hg(e)}=${Hg(n)}`).join("")}function Xk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ll(n)}=${Ll(i)}`).join("&"):`${Ll(n)}=${Ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var e1=/^[^\/()?;#]+/;function Vg(t){let e=t.match(e1);return e?e[0]:""}var t1=/^[^\/()?;=#]+/;function n1(t){let e=t.match(t1);return e?e[0]:""}var r1=/^[^=?&#]+/;function i1(t){let e=t.match(r1);return e?e[0]:""}var s1=/^[^&#]+/;function o1(t){let e=t.match(s1);return e?e[0]:""}var qg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new we(e,n)),r}parseSegment(){let e=Vg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new _i($l(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=n1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Vg(this.remaining);i&&(r=i,this.capture(r))}e[$l(n)]=$l(r)}parseQueryParam(e){let n=i1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=o1(this.remaining);o&&(r=o,this.capture(r))}let i=XC(n),s=XC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ie]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function mb(t){return t.segments.length>0?new we([],{[ie]:t}):t}function yb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=yb(i);if(r===ie&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new we(t.segments,e);return a1(n)}function a1(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new we(t.segments.concat(e.segments),e.children)}return t}function wi(t){return t instanceof Jn}function c1(t,e,n=null,r=null){let i=vb(t);return _b(i,e,n,r)}function vb(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new we(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=mb(r);return e??i}function _b(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Lg(i,i,i,n,r);let s=u1(e);if(s.toRoot())return Lg(i,i,new we([],{}),n,r);let o=l1(s,i,t),a=o.processChildren?Ea(o.segmentGroup,o.index,s.commands):wb(o.segmentGroup,o.index,s.commands);return Lg(i,o.segmentGroup,a,n,r)}function Hl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ba(t){return typeof t=="object"&&t!=null&&t.outlets}function Lg(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=Ib(t,e,n);let a=mb(yb(o));return new Jn(a,s,i)}function Ib(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Ib(s,e,n)}),new we(t.segments,r)}var ql=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hl(r[0]))throw new B(4003,!1);let i=r.find(ba);if(i&&i!==ub(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function u1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ql(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ql(n,e,r)}var Os=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function l1(t,e,n){if(t.isAbsolute)return new Os(e,!0,0);if(!n)return new Os(e,!1,NaN);if(n.parent===null)return new Os(n,!0,0);let r=Hl(t.commands[0])?0:1,i=n.segments.length-1+r;return d1(n,i,t.numberOfDoubleDots)}function d1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Os(r,!1,i-s)}function h1(t){return ba(t[0])?t[0].outlets:{[ie]:t}}function wb(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return Ea(t,e,n);let r=f1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new we(t.segments.slice(r.pathIndex),t.children),Ea(s,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?zg(t,e,n):r.match?Ea(t,0,i):zg(t,e,n)}function Ea(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=h1(n),i={};if(Object.keys(r).some(s=>s!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let s=Ea(t.children[ie],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=wb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new we(t.segments,i)}}function f1(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ba(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!tb(u,l,o))return s;r+=2}else{if(!tb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ba(s)){let u=p1(s.outlets);return new we(r,u)}if(i===0&&Hl(n[0])){let u=t.segments[e];r.push(new _i(u.path,eb(n[0]))),i++;continue}let o=ba(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Hl(a)?(r.push(new _i(o,eb(a))),i+=2):(r.push(new _i(o,{})),i++)}return new we(r,{})}function p1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=zg(new we([],{}),0,r))}),e}function eb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tb(t,e,n){return t==n.path&&En(e,n.parameters)}var Da="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),zt=class{constructor(e,n){this.id=e,this.url=n}},js=class extends zt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dn=class extends zt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(kt||{}),zl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(zl||{}),Zn=class extends zt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fr=class extends zt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},Ta=class extends zt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gl=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gg=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wg=class extends zt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kg=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qg=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yg=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zg=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jg=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xg=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},em=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tm=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Sa=class{},Us=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function g1(t,e){return t.providers&&!t._injector&&(t._injector=Sl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function sn(t){return t.outlet||ie}function m1(t,e){let n=t.filter(r=>sn(r)===e);return n.push(...t.filter(r=>sn(r)!==e)),n}function ka(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nm=class{get injector(){return ka(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Fa(this.rootInjector),this.attachRef=null}},Fa=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(J(xt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Kl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=rm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=rm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=im(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return im(e,this._root).map(n=>n.value)}};function rm(t,e){if(t===e.value)return e;for(let n of e.children){let r=rm(t,n);if(r)return r}return null}function im(t,e){if(t===e.value)return[e];for(let n of e.children){let r=im(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ps(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ql=class extends Kl{constructor(e,n){super(e),this.snapshot=n,fm(this,e)}toString(){return this.snapshot.toString()}};function Eb(t){let e=y1(t),n=new Oe([new _i("",{})]),r=new Oe({}),i=new Oe({}),s=new Oe({}),o=new Oe(""),a=new Vr(n,r,s,o,i,ie,t,e.root);return a.snapshot=e.root,new Ql(new Ot(a,[]),e)}function y1(t){let e={},n={},r={},i="",s=new ks([],e,r,i,n,ie,t,null,{});return new Zl("",new Ot(s,[]))}var Vr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[Pa]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&Cb(i)&&(r.resolve[Pa]=i.title),r}var ks=class{get title(){return this.data?.[Pa]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zl=class extends Kl{constructor(e,n){super(n),this.url=e,fm(this,n)}toString(){return Db(this._root)}};function fm(t,e){e.value._routerState=t,e.children.forEach(n=>fm(t,n))}function Db(t){let e=t.children.length>0?` { ${t.children.map(Db).join(", ")} } `:"";return`${t.value}${e}`}function jg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,En(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),En(e.params,n.params)||t.paramsSubject.next(n.params),qk(e.url,n.url)||t.urlSubject.next(n.url),En(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function sm(t,e){let n=En(t.params,e.params)&&Kk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||sm(t.parent,e.parent))}function Cb(t){return typeof t.title=="string"||t.title===null}var pm=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.parentContexts=x(Fa),this.location=x(da),this.changeDetector=x(Or),this.inputBinder=x(td,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new om(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mr]})}}return t})(),om=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vr?this.route:e===Fa?this.childContexts:this.parent.get(e,n)}},td=new j(""),nb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Qo([r.queryParams,r.params,r.data]).pipe(jt(([s,o,a],u)=>(a=k(k(k({},s),o),a),u===0?K(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=NC(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function v1(t,e,n){let r=Aa(t,e._root,n?n._root:void 0);return new Ql(r,e)}function Aa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=_1(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Aa(t,a)),o}}let r=I1(e.value),i=e.children.map(s=>Aa(t,s));return new Ot(r,i)}}function _1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Aa(t,r,i);return Aa(t,r)})}function I1(t){return new Vr(new Oe(t.url),new Oe(t.params),new Oe(t.queryParams),new Oe(t.fragment),new Oe(t.data),t.outlet,t.component,t)}var Ra=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},bb="ngNavigationCancelingError";function Jl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Tb(!1,kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Tb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[bb]=!0,n.cancellationCode=e,n}function w1(t){return Sb(t)&&wi(t.url)}function Sb(t){return!!t&&t[bb]}var E1=(t,e,n,r)=>se(i=>(new am(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),am=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),jg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ps(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ps(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ps(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ps(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Xg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(jg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),jg(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Xl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fs=class{constructor(e,n){this.component=e,this.route=n}};function D1(t,e,n){let r=t._root,i=e?e._root:null;return Ia(r,i,n,[r.value])}function C1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function $s(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!IE(t)?t:e.get(t):r}function Ia(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ps(e);return t.children.forEach(o=>{b1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ca(a,n.getContext(o),i)),i}function b1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=T1(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ia(t,e,a?a.children:null,r,i):Ia(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fs(a.outlet.component,o))}else o&&Ca(e,a,i),i.canActivateChecks.push(new Xl(r)),s.component?Ia(t,null,a?a.children:null,r,i):Ia(t,null,n,r,i);return i}function T1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ii(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ii(t.url,e.url)||!En(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sm(t,e)||!En(t.queryParams,e.queryParams);case"paramsChange":default:return!sm(t,e)}}function Ca(t,e,n){let r=Ps(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ca(o,e.children.getContext(s),n):Ca(o,null,n):Ca(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Fs(e.outlet.component,i)):n.canDeactivateChecks.push(new Fs(null,i)):n.canDeactivateChecks.push(new Fs(null,i))}function Va(t){return typeof t=="function"}function S1(t){return typeof t=="boolean"}function A1(t){return t&&Va(t.canLoad)}function R1(t){return t&&Va(t.canActivate)}function M1(t){return t&&Va(t.canActivateChild)}function N1(t){return t&&Va(t.canDeactivate)}function x1(t){return t&&Va(t.canMatch)}function Ab(t){return t instanceof Un||t?.name==="EmptyError"}var jl=Symbol("INITIAL_VALUE");function Bs(){return jt(t=>Qo(t.map(e=>e.pipe(bt(1),Mf(jl)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===jl)return jl;if(n===!1||P1(n))return n}return!0}),Lt(e=>e!==jl),bt(1)))}function P1(t){return wi(t)||t instanceof Ra}function O1(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?K(le(k({},n),{guardsResult:!0})):k1(o,r,i,t).pipe(Fe(a=>a&&S1(a)?F1(r,s,t,e):K(a)),se(a=>le(k({},n),{guardsResult:a})))})}function k1(t,e,n,r){return Ae(t).pipe(Fe(i=>B1(i.component,i.route,n,e,r)),un(i=>i!==!0,!0))}function F1(t,e,n,r){return Ae(e).pipe(oi(i=>ss(L1(i.route.parent,r),V1(i.route,r),U1(t,i.path,n),j1(t,i.route,n))),un(i=>i!==!0,!0))}function V1(t,e){return t!==null&&e&&e(new em(t)),K(!0)}function L1(t,e){return t!==null&&e&&e(new Jg(t)),K(!0)}function j1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(s=>Su(()=>{let o=ka(e)??n,a=$s(s,o),u=R1(a)?a.canActivate(e,t):yn(o,()=>a(e,t));return Lr(u).pipe(un())}));return K(i).pipe(Bs())}function U1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>C1(o)).filter(o=>o!==null).map(o=>Su(()=>{let a=o.guards.map(u=>{let l=ka(o.node)??n,f=$s(u,l),p=M1(f)?f.canActivateChild(r,t):yn(l,()=>f(r,t));return Lr(p).pipe(un())});return K(a).pipe(Bs())}));return K(s).pipe(Bs())}function B1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(a=>{let u=ka(e)??i,l=$s(a,u),f=N1(l)?l.canDeactivate(t,e,n,r):yn(u,()=>l(t,e,n,r));return Lr(f).pipe(un())});return K(o).pipe(Bs())}function $1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(o=>{let a=$s(o,t),u=A1(a)?a.canLoad(e,n):yn(t,()=>a(e,n));return Lr(u)});return K(s).pipe(Bs(),Rb(r))}function Rb(t){return yf(He(e=>{if(typeof e!="boolean")throw Jl(t,e)}),se(e=>e===!0))}function H1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(o=>{let a=$s(o,t),u=x1(a)?a.canMatch(e,n):yn(t,()=>a(e,n));return Lr(u)});return K(s).pipe(Bs(),Rb(r))}var Ma=class{constructor(e){this.segmentGroup=e||null}},Na=class extends Error{constructor(e){super(),this.urlTree=e}};function xs(t){return rs(new Ma(t))}function q1(t){return rs(new B(4e3,!1))}function z1(t){return rs(Tb(!1,kt.GuardRejected))}var cm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[ie])return q1(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:v,params:w,data:A,title:M}=i,R=yn(s,()=>a({params:w,data:A,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:v,title:M}));if(R instanceof Jn)throw new Na(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Na(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Jn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G1(t,e,n,r,i){let s=Mb(t,e,n);return s.matched?(r=g1(e,r),H1(r,e,n,i).pipe(se(o=>o===!0?s:k({},um)))):K(s)}function Mb(t,e,n){if(e.path==="**")return W1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},um):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Hk)(n,t,e);if(!i)return k({},um);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function W1(t){return{matched:!0,parameters:t.length>0?ub(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function rb(t,e,n,r){return n.length>0&&Y1(t,n,r)?{segmentGroup:new we(e,Q1(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&Z1(t,n,r)?{segmentGroup:new we(t.segments,K1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function K1(t,e,n,r){let i={};for(let s of n)if(nd(t,e,s)&&!r[sn(s)]){let o=new we([],{});i[sn(s)]=o}return k(k({},r),i)}function Q1(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&sn(r)!==ie){let i=new we([],{});n[sn(r)]=i}return n}function Y1(t,e,n){return n.some(r=>nd(t,e,r)&&sn(r)!==ie)}function Z1(t,e,n){return n.some(r=>nd(t,e,r))}function nd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function J1(t,e,n){return e.length===0&&!t.children[n]}var lm=class{};function X1(t,e,n,r,i,s,o="emptyOnly"){return new dm(t,e,n,r,i,o,s).recognize()}var eF=31,dm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new cm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=rb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new Ot(r,n),s=new Zl("",i),o=c1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ks([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,n).pipe(se(r=>({children:r,rootSnapshot:n})),vr(r=>{if(r instanceof Na)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ma?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(se(o=>o instanceof Ot?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(oi(o=>{let a=r.children[o],u=m1(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Rf((o,a)=>(o.push(...a),o)),_r(null),Af(),Fe(o=>{if(o===null)return xs(r);let a=Nb(o);return tF(a),K(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(oi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(vr(l=>{if(l instanceof Ma)return K(null);throw l}))),un(u=>!!u),vr(u=>{if(Ab(u))return J1(r,i,s)?K(new lm):xs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return sn(r)!==o&&(o===ie||!nd(i,s,r))?xs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):xs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:v}=Mb(n,i,s);if(!u)return xs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eF&&(this.allowRedirects=!1));let w=new ks(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,ib(i),sn(i),i.component??i._loadedComponent??null,i,sb(i)),A=Yl(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,w,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Fe(R=>this.processSegment(e,r,n,R.concat(v),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=G1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(jt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:v,remainingSegments:w}=u,A=new ks(v,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,ib(r),sn(r),r.component??r._loadedComponent??null,r,sb(r)),M=Yl(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(M.params),A.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=rb(n,v,w,l);if(F.length===0&&R.hasChildren())return this.processChildren(f,l,R,A).pipe(se(z=>new Ot(A,z)));if(l.length===0&&F.length===0)return K(new Ot(A,[]));let q=sn(r)===s;return this.processSegment(f,l,R,F,q?ie:s,!0,A).pipe(se(z=>new Ot(A,z instanceof Ot?[z]:[])))}))):xs(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):$1(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(He(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):z1(n))):K({routes:[],injector:e})}};function tF(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function nF(t){let e=t.value.routeConfig;return e&&e.path===""}function Nb(t){let e=[],n=new Set;for(let r of t){if(!nF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Nb(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function ib(t){return t.data||{}}function sb(t){return t.resolve||{}}function rF(t,e,n,r,i,s){return Fe(o=>X1(t,e,n,r,o.extractedUrl,i,s).pipe(se(({state:a,tree:u})=>le(k({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function iF(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of xb(u))o.add(l);let a=0;return Ae(o).pipe(oi(u=>s.has(u)?sF(u,r,t,e):(u.data=Yl(u,u.parent,t).resolve,K(void 0))),He(()=>a++),os(1),Fe(u=>a===o.size?K(n):Nt))})}function xb(t){let e=t.children.map(n=>xb(n)).flat();return[t,...e]}function sF(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Cb(i)&&(s[Pa]=i.title),oF(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=Yl(t,t.parent,n).resolve,null)))}function oF(t,e,n,r){let i=$g(t);if(i.length===0)return K({});let s={};return Ae(i).pipe(Fe(o=>aF(t[o],e,n,r).pipe(un(),He(a=>{if(a instanceof Ra)throw Jl(new Ls,a);s[o]=a}))),os(1),Sf(s),vr(o=>Ab(o)?Nt:rs(o)))}function aF(t,e,n,r){let i=ka(e)??r,s=$s(t,i),o=s.resolve?s.resolve(e,n):yn(i,()=>s(e,n));return Lr(o)}function Ug(t){return jt(e=>{let n=t(e);return n?Ae(n).pipe(se(()=>e)):K(e)})}var Pb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[Pa]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(cF),providedIn:"root"})}}return t})(),cF=(()=>{class t extends Pb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(J(ZC))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),La=new j("",{providedIn:"root",factory:()=>({})}),uF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=st({type:t,selectors:[["ng-component"]],standalone:!0,features:[ct],decls:1,vars:0,template:function(r,i){r&1&&In(0,"router-outlet")},dependencies:[pm],encapsulation:2})}}return t})();function gm(t){let e=t.children&&t.children.map(gm),n=e?le(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=uF),n}var xa=new j(""),mm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(xl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Lr(n.loadComponent()).pipe(se(Ob),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Yo(()=>{this.componentLoaders.delete(n)})),i=new Xi(r,()=>new We).pipe(Ji());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=lF(r,this.compiler,n,this.onLoadEndListener).pipe(Yo(()=>{this.childrenLoaders.delete(r)})),o=new Xi(s,()=>new We).pipe(Ji());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function lF(t,e,n,r){return Lr(t.loadChildren()).pipe(se(Ob),Fe(i=>i instanceof ra||Array.isArray(i)?K(i):Ae(e.compileModuleAsync(i))),se(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(xa,[],{optional:!0,self:!0}).flat()),{routes:o.map(gm),injector:s}}))}function dF(t){return t&&typeof t=="object"&&"default"in t}function Ob(t){return dF(t)?t.default:t}var ym=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(hF),providedIn:"root"})}}return t})(),hF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kb=new j(""),Fb=new j("");function fF(t,e,n){let r=t.get(Fb),i=t.get(At);return t.get(Ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),pF(t))),{onViewTransitionCreated:u}=r;return u&&yn(t,()=>u({transition:a,from:e,to:n})),o})}function pF(t){return new Promise(e=>{pg({read:()=>setTimeout(e)},{injector:t})})}var gF=new j(""),vm=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We,this.transitionAbortSubject=new We,this.configLoader=x(mm),this.environmentInjector=x(xt),this.urlSerializer=x(Oa),this.rootContexts=x(Fa),this.location=x(Ms),this.inputBindingEnabled=x(td,{optional:!0})!==null,this.titleStrategy=x(Pb),this.options=x(La,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(ym),this.createViewTransition=x(kb,{optional:!0}),this.navigationErrorHandler=x(gF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Yg(i)),r=i=>this.events.next(new Zg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(le(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Oe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Da,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lt(s=>s.id!==0),se(s=>le(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),jt(s=>{let o=!1,a=!1;return K(s).pipe(jt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",kt.SupersededByNewNavigation),Nt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new Fr(u.id,this.urlSerializer.serialize(u.rawUrl),p,zl.IgnoredSameUrlNavigation)),u.resolve(!1),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return K(u).pipe(jt(p=>{let v=this.transitions?.getValue();return this.events.next(new js(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?Nt:Promise.resolve(p)}),rF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),He(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=le(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new Gl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:v,source:w,restoredState:A,extras:M}=u,R=new js(p,this.urlSerializer.serialize(v),w,A);this.events.next(R);let F=Eb(this.rootComponentType).snapshot;return this.currentTransition=s=le(k({},u),{targetSnapshot:F,urlAfterRedirects:v,extras:le(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,K(s)}else{let p="";return this.events.next(new Fr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,zl.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Nt}}),He(u=>{let l=new Gg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),se(u=>(this.currentTransition=s=le(k({},u),{guards:D1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),O1(this.environmentInjector,u=>this.events.next(u)),He(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Jl(this.urlSerializer,u.guardsResult);let l=new Wg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Lt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",kt.GuardRejected),!1)),Ug(u=>{if(u.guards.canActivateChecks.length)return K(u).pipe(He(l=>{let f=new Kg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),jt(l=>{let f=!1;return K(l).pipe(iF(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",kt.NoDataFromResolver)}}))}),He(l=>{let f=new Qg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),Ug(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(He(v=>{f.component=v}),se(()=>{})));for(let v of f.children)p.push(...l(v));return p};return Qo(l(u.targetSnapshot.root)).pipe(_r(null),bt(1))}),Ug(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Ae(f).pipe(se(()=>s)):K(s)}),se(u=>{let l=v1(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=le(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),He(()=>{this.events.next(new Sa)}),E1(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),bt(1),He({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Nf(this.transitionAbortSubject.pipe(He(u=>{throw u}))),Yo(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",kt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),vr(u=>{if(a=!0,Sb(u))this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),w1(u)?this.events.next(new Us(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Ta(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=yn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof Ra){let{message:p,cancellationCode:v}=Jl(this.urlSerializer,f);this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,v)),this.events.next(new Us(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Nt}))}))}cancelNavigationTransition(n,r,i){let s=new Zn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mF(t){return t!==Da}var yF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(vF),providedIn:"root"})}}return t})(),hm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},vF=(()=>{class t extends hm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xr(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(_F),providedIn:"root"})}}return t})(),_F=(()=>{class t extends Vb{constructor(){super(...arguments),this.location=x(Ms),this.urlSerializer=x(Oa),this.options=x(La,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(ym),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Eb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof js)this.stateMemento=this.createStateMemento();else if(n instanceof Fr)this.rawUrlTree=r.initialUrl;else if(n instanceof Gl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Sa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Zn&&(n.code===kt.GuardRejected||n.code===kt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ta?this.restoreHistory(r,!0):n instanceof Dn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Jn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xr(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wa||{});function Lb(t,e){t.events.pipe(Lt(n=>n instanceof Dn||n instanceof Zn||n instanceof Ta||n instanceof Fr),se(n=>n instanceof Dn||n instanceof Fr?wa.COMPLETE:(n instanceof Zn?n.code===kt.Redirect||n.code===kt.SupersededByNewNavigation:!1)?wa.REDIRECTING:wa.FAILED),Lt(n=>n!==wa.REDIRECTING),bt(1)).subscribe(()=>{e()})}function IF(t){throw t}var wF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xe=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(Rl),this.stateManager=x(Vb),this.options=x(La,{optional:!0})||{},this.pendingTasks=x(Ss),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(vm),this.urlSerializer=x(Oa),this.location=x(Ms),this.urlHandlingStrategy=x(ym),this._events=new We,this.errorHandler=this.options.errorHandler||IF,this.navigated=!1,this.routeReuseStrategy=x(yF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(xa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(td,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Zn&&r.code!==kt.Redirect&&r.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dn)this.navigated=!0;else if(r instanceof Us){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mF(i.source)},o);this.scheduleNavigation(a,Da,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}CF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(gm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let v=i?i.snapshot:this.routerState.snapshot.root;p=vb(v)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return _b(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=wi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Da,null,r)}navigate(n,r={skipLocationChange:!1}){return DF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},wF):r===!1?i=k({},EF):i=r,wi(n))return JC(this.currentUrlTree,n,i);let s=this.parseUrl(n);return JC(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,v)=>{a=p,u=v});let f=this.pendingTasks.add();return Lb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function DF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function CF(t){return!(t instanceof Sa)&&!(t instanceof Us)}var Hs=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new We,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Dn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:VD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:wi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(Q(Xe),Q(Vr),Gp("tabindex"),Q(Wn),Q(vn),Q(Yn))}}static{this.\u0275dir=Le({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Et("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&pa("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",kr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",kr],replaceUrl:[2,"replaceUrl","replaceUrl",kr],routerLink:"routerLink"},standalone:!0,features:[fg,Mr]})}}return t})();var ed=class{};var bF=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(n=>n instanceof Dn),oi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Sl(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ae(i).pipe(is())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=K(null);let s=i.pipe(Fe(o=>o===null?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ae([s,o]).pipe(is())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(J(Xe),J(xl),J(xt),J(ed),J(mm))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jb=new j(""),TF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Dn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Fr&&n.code===zl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Wl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){YD()}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function Ub(t,...e){return mn([{provide:xa,multi:!0,useValue:t},[],{provide:Vr,useFactory:Bb,deps:[Xe]},{provide:Nl,multi:!0,useFactory:$b},e.map(n=>n.\u0275providers)])}function Bb(t){return t.routerState.root}function ja(t,e){return{\u0275kind:t,\u0275providers:e}}function $b(){let t=x(Je);return e=>{let n=t.get(yi);if(e!==n.components[0])return;let r=t.get(Xe),i=t.get(Hb);t.get(_m)===1&&r.initialNavigation(),t.get(qb,null,oe.Optional)?.setUpPreloading(),t.get(jb,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Hb=new j("",{factory:()=>new We}),_m=new j("",{providedIn:"root",factory:()=>1});function SF(){return ja(2,[{provide:_m,useValue:0},{provide:Ml,multi:!0,deps:[Je],useFactory:e=>{let n=e.get(VC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Xe),s=e.get(Hb);Lb(i,()=>{r(!0)}),e.get(vm).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}])}function AF(){return ja(3,[{provide:Ml,multi:!0,useFactory:()=>{let e=x(Xe);return()=>{e.setUpLocationChangeListener()}}},{provide:_m,useValue:2}])}var qb=new j("");function RF(t){return ja(0,[{provide:qb,useExisting:bF},{provide:ed,useExisting:t}])}function MF(){return ja(8,[nb,{provide:td,useExisting:nb}])}function NF(t){let e=[{provide:kb,useValue:fF},{provide:Fb,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return ja(9,e)}var ob=new j("ROUTER_FORROOT_GUARD"),xF=[Ms,{provide:Oa,useClass:Ls},Xe,Fa,{provide:Vr,useFactory:Bb,deps:[Xe]},mm,[]],qs=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[xF,[],{provide:xa,multi:!0,useValue:n},{provide:ob,useFactory:FF,deps:[[Xe,new yt,new SE]]},{provide:La,useValue:r||{}},r?.useHash?OF():kF(),PF(),r?.preloadingStrategy?RF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?VF(r):[],r?.bindToComponentInputs?MF().\u0275providers:[],r?.enableViewTransitions?NF().\u0275providers:[],LF()]}}static forChild(n){return{ngModule:t,providers:[{provide:xa,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(J(ob,8))}}static{this.\u0275mod=Rr({type:t})}static{this.\u0275inj=Ar({})}}return t})();function PF(){return{provide:jb,useFactory:()=>{let t=x($C),e=x(Ie),n=x(La),r=x(vm),i=x(Oa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new TF(i,r,t,e,n)}}}function OF(){return{provide:Yn,useClass:jC}}function kF(){return{provide:Yn,useClass:Sg}}function FF(t){return"guarded"}function VF(t){return[t.initialNavigation==="disabled"?AF().\u0275providers:[],t.initialNavigation==="enabledBlocking"?SF().\u0275providers:[]]}var ab=new j("");function LF(){return[{provide:ab,useFactory:$b},{provide:Nl,multi:!0,useExisting:ab}]}var Gb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4,v=(a&15)<<2|l>>6,w=l&63;u||(w=64,o||(v=64)),r.push(n[f],n[p],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Em;let v=s<<2|a>>4;if(r.push(v),l!==64){let w=a<<4&240|l>>2;if(r.push(w),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Em=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},UF=function(t){let e=Gb(t);return Wb.encodeByteArray(e,!0)},Ua=function(t){return UF(t).replace(/\./g,"")},Cm=function(t){try{return Wb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $F=()=>BF().__FIREBASE_DEFAULTS__,HF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Cm(t[1]);return e&&JSON.parse(e)},id=()=>{try{return $F()||HF()||qF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bm=t=>{var e,n;return(n=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kb=t=>{let e=bm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tm=()=>{var t;return(t=id())===null||t===void 0?void 0:t.config},Sm=t=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${t}`]};var rd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ua(JSON.stringify(n)),Ua(JSON.stringify(o)),""].join(".")}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function zF(){var t;let e=(t=id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eT(){let t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tT(){return!zF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Am(){try{return typeof indexedDB=="object"}catch{return!1}}function nT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var GF="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xn.prototype.create)}},Xn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?WF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ft(i,a,r)}};function WF(t,e){return t.replace(KF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var KF=/\{\$([^}]+)}/g;function rT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ei(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(zb(s)&&zb(o)){if(!Ei(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function zb(t){return t!==null&&typeof t=="object"}function Ba(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iT(t,e){let n=new Dm(t,e);return n.subscribe.bind(n)}var Dm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wm),i.error===void 0&&(i.error=wm),i.complete===void 0&&(i.complete=wm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function QF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wm(){}var _9=4*60*60*1e3;function Dt(t){return t&&t._delegate?t._delegate:t}var Gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Di="[DEFAULT]";var Rm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZF(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YF(t){return t===Di?void 0:t}function ZF(t){return t.instantiationMode==="EAGER"}var sd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Rm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var JF=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),XF={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},eV=he.INFO,tV={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},nV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=tV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jr=class{constructor(e){this.name=e,this._logLevel=eV,this._logHandler=nV,this._userLogHandler=null,JF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var rV=(t,e)=>e.some(n=>t instanceof n),sT,oT;function iV(){return sT||(sT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sV(){return oT||(oT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var aT=new WeakMap,Nm=new WeakMap,cT=new WeakMap,Mm=new WeakMap,Pm=new WeakMap;function oV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Cn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aT.set(n,t)}).catch(()=>{}),Pm.set(e,t),e}function aV(t){if(Nm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Nm.set(t,e)}var xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uT(t){xm=t(xm)}function cV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(od(this),e,...n);return cT.set(r,e.sort?e.sort():[e]),Cn(r)}:sV().includes(t)?function(...e){return t.apply(od(this),e),Cn(aT.get(this))}:function(...e){return Cn(t.apply(od(this),e))}}function uV(t){return typeof t=="function"?cV(t):(t instanceof IDBTransaction&&aV(t),rV(t,iV())?new Proxy(t,xm):t)}function Cn(t){if(t instanceof IDBRequest)return oV(t);if(Mm.has(t))return Mm.get(t);let e=uV(t);return e!==t&&(Mm.set(t,e),Pm.set(e,t)),e}var od=t=>Pm.get(t);function dT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Cn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Cn(o.result),u.oldVersion,u.newVersion,Cn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var lV=["get","getKey","getAll","getAllKeys","count"],dV=["put","add","delete","clear"],Om=new Map;function lT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=dV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lV.includes(n)))return;let s=function(o,...a){return y(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Om.set(e,s),s}uT(t=>le(k({},t),{get:(e,n,r)=>lT(e,n)||t.get(e,n,r),has:(e,n)=>!!lT(e,n)||t.has(e,n)}));var Fm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hV(t){let e=t.getComponent();return e?.type==="VERSION"}var Vm="@firebase/app",hT="0.10.13";var er=new jr("@firebase/app"),fV="@firebase/app-compat",pV="@firebase/analytics-compat",gV="@firebase/analytics",mV="@firebase/app-check-compat",yV="@firebase/app-check",vV="@firebase/auth",_V="@firebase/auth-compat",IV="@firebase/database",wV="@firebase/data-connect",EV="@firebase/database-compat",DV="@firebase/functions",CV="@firebase/functions-compat",bV="@firebase/installations",TV="@firebase/installations-compat",SV="@firebase/messaging",AV="@firebase/messaging-compat",RV="@firebase/performance",MV="@firebase/performance-compat",NV="@firebase/remote-config",xV="@firebase/remote-config-compat",PV="@firebase/storage",OV="@firebase/storage-compat",kV="@firebase/firestore",FV="@firebase/vertexai-preview",VV="@firebase/firestore-compat",LV="firebase",jV="10.14.1";var Lm="[DEFAULT]",UV={[Vm]:"fire-core",[fV]:"fire-core-compat",[gV]:"fire-analytics",[pV]:"fire-analytics-compat",[yV]:"fire-app-check",[mV]:"fire-app-check-compat",[vV]:"fire-auth",[_V]:"fire-auth-compat",[IV]:"fire-rtdb",[wV]:"fire-data-connect",[EV]:"fire-rtdb-compat",[DV]:"fire-fn",[CV]:"fire-fn-compat",[bV]:"fire-iid",[TV]:"fire-iid-compat",[SV]:"fire-fcm",[AV]:"fire-fcm-compat",[RV]:"fire-perf",[MV]:"fire-perf-compat",[NV]:"fire-rc",[xV]:"fire-rc-compat",[PV]:"fire-gcs",[OV]:"fire-gcs-compat",[kV]:"fire-fst",[VV]:"fire-fst-compat",[FV]:"fire-vertex","fire-js":"fire-js",[LV]:"fire-js-all"};var $a=new Map,BV=new Map,jm=new Map;function fT(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Br(t){let e=t.name;if(jm.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(let n of $a.values())fT(n,t);for(let n of BV.values())fT(n,t);return!0}function qa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t.settings!==void 0}var $V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Xn("app","Firebase",$V);var Um=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}};var $r=jV;function ad(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Lm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ur.create("bad-app-name",{appName:String(i)});if(n||(n=Tm()),!n)throw Ur.create("no-options");let s=$a.get(i);if(s){if(Ei(n,s.options)&&Ei(r,s.config))return s;throw Ur.create("duplicate-app",{appName:i})}let o=new sd(i);for(let u of jm.values())o.addComponent(u);let a=new Um(n,r,o);return $a.set(i,a),a}function Ws(t=Lm){let e=$a.get(t);if(!e&&t===Lm&&Tm())return ad();if(!e)throw Ur.create("no-app",{appName:t});return e}function cd(){return Array.from($a.values())}function ze(t,e,n){var r;let i=(r=UV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(a.join(" "));return}Br(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var HV="firebase-heartbeat-database",qV=1,Ha="firebase-heartbeat-store",km=null;function yT(){return km||(km=dT(HV,qV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ha)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),km}function zV(t){return y(this,null,function*(){try{let n=(yield yT()).transaction(Ha),r=yield n.objectStore(Ha).get(vT(t));return yield n.done,r}catch(e){if(e instanceof Ft)er.warn(e.message);else{let n=Ur.create("idb-get",{originalErrorMessage:e?.message});er.warn(n.message)}}})}function pT(t,e){return y(this,null,function*(){try{let r=(yield yT()).transaction(Ha,"readwrite");yield r.objectStore(Ha).put(e,vT(t)),yield r.done}catch(n){if(n instanceof Ft)er.warn(n.message);else{let r=Ur.create("idb-set",{originalErrorMessage:n?.message});er.warn(r.message)}}})}function vT(t){return`${t.name}!${t.options.appId}`}var GV=1024,WV=30*24*60*60*1e3,Bm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new $m(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=WV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){er.warn(r)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=gT(),{heartbeatsToSend:r,unsentEntries:i}=KV(this._heartbeatsCache.heartbeats),s=Ua(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return er.warn(n),""}})}};function gT(){return new Date().toISOString().substring(0,10)}function KV(t,e=GV){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var $m=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return Am()?nT().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return pT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return pT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function mT(t){return Ua(JSON.stringify({version:2,heartbeats:t})).length}function QV(t){Br(new Gt("platform-logger",e=>new Fm(e),"PRIVATE")),Br(new Gt("heartbeat",e=>new Bm(e),"PRIVATE")),ze(Vm,hT,t),ze(Vm,hT,"esm2017"),ze("fire-js","")}QV("");var YV="firebase",ZV="10.14.1";ze(YV,ZV,"app");var bi=new Hn("ANGULARFIRE2_VERSION");function ld(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var za=(t,e)=>{let n=e?[e]:cd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Qs=class{constructor(){return za(JV)}},JV="app-check";function Ks(){}var ud=class{zone;delegate;constructor(e,n=Df){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Hm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)),n.pipe(He({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ys=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ud(Zone.current)),this.insideAngular=n.run(()=>new ud(Zone.current,Ef)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(J(Ie))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function XV(t){return dd().ngZone.runOutsideAngular(()=>t())}function Ci(t){return dd().ngZone.run(()=>t())}function eL(t){return tL(dd())(t)}function tL(t){return function(n){return n=n.lift(new Hm(t.ngZone)),n.pipe(yr(t.outsideAngular),mr(t.insideAngular))}}var nL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ci(()=>t.apply(void 0,r))},bn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks))),r[s]=nL(r[s],n));let i=XV(()=>t.apply(this,r));if(!e)if(i instanceof pe){let s=dd();return i.pipe(yr(s.outsideAngular),mr(s.insideAngular))}else return Ci(()=>i);return i instanceof pe?i.pipe(eL):i instanceof Promise?Ci(()=>new Promise((s,o)=>i.then(a=>Ci(()=>s(a)),a=>Ci(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ci(()=>i)};var tr=class{constructor(e){return e}},Ti=class{constructor(){return cd()}};function rL(t){return t&&t.length===1?t[0]:new tr(Ws())}var qm=new j("angularfire2._apps"),iL={provide:tr,useFactory:rL,deps:[[new yt,qm]]},sL={provide:Ti,deps:[[new yt,qm]]};function oL(t){return(e,n)=>{let r=n.get(_n);ze("angularfire",bi.full,"core"),ze("angularfire",bi.full,"app"),ze("angular",CC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new tr(i)}}function _T(t,...e){return mn([iL,sL,{provide:qm,useFactory:oL(t),multi:!0,deps:[Ie,Je,Ys,...e]}])}function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VT=FT,LT=new Xn("auth","Firebase",FT());var yd=new jr("@firebase/auth");function aL(t,...e){yd.logLevel<=he.WARN&&yd.warn(`Auth (${$r}): ${t}`,...e)}function fd(t,...e){yd.logLevel<=he.ERROR&&yd.error(`Auth (${$r}): ${t}`,...e)}function Sn(t,...e){throw fy(t,...e)}function Si(t,...e){return fy(t,...e)}function jT(t,e,n){let r=Object.assign(Object.assign({},VT()),{[e]:n});return new Xn("auth","Firebase",r).create(e,{appName:t.name})}function ir(t){return jT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LT.create(t,...e)}function W(t,e,...n){if(!t)throw fy(e,...n)}function nr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw fd(e),new Error(e)}function qr(t,e){t||nr(e)}function Km(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cL(){return IT()==="http:"||IT()==="https:"}function IT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function uL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cL()||Jb()||"connection"in navigator)?navigator.onLine:!0}function lL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ai=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=Yb()||Xb()}get(){return uL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function py(t,e){qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var vd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hL=new Ai(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Gr(s,o,a,u){return y(this,arguments,function*(t,e,n,r,i={}){return UT(t,i,()=>y(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Ba(Object.assign({key:t.config.apiKey},f)).slice(1),v=yield t._getAdditionalHeaders();v["Content-Type"]="application/json",t.languageCode&&(v["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:v},l);return Zb()||(w.referrerPolicy="no-referrer"),vd.fetch()(BT(t,t.config.apiHost,n,p),w)}))})}function UT(t,e,n){return y(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},dL),e);try{let i=new Qm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw hd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw hd(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw jT(t,f,l);Sn(t,f)}}catch(i){if(i instanceof Ft)throw i;Sn(t,"network-request-failed",{message:String(i)})}})}function Xa(s,o,a,u){return y(this,arguments,function*(t,e,n,r,i={}){let l=yield Gr(t,e,n,r,i);return"mfaPendingCredential"in l&&Sn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function BT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?py(t.config,i):`${t.config.apiScheme}://${i}`}function fL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Qm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Si(this.auth,"network-request-failed")),hL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Si(t,e,r);return i.customData._tokenResponse=n,i}function wT(t){return t!==void 0&&t.enterprise!==void 0}var Ym=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function pL(t,e){return y(this,null,function*(){return Gr(t,"GET","/v2/recaptchaConfig",zr(t,e))})}function gL(t,e){return y(this,null,function*(){return Gr(t,"POST","/v1/accounts:delete",e)})}function $T(t,e){return y(this,null,function*(){return Gr(t,"POST","/v1/accounts:lookup",e)})}function Ga(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gy(t,e=!1){return y(this,null,function*(){let n=Dt(t),r=yield n.getIdToken(e),i=my(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ga(zm(i.auth_time)),issuedAtTime:Ga(zm(i.iat)),expirationTime:Ga(zm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zm(t){return Number(t)*1e3}function my(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Cm(n);return i?JSON.parse(i):(fd("Failed to decode base64 JWT payload"),null)}catch(i){return fd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ET(t){let e=my(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ka(t,e,n=!1){return y(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ft&&mL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function mL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Zm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),n)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _d(t){return y(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ka(t,$T(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?HT(s.providerUserInfo):[],a=yL(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function yy(t){return y(this,null,function*(){let e=Dt(t);yield _d(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HT(t){return t.map(e=>{var{providerId:n}=e,r=Cf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vL(t,e){return y(this,null,function*(){let n=yield UT(t,{},()=>y(this,null,function*(){let r=Ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function _L(t,e){return y(this,null,function*(){return Gr(t,"POST","/v2/accounts:revokeToken",zr(t,e))})}var Wa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ET(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=ET(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return y(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield vL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return nr("not implemented")}};function Hr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Cf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let n=yield Ka(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return gy(this,e)}reload(){return yy(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield _d(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(on(this.auth.app))return Promise.reject(ir(this.auth));let e=yield this.getIdToken();return yield Ka(this,gL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:z,emailVerified:ce,isAnonymous:Re,providerData:ee,stsTokenManager:D}=n;W(z&&D,e,"internal-error");let m=Wa.fromJSON(this.name,D);W(typeof z=="string",e,"internal-error"),Hr(p,e.name),Hr(v,e.name),W(typeof ce=="boolean",e,"internal-error"),W(typeof Re=="boolean",e,"internal-error"),Hr(w,e.name),Hr(A,e.name),Hr(M,e.name),Hr(R,e.name),Hr(F,e.name),Hr(q,e.name);let _=new t({uid:z,auth:e,email:v,emailVerified:ce,displayName:p,isAnonymous:Re,photoURL:A,phoneNumber:w,tenantId:M,stsTokenManager:m,createdAt:F,lastLoginAt:q});return ee&&Array.isArray(ee)&&(_.providerData=ee.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return y(this,null,function*(){let i=new Wa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _d(s),s})}static _fromGetAccountInfoResponse(e,n,r){return y(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?HT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Wa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var DT=new Map;function rr(t){qr(t instanceof Function,"Expected a class definition");let e=DT.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DT.set(t,e),e)}var IL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(n,r){return y(this,null,function*(){this.storage[n]=r})}_get(n){return y(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return y(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Jm=IL;function pd(t,e,n){return`firebase:${t}:${e}:${n}`}var Id=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=pd(this.userKey,i.apiKey,s),this.fullPersistenceKey=pd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(this,null,function*(){if(!n.length)return new t(rr(Jm),e,r);let i=(yield Promise.all(n.map(l=>y(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||rr(Jm),o=pd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=Zs._fromJSON(e,f);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>y(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function CT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if(YT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(KT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function qT(t=Qe()){return/firefox\//i.test(t)}function zT(t=Qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(t=Qe()){return/crios\//i.test(t)}function WT(t=Qe()){return/iemobile/i.test(t)}function KT(t=Qe()){return/android/i.test(t)}function QT(t=Qe()){return/blackberry/i.test(t)}function YT(t=Qe()){return/webos/i.test(t)}function vy(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wL(t=Qe()){var e;return vy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EL(){return eT()&&document.documentMode===10}function ZT(t=Qe()){return vy(t)||KT(t)||YT(t)||QT(t)||/windows phone/i.test(t)||WT(t)}function JT(t,e=[]){let n;switch(t){case"Browser":n=CT(Qe());break;case"Worker":n=`${CT(Qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$r}/${r}`}var Xm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function DL(n){return y(this,arguments,function*(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",zr(t,e))})}var CL=6,ey=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ty=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wd(this),this.idTokenSubscription=new wd(this),this.beforeStateQueue=new Xm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Id.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let n=yield $T(this,{idToken:e}),r=yield Zs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var n;if(on(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield _d(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=lL()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(on(this.app))return Promise.reject(ir(this));let n=e?Dt(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return y(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return on(this.app)?Promise.reject(ir(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return on(this.app)?Promise.reject(ir(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(rr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield DL(this),n=new ey(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield _L(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&rr(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Id.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return y(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&aL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Mi(t){return Dt(t)}var wd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iT(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ad={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bL(t){Ad=t}function XT(t){return Ad.loadJS(t)}function TL(){return Ad.recaptchaEnterpriseScript}function SL(){return Ad.gapiScript}function e0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var AL="recaptcha-enterprise",RL="NO_RECAPTCHA",ny=class{constructor(e){this.type=AL,this.auth=Mi(e)}verify(e="verify",n=!1){return y(this,null,function*(){function r(s){return y(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>y(this,null,function*(){pL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ym(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;wT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(RL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&wT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=TL();u.length!==0&&(u+=a),XT(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function bT(t,e,n,r=!1){return y(this,null,function*(){let i=new ny(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function ry(t,e,n,r){return y(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield bT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>y(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield bT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function _y(t,e){let n=qa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ei(s,e??{}))return i;Sn(i,"already-initialized")}return n.initialize({options:e})}function ML(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Iy(t,e,n){let r=Mi(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=t0(e),{host:o,port:a}=NL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||xL()}function t0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NL(t){let e=t0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:TT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:TT(o)}}}function TT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function xL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ya=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}};function PL(t,e){return y(this,null,function*(){return Gr(t,"POST","/v1/accounts:signUp",e)})}function OL(t,e){return y(this,null,function*(){return Xa(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))})}function kL(t,e){return y(this,null,function*(){return Xa(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))})}function FL(t,e){return y(this,null,function*(){return Xa(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))})}var Za=class t extends Ya{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return y(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,n,"signInWithPassword",OL);case"emailLink":return kL(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}})}_linkToIdToken(e,n){return y(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,r,"signUpPassword",PL);case"emailLink":return FL(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Gm(t,e){return y(this,null,function*(){return Xa(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))})}function VL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LL(t){let e=zs(Gs(t)).link,n=e?zs(Gs(e)).deep_link_id:null,r=zs(Gs(t)).deep_link_id;return(r?zs(Gs(r)).link:null)||r||n||e||t}var Ed=class t{constructor(e){var n,r,i,s,o,a;let u=zs(Gs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=VL((i=u.mode)!==null&&i!==void 0?i:null);W(l&&f&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=LL(e);try{return new t(n)}catch{return null}}};var n0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Za._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Ed.parseLink(r);return W(i,"argument-error"),Za._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Dd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var iy=class extends Dd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function jL(t,e){return y(this,null,function*(){return Xa(t,"POST","/v1/accounts:signUp",zr(t,e))})}var Js=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(this,null,function*(){let s=yield Zs._fromIdTokenResponse(e,r,i),o=ST(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return y(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ST(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function ST(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var sy=class t extends Ft{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function r0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sy._fromErrorAndOperation(t,s,e,r):s})}function UL(t,e,n=!1){return y(this,null,function*(){let r=yield Ka(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Js._forOperation(t,"link",r)})}function BL(t,e,n=!1){return y(this,null,function*(){let{auth:r}=t;if(on(r.app))return Promise.reject(ir(r));let i="reauthenticate";try{let s=yield Ka(t,r0(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=my(s.idToken);W(o,r,"internal-error");let{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Js._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Sn(r,"user-mismatch"),s}})}function i0(t,e,n=!1){return y(this,null,function*(){if(on(t.app))return Promise.reject(ir(t));let r="signIn",i=yield r0(t,r,e),s=yield Js._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function wy(t,e){return y(this,null,function*(){return i0(Mi(t),e)})}function s0(t){return y(this,null,function*(){let e=Mi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ey(t,e,n){return y(this,null,function*(){if(on(t.app))return Promise.reject(ir(t));let r=Mi(t),o=yield ry(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&s0(t),u}),a=yield Js._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Dy(t,e,n){return on(t.app)?Promise.reject(ir(t)):wy(Dt(t),n0.credential(e,n)).catch(r=>y(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&s0(t),r}))}function Cy(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function by(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function Rd(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function Md(t){return Dt(t).signOut()}var Cd="__sak";var bd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var $L=1e3,HL=10,qL=(()=>{class t extends bd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);EL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,HL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},$L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return y(this,null,function*(){yield pr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return y(this,null,function*(){let r=yield pr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return y(this,null,function*(){yield pr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),o0=qL;var zL=(()=>{class t extends bd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ty=zL;function GL(t){return Promise.all(t.map(e=>y(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var WL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return y(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(f=>y(this,null,function*(){return f(r.origin,o)})),l=yield GL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function a0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var oy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return y(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=a0("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let v=p;if(v.data.eventId===l)switch(v.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Tn(){return window}function KL(t){Tn().location.href=t}function c0(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}function QL(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function YL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZL(){return c0()?self:null}var u0="firebaseLocalStorageDb",JL=1,Td="firebaseLocalStorage",l0="fbase_key",Ri=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Nd(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function XL(){let t=indexedDB.deleteDatabase(u0);return new Ri(t).toPromise()}function ay(){let t=indexedDB.open(u0,JL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Td,{keyPath:l0})}catch(i){n(i)}}),t.addEventListener("success",()=>y(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Td)?e(r):(r.close(),yield XL(),e(yield ay()))}))})}function AT(t,e,n){return y(this,null,function*(){let r=Nd(t,!0).put({[l0]:e,value:n});return new Ri(r).toPromise()})}function ej(t,e){return y(this,null,function*(){let n=Nd(t,!1).get(e),r=yield new Ri(n).toPromise();return r===void 0?null:r.value})}function RT(t,e){let n=Nd(t,!0).delete(e);return new Ri(n).toPromise()}var tj=800,nj=3,rj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield ay(),this.db)})}_withRetries(n){return y(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>nj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return c0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=WL._getInstance(ZL()),this.receiver._subscribe("keyChanged",(n,r)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var n,r;if(this.activeServiceWorker=yield QL(),!this.activeServiceWorker)return;this.sender=new oy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||YL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ay();return yield AT(n,Cd,"1"),yield RT(n,Cd),!0}catch{}return!1})}_withPendingWrite(n){return y(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>AT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return y(this,null,function*(){let r=yield this._withRetries(i=>ej(i,n));return this.localCache[n]=r,r})}_remove(n){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>RT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return y(this,null,function*(){let n=yield this._withRetries(s=>{let o=Nd(s,!1).getAll();return new Ri(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),d0=rj;var h6=e0("rcb"),f6=new Ai(3e4,6e4);function ij(t,e){return e?rr(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ja=class extends Ya{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function sj(t){return i0(t.auth,new Ja(t),t.bypassAuthState)}function oj(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),BL(n,new Ja(t),t.bypassAuthState)}function aj(t){return y(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),UL(n,new Ja(t),t.bypassAuthState)})}var cy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sj;case"linkViaPopup":case"linkViaRedirect":return aj;case"reauthViaPopup":case"reauthViaRedirect":return oj;default:Sn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var p6=new Ai(2e3,1e4);var cj="pendingRedirect",gd=new Map,uy=class t extends cy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return y(this,null,function*(){let e=gd.get(this.auth._key());if(!e){try{let r=(yield uj(this.resolver,this.auth))?yield pr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return pr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,pr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function uj(t,e){return y(this,null,function*(){let n=hj(e),r=dj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function lj(t,e){gd.set(t._key(),e)}function dj(t){return rr(t._redirectPersistence)}function hj(t){return pd(cj,t.config.apiKey,t.name)}function fj(t,e,n=!1){return y(this,null,function*(){if(on(t.app))return Promise.reject(ir(t));let r=Mi(t),i=ij(r,e),o=yield new uy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var pj=10*60*1e3,ly=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!h0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pj&&this.cachedEventUids.clear(),this.cachedEventUids.has(MT(e))}saveEventToCache(e){this.cachedEventUids.add(MT(e)),this.lastProcessedEventTime=Date.now()}};function MT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h0(t);default:return!1}}function mj(n){return y(this,arguments,function*(t,e={}){return Gr(t,"GET","/v1/projects",e)})}var yj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vj=/^https?/;function _j(t){return y(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield mj(t);for(let n of e)try{if(Ij(n))return}catch{}Sn(t,"unauthorized-domain")})}function Ij(t){let e=Km(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vj.test(n))return!1;if(yj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var wj=new Ai(3e4,6e4);function NT(){let t=Tn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ej(t){return new Promise((e,n)=>{var r,i,s;function o(){NT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NT(),n(Si(t,"network-request-failed"))},timeout:wj.get()})}if(!((i=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Tn().gapi)===null||s===void 0)&&s.load)o();else{let a=e0("iframefcb");return Tn()[a]=()=>{gapi.load?o():n(Si(t,"network-request-failed"))},XT(`${SL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw md=null,e})}var md=null;function Dj(t){return md=md||Ej(t),md}var Cj=new Ai(5e3,15e3),bj="__/auth/iframe",Tj="emulator/auth/iframe",Sj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rj(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?py(e,Tj):`https://${t.config.authDomain}/${bj}`,r={apiKey:e.apiKey,appName:t.name,v:$r},i=Aj.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ba(r).slice(1)}`}function Mj(t){return y(this,null,function*(){let e=yield Dj(t),n=Tn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:Rj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sj,dontclear:!0},r=>new Promise((i,s)=>y(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Si(t,"network-request-failed"),a=Tn().setTimeout(()=>{s(o)},Cj.get());function u(){Tn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Nj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xj=500,Pj=600,Oj="_blank",kj="http://localhost",Sd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Fj(t,e,n,r=xj,i=Pj){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Nj),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Qe().toLowerCase();n&&(a=GT(l)?Oj:n),qT(l)&&(e=e||kj,u.scrollbars="yes");let f=Object.entries(u).reduce((v,[w,A])=>`${v}${w}=${A},`,"");if(wL(l)&&a!=="_self")return Vj(e||"",a),new Sd(null);let p=window.open(e||"",a,f);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Sd(p)}function Vj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Lj="__/auth/handler",jj="emulator/auth/handler",Uj=encodeURIComponent("fac");function xT(t,e,n,r,i,s){return y(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$r,eventId:i};if(e instanceof Dd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof iy){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield t._getAppCheckToken(),l=u?`#${Uj}=${encodeURIComponent(u)}`:"";return`${Bj(t)}?${Ba(a).slice(1)}${l}`})}function Bj({config:t}){return t.emulator?py(t,jj):`https://${t.authDomain}/${Lj}`}var Wm="webStorageSupport",dy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ty,this._completeRedirectFn=fj,this._overrideRedirectResult=lj}_openPopup(e,n,r,i){return y(this,null,function*(){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield xT(e,n,r,Km(),i);return Fj(e,o,a0())})}_openRedirect(e,n,r,i){return y(this,null,function*(){yield this._originValidation(e);let s=yield xT(e,n,r,Km(),i);return KL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return y(this,null,function*(){let n=yield Mj(e),r=new ly(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wm,{type:Wm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Wm];o!==void 0&&n(!!o),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_j(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZT()||zT()||vy()}},f0=dy;var PT="@firebase/auth",OT="1.7.9";var hy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $j(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hj(t){Br(new Gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JT(t)},l=new ty(r,i,s,u);return ML(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Br(new Gt("auth-internal",e=>{let n=Mi(e.getProvider("auth").getImmediate());return(r=>new hy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(PT,OT,$j(t)),ze(PT,OT,"esm2017")}var qj=5*60,zj=Sm("authIdTokenMaxAge")||qj,kT=null,Gj=t=>e=>y(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zj)return;let i=n?.token;kT!==i&&(kT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Sy(t=Ws()){let e=qa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=_y(t,{popupRedirectResolver:f0,persistence:[d0,o0,Ty]}),r=Sm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Gj(s.toString());by(n,o,()=>o(n.currentUser)),Cy(n,a=>o(a))}}let i=bm("auth");return i&&Iy(n,`http://${i}`),n}function Wj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Si("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Wj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hj("Browser");var p0="auth",Ni=class{constructor(e){return e}},ec=class{constructor(){return za(p0)}};var Ay=new j("angularfire2.auth-instances");function FU(t,e){let n=ld(p0,t,e);return n&&new Ni(n)}function VU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ni(r)}}var LU={provide:ec,deps:[[new yt,Ay]]},jU={provide:Ni,useFactory:FU,deps:[[new yt,Ay],tr]};function g0(t,...e){return ze("angularfire",bi.full,"auth"),mn([jU,LU,{provide:Ay,useFactory:VU(t),multi:!0,deps:[Ie,Je,Ys,Ti,[new yt,Qs],...e]}])}var m0=bn(Ey,!0);var y0=bn(Sy,!0);var v0=bn(Dy,!0);var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I0={};var Wr,Ry;(function(){var t;function e(D,m){function _(){}_.prototype=m.prototype,D.D=m.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,C,T){for(var I=Array(arguments.length-2),Fn=2;Fn<arguments.length;Fn++)I[Fn-2]=arguments[Fn];return m.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,_){_||(_=0);var E=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)E[C]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=D.g[0],_=D.g[1],C=D.g[2];var T=D.g[3],I=m+(T^_&(C^T))+E[0]+3614090360&4294967295;m=_+(I<<7&4294967295|I>>>25),I=T+(C^m&(_^C))+E[1]+3905402710&4294967295,T=m+(I<<12&4294967295|I>>>20),I=C+(_^T&(m^_))+E[2]+606105819&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(m^C&(T^m))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=m+(T^_&(C^T))+E[4]+4118548399&4294967295,m=_+(I<<7&4294967295|I>>>25),I=T+(C^m&(_^C))+E[5]+1200080426&4294967295,T=m+(I<<12&4294967295|I>>>20),I=C+(_^T&(m^_))+E[6]+2821735955&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(m^C&(T^m))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=m+(T^_&(C^T))+E[8]+1770035416&4294967295,m=_+(I<<7&4294967295|I>>>25),I=T+(C^m&(_^C))+E[9]+2336552879&4294967295,T=m+(I<<12&4294967295|I>>>20),I=C+(_^T&(m^_))+E[10]+4294925233&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(m^C&(T^m))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=m+(T^_&(C^T))+E[12]+1804603682&4294967295,m=_+(I<<7&4294967295|I>>>25),I=T+(C^m&(_^C))+E[13]+4254626195&4294967295,T=m+(I<<12&4294967295|I>>>20),I=C+(_^T&(m^_))+E[14]+2792965006&4294967295,C=T+(I<<17&4294967295|I>>>15),I=_+(m^C&(T^m))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=m+(C^T&(_^C))+E[1]+4129170786&4294967295,m=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(m^_))+E[6]+3225465664&4294967295,T=m+(I<<9&4294967295|I>>>23),I=C+(m^_&(T^m))+E[11]+643717713&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^m&(C^T))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=m+(C^T&(_^C))+E[5]+3593408605&4294967295,m=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(m^_))+E[10]+38016083&4294967295,T=m+(I<<9&4294967295|I>>>23),I=C+(m^_&(T^m))+E[15]+3634488961&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^m&(C^T))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=m+(C^T&(_^C))+E[9]+568446438&4294967295,m=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(m^_))+E[14]+3275163606&4294967295,T=m+(I<<9&4294967295|I>>>23),I=C+(m^_&(T^m))+E[3]+4107603335&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^m&(C^T))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=m+(C^T&(_^C))+E[13]+2850285829&4294967295,m=_+(I<<5&4294967295|I>>>27),I=T+(_^C&(m^_))+E[2]+4243563512&4294967295,T=m+(I<<9&4294967295|I>>>23),I=C+(m^_&(T^m))+E[7]+1735328473&4294967295,C=T+(I<<14&4294967295|I>>>18),I=_+(T^m&(C^T))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=m+(_^C^T)+E[5]+4294588738&4294967295,m=_+(I<<4&4294967295|I>>>28),I=T+(m^_^C)+E[8]+2272392833&4294967295,T=m+(I<<11&4294967295|I>>>21),I=C+(T^m^_)+E[11]+1839030562&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^m)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=m+(_^C^T)+E[1]+2763975236&4294967295,m=_+(I<<4&4294967295|I>>>28),I=T+(m^_^C)+E[4]+1272893353&4294967295,T=m+(I<<11&4294967295|I>>>21),I=C+(T^m^_)+E[7]+4139469664&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^m)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=m+(_^C^T)+E[13]+681279174&4294967295,m=_+(I<<4&4294967295|I>>>28),I=T+(m^_^C)+E[0]+3936430074&4294967295,T=m+(I<<11&4294967295|I>>>21),I=C+(T^m^_)+E[3]+3572445317&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^m)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=m+(_^C^T)+E[9]+3654602809&4294967295,m=_+(I<<4&4294967295|I>>>28),I=T+(m^_^C)+E[12]+3873151461&4294967295,T=m+(I<<11&4294967295|I>>>21),I=C+(T^m^_)+E[15]+530742520&4294967295,C=T+(I<<16&4294967295|I>>>16),I=_+(C^T^m)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=m+(C^(_|~T))+E[0]+4096336452&4294967295,m=_+(I<<6&4294967295|I>>>26),I=T+(_^(m|~C))+E[7]+1126891415&4294967295,T=m+(I<<10&4294967295|I>>>22),I=C+(m^(T|~_))+E[14]+2878612391&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~m))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=m+(C^(_|~T))+E[12]+1700485571&4294967295,m=_+(I<<6&4294967295|I>>>26),I=T+(_^(m|~C))+E[3]+2399980690&4294967295,T=m+(I<<10&4294967295|I>>>22),I=C+(m^(T|~_))+E[10]+4293915773&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~m))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=m+(C^(_|~T))+E[8]+1873313359&4294967295,m=_+(I<<6&4294967295|I>>>26),I=T+(_^(m|~C))+E[15]+4264355552&4294967295,T=m+(I<<10&4294967295|I>>>22),I=C+(m^(T|~_))+E[6]+2734768916&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~m))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=m+(C^(_|~T))+E[4]+4149444226&4294967295,m=_+(I<<6&4294967295|I>>>26),I=T+(_^(m|~C))+E[11]+3174756917&4294967295,T=m+(I<<10&4294967295|I>>>22),I=C+(m^(T|~_))+E[2]+718787259&4294967295,C=T+(I<<15&4294967295|I>>>17),I=_+(T^(C|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var _=m-this.blockSize,E=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<m;)if(E[C++]=D[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var _=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=_&255,_/=256;for(this.u(D),D=Array(16),m=_=0;4>m;++m)for(var E=0;32>E;E+=8)D[_++]=this.g[m]>>>E&255;return D};function s(D,m){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=m(D)}function o(D,m){this.h=m;for(var _=[],E=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;E&&T==m||(_[C]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var m=[],_=1,E=0;D>=_;E++)m[E]=D/_|0,_*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(m,8)),E=p,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),I=parseInt(D.substring(C,C+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),v=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var D=0,m=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var m=l(Math.pow(D,6)),_=this,E="";;){var C=ce(_,m).g;_=F(_,C.j(m));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=C,A(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=F(this,D),M(D)?-1:A(D)?0:1};function R(D){for(var m=D.g.length,_=[],E=0;E<m;E++)_[E]=~D.g[E];return new o(_,~D.h).add(v)}t.abs=function(){return M(this)?R(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),_=[],E=0,C=0;C<=m;C++){var T=E+(this.i(C)&65535)+(D.i(C)&65535),I=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=I>>>16,T&=65535,I&=65535,_[C]=I<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(R(m))}t.j=function(D){if(A(this)||A(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(w)&&0>D.l(w))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,_=[],E=0;E<2*m;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var T=this.i(E)>>>16,I=this.i(E)&65535,Fn=D.i(C)>>>16,To=D.i(C)&65535;_[2*E+2*C]+=I*To,q(_,2*E+2*C),_[2*E+2*C+1]+=T*To,q(_,2*E+2*C+1),_[2*E+2*C+1]+=I*Fn,q(_,2*E+2*C+1),_[2*E+2*C+2]+=T*Fn,q(_,2*E+2*C+2)}for(E=0;E<m;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=m;E<2*m;E++)_[E]=0;return new o(_,0)};function q(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function z(D,m){this.g=D,this.h=m}function ce(D,m){if(A(m))throw Error("division by zero");if(A(D))return new z(p,p);if(M(D))return m=ce(R(D),m),new z(R(m.g),R(m.h));if(M(m))return m=ce(D,R(m)),new z(R(m.g),m.h);if(30<D.g.length){if(M(D)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var _=v,E=m;0>=E.l(D);)_=Re(_),E=Re(E);var C=ee(_,1),T=ee(E,1);for(E=ee(E,2),_=ee(_,2);!A(E);){var I=T.add(E);0>=I.l(D)&&(C=C.add(_),T=I),E=ee(E,1),_=ee(_,1)}return m=F(D,C.j(m)),new z(C,m)}for(C=p;0<=D.l(m);){for(_=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(m);M(I)||0<I.l(D);)_-=E,T=l(_),I=T.j(m);A(T)&&(T=v),C=C.add(T),D=F(D,I)}return new z(C,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),_=[],E=0;E<m;E++)_[E]=this.i(E)&D.i(E);return new o(_,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),_=[],E=0;E<m;E++)_[E]=this.i(E)|D.i(E);return new o(_,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),_=[],E=0;E<m;E++)_[E]=this.i(E)^D.i(E);return new o(_,this.h^D.h)};function Re(D){for(var m=D.g.length+1,_=[],E=0;E<m;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(_,D.h)}function ee(D,m){var _=m>>5;m%=32;for(var E=D.g.length-_,C=[],T=0;T<E;T++)C[T]=0<m?D.i(T+_)>>>m|D.i(T+_+1)<<32-m:D.i(T+_);return new o(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ry=I0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,Wr=I0.Integer=o}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sr={};var My,UU,Xs,Ny,tc,Pd,xy,Py,Oy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in h))break e;h=h[b]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var h=0,g=!1,b={next:function(){if(!g&&h<c.length){var S=h++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,h){return h})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function v(c,d,h){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,v.apply(null,arguments)}function w(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function A(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return d.prototype[b].apply(g,O)}}function M(c){let d=c.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function R(c,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let O=0;O<S;O++)c[b+O]=g[O]}else c.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Re=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ee(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function D(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function m(c){let d={};for(let h in c)d[h]=c[h];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)c[h]=g[h];for(let S=0;S<_.length;S++)h=_[S],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function C(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Ph;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Fn{constructor(){this.h=this.g=null}add(d,h){let g=To.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var To=new F(()=>new HA,c=>c.reset());class HA{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let So,Ao=!1,Ph=new Fn,W_=()=>{let c=a.Promise.resolve(void 0);So=()=>{c.then(qA)}};var qA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(h){T(h)}var d=To;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ao=!1};function lr(){this.s=this.s,this.C=this.C}lr.prototype.s=!1,lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var zA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function Ro(c,d){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{ce(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:GA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ro.aa.h.call(this)}}A(Ro,tt);var GA={2:"touch",3:"pen",4:"mouse"};Ro.prototype.h=function(){Ro.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mo="closure_listenable_"+(1e6*Math.random()|0),WA=0;function KA(c,d,h,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++WA,this.da=this.fa=!1}function Fc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vc(c){this.src=c,this.g={},this.h=0}Vc.prototype.add=function(c,d,h,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var O=kh(c,d,g,b);return-1<O?(d=c[O],h||(d.fa=!1)):(d=new KA(d,this.src,S,!!g,b),d.fa=h,c.push(d)),d};function Oh(c,d){var h=d.type;if(h in c.g){var g=c.g[h],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Fc(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function kh(c,d,h,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return b}return-1}var Fh="closure_lm_"+(1e6*Math.random()|0),Vh={};function K_(c,d,h,g,b){if(g&&g.once)return Y_(c,d,h,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)K_(c,d[S],h,g,b);return null}return h=Bh(h),c&&c[Mo]?c.K(d,h,l(g)?!!g.capture:!!g,b):Q_(c,d,h,!1,g,b)}function Q_(c,d,h,g,b,S){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,De=jh(c);if(De||(c[Fh]=De=new Vc(c)),h=De.add(d,h,g,O,S),h.proxy)return h;if(g=QA(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)zA||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(J_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function QA(){function c(h){return d.call(c.src,c.listener,h)}let d=YA;return c}function Y_(c,d,h,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Y_(c,d[S],h,g,b);return null}return h=Bh(h),c&&c[Mo]?c.L(d,h,l(g)?!!g.capture:!!g,b):Q_(c,d,h,!0,g,b)}function Z_(c,d,h,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)Z_(c,d[S],h,g,b);else g=l(g)?!!g.capture:!!g,h=Bh(h),c&&c[Mo]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],h=kh(S,h,g,b),-1<h&&(Fc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=jh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=kh(d,h,g,b)),(h=-1<c?d[c]:null)&&Lh(h))}function Lh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Mo])Oh(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(J_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=jh(d))?(Oh(h,c),h.h==0&&(h.src=null,d[Fh]=null)):Fc(c)}}}function J_(c){return c in Vh?Vh[c]:Vh[c]="on"+c}function YA(c,d){if(c.da)c=!0;else{d=new Ro(d,this);var h=c.listener,g=c.ha||c.src;c.fa&&Lh(c),c=h.call(g,d)}return c}function jh(c){return c=c[Fh],c instanceof Vc?c:null}var Uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bh(c){return typeof c=="function"?c:(c[Uh]||(c[Uh]=function(d){return c.handleEvent(d)}),c[Uh])}function nt(){lr.call(this),this.i=new Vc(this),this.M=this,this.F=null}A(nt,lr),nt.prototype[Mo]=!0,nt.prototype.removeEventListener=function(c,d,h,g){Z_(this,c,d,h,g)};function ht(c,d){var h,g=c.F;if(g)for(h=[];g;g=g.F)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new tt(d,c);else if(d instanceof tt)d.target=d.target||c;else{var b=d;d=new tt(g,c),E(d,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var O=d.g=h[S];b=Lc(O,g,!0,d)&&b}if(O=d.g=c,b=Lc(O,g,!0,d)&&b,b=Lc(O,g,!1,d)&&b,h)for(S=0;S<h.length;S++)O=d.g=h[S],b=Lc(O,g,!1,d)&&b}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],g=0;g<h.length;g++)Fc(h[g]);delete c.g[d],c.h--}}this.F=null},nt.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},nt.prototype.L=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function Lc(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==h){var De=O.listener,Ze=O.ha||O.src;O.fa&&Oh(c.i,O),b=De.call(Ze,g)!==!1&&b}}return b&&!g.defaultPrevented}function X_(c,d,h){if(typeof c=="function")h&&(c=v(c,h));else if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function eI(c){c.g=X_(()=>{c.g=null,c.i&&(c.i=!1,eI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class ZA extends lr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:eI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function No(c){lr.call(this),this.h=c,this.g={}}A(No,lr);var tI=[];function nI(c){ee(c.g,function(d,h){this.g.hasOwnProperty(h)&&Lh(d)},c),c.g={}}No.prototype.N=function(){No.aa.N.call(this),nI(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $h=a.JSON.stringify,JA=a.JSON.parse,XA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Hh(){}Hh.prototype.h=null;function rI(c){return c.h||(c.h=c.i())}function iI(){}var xo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qh(){tt.call(this,"d")}A(qh,tt);function zh(){tt.call(this,"c")}A(zh,tt);var Jr={},sI=null;function jc(){return sI=sI||new nt}Jr.La="serverreachability";function oI(c){tt.call(this,Jr.La,c)}A(oI,tt);function Po(c){let d=jc();ht(d,new oI(d))}Jr.STAT_EVENT="statevent";function aI(c,d){tt.call(this,Jr.STAT_EVENT,c),this.stat=d}A(aI,tt);function ft(c){let d=jc();ht(d,new aI(d,c))}Jr.Ma="timingevent";function cI(c,d){tt.call(this,Jr.Ma,c),this.size=d}A(cI,tt);function Oo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function eR(c,d,h,g,b,S){c.info(function(){if(c.g)if(S)for(var O="",De=S.split("&"),Ze=0;Ze<De.length;Ze++){var ve=De[Ze].split("=");if(1<ve.length){var rt=ve[0];ve=ve[1];var it=rt.split("_");O=2<=it.length&&it[1]=="type"?O+(rt+"="+ve+"&"):O+(rt+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+O})}function tR(c,d,h,g,b,S,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+S+" "+O})}function Hi(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+rR(c,h)+(g?" "+g:"")})}function nR(c,d){c.info(function(){return"TIMEOUT: "+d})}ko.prototype.info=function(){};function rR(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var g=h[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return $h(h)}catch{return d}}var Uc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gh;function Bc(){}A(Bc,Hh),Bc.prototype.g=function(){return new XMLHttpRequest},Bc.prototype.i=function(){return{}},Gh=new Bc;function dr(c,d,h,g){this.j=c,this.i=d,this.l=h,this.R=g||1,this.U=new No(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lI}function lI(){this.i=null,this.g="",this.h=!1}var dI={},Wh={};function Kh(c,d,h){c.L=1,c.v=zc(Vn(d)),c.m=h,c.P=!0,hI(c,null)}function hI(c,d){c.F=Date.now(),$c(c),c.A=Vn(c.v);var h=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),TI(h.i,"t",g),c.C=0,h=c.j.J,c.h=new lI,c.g=qI(c.j,h?d:null,!c.m),0<c.O&&(c.M=new ZA(v(c.Y,c,c.g),c.O)),d=c.U,h=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(tI[0]=b.toString()),b=tI);for(var S=0;S<b.length;S++){var O=K_(h,b[S],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?m(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Po(),eR(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Ln(c)==3?d.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{let it=Ln(this.g);var d=this.g.Ba();let Gi=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||PI(this.g)))){this.J||it!=4||d==7||(d==8||0>=Gi?Po(3):Po(2)),Qh(this);var h=this.g.Z();this.X=h;t:if(fI(this)){var g=PI(this.g);c="";var b=g.length,S=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),Fo(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,tR(this.i,this.u,this.A,this.l,this.R,it,h),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Ze=this.g;if((De=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(De)){var ve=De;break t}}ve=null}if(h=ve)Hi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yh(this,h);else{this.o=!1,this.s=3,ft(12),Xr(this),Fo(this);break e}}if(this.P){h=!0;let Kt;for(;!this.J&&this.C<O.length;)if(Kt=iR(this,O),Kt==Wh){it==4&&(this.s=4,ft(14),h=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==dI){this.s=4,ft(15),Hi(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else Hi(this.i,this.l,Kt,null),Yh(this,Kt);if(fI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||O.length!=0||this.h.h||(this.s=1,ft(16),h=!1),this.o=this.o&&h,!h)Hi(this.i,this.l,O,"[Invalid Chunked Response]"),Xr(this),Fo(this);else if(0<O.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),nf(rt),rt.M=!0,ft(11))}}else Hi(this.i,this.l,O,null),Yh(this,O);it==4&&Xr(this),this.o&&!this.J&&(it==4?UI(this.j,this):(this.o=!1,$c(this)))}else wR(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Xr(this),Fo(this)}}}catch{}finally{}};function fI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function iR(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?Wh:(h=Number(d.substring(h,g)),isNaN(h)?dI:(g+=1,g+h>d.length?Wh:(d=d.slice(g,g+h),c.C=g+h,d)))}dr.prototype.cancel=function(){this.J=!0,Xr(this)};function $c(c){c.S=Date.now()+c.I,pI(c,c.I)}function pI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oo(v(c.ba,c),d)}function Qh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(nR(this.i,this.A),this.L!=2&&(Po(),ft(17)),Xr(this),this.s=2,Fo(this)):pI(this,this.S-c)};function Fo(c){c.j.G==0||c.J||UI(c.j,c)}function Xr(c){Qh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,nI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Yh(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||Zh(h.h,c))){if(!c.K&&Zh(h.h,c)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)Yc(h),Kc(h);else break e;tf(h),ft(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=Oo(v(h.Za,h),6e3));if(1>=yI(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else ti(h,11)}else if((c.K||h.g==c)&&Yc(h),!q(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];let rt=ve[3];rt!=null&&(h.la=rt,h.j.info("VER="+h.la));let it=ve[4];it!=null&&(h.Aa=it,h.j.info("SVER="+h.Aa));let Gi=ve[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(g=1.5*Gi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Kt=c.g;if(Kt){let Jc=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jc){var S=g.h;S.g||Jc.indexOf("spdy")==-1&&Jc.indexOf("quic")==-1&&Jc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Jh(S,S.h),S.h=null))}if(g.D){let rf=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;rf&&(g.ya=rf,Te(g.I,g.D,rf))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var O=c;if(g.qa=HI(g,g.J?g.ia:null,g.W),O.K){vI(g.h,O);var De=O,Ze=g.L;Ze&&(De.I=Ze),De.B&&(Qh(De),$c(De)),g.g=O}else LI(g);0<h.i.length&&Qc(h)}else ve[0]!="stop"&&ve[0]!="close"||ti(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ti(h,7):ef(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}Po(4)}catch{}}var sR=class{constructor(c,d){this.g=c,this.map=d}};function gI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yI(c){return c.h?1:c.g?c.g.size:0}function Zh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Jh(c,d){c.g?c.g.add(d):c.h=d}function vI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}gI.prototype.cancel=function(){if(this.i=_I(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function _I(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return M(c.i)}function oR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,g=0;g<h;g++)d.push(c[g]);return d}d=[],h=0;for(g in c)d[h++]=c[g];return d}function aR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let g in c)d[h++]=g;return d}}}function II(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=aR(c),g=oR(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],h&&h[S],c)}var wI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cR(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var g=c[h].indexOf("="),b=null;if(0<=g){var S=c[h].substring(0,g);b=c[h].substring(g+1)}else S=c[h];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ei){this.h=c.h,Hc(this,c.j),this.o=c.o,this.g=c.g,qc(this,c.s),this.l=c.l;var d=c.i,h=new jo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),EI(this,h),this.m=c.m}else c&&(d=String(c).match(wI))?(this.h=!1,Hc(this,d[1]||"",!0),this.o=Vo(d[2]||""),this.g=Vo(d[3]||"",!0),qc(this,d[4]),this.l=Vo(d[5]||"",!0),EI(this,d[6]||"",!0),this.m=Vo(d[7]||"")):(this.h=!1,this.i=new jo(null,this.h))}ei.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Lo(d,DI,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Lo(d,DI,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Lo(h,h.charAt(0)=="/"?dR:lR,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Lo(h,fR)),c.join("")};function Vn(c){return new ei(c)}function Hc(c,d,h){c.j=h?Vo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function qc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function EI(c,d,h){d instanceof jo?(c.i=d,pR(c.i,c.h)):(h||(d=Lo(d,hR)),c.i=new jo(d,c.h))}function Te(c,d,h){c.i.set(d,h)}function zc(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Lo(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,uR),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var DI=/[#\/\?@]/g,lR=/[#\?:]/g,dR=/[#\?]/g,hR=/[#\?@]/g,fR=/#/g;function jo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function hr(c){c.g||(c.g=new Map,c.h=0,c.i&&cR(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=jo.prototype,t.add=function(c,d){hr(this),this.i=null,c=qi(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function CI(c,d){hr(c),d=qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function bI(c,d){return hr(c),d=qi(c,d),c.g.has(d)}t.forEach=function(c,d){hr(this),this.g.forEach(function(h,g){h.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){hr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)h.push(d[g])}return h},t.V=function(c){hr(this);let d=[];if(typeof c=="string")bI(this,c)&&(d=d.concat(this.g.get(qi(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return hr(this),this.i=null,c=qi(this,c),bI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function TI(c,d,h){CI(c,d),0<h.length&&(c.i=null,c.g.set(qi(c,d),M(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=S;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function pR(c,d){d&&!c.j&&(hr(c),c.i=null,c.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(CI(this,g),TI(this,b,h))},c)),c.j=d}function gR(c,d){let h=new ko;if(a.Image){let g=new Image;g.onload=w(fr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=w(fr,h,"TestLoadImage: error",!1,d,g),g.onabort=w(fr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=w(fr,h,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function mR(c,d){let h=new ko,g=new AbortController,b=setTimeout(()=>{g.abort(),fr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?fr(h,"TestPingServer: ok",!0,d):fr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),fr(h,"TestPingServer: error",!1,d)})}function fr(c,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function yR(){this.g=new XA}function vR(c,d,h){let g=h||"";try{II(c,function(b,S){let O=b;l(b)&&(O=$h(b)),d.push(g+S+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Uo(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Uo,Hh),Uo.prototype.g=function(){return new Gc(this.l,this.j)},Uo.prototype.i=function(c){return function(){return c}}({});function Gc(c,d){nt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Gc,nt),t=Gc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,$o(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;SI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function SI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Bo(this):$o(this),this.readyState==3&&SI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Bo(this))},t.Qa=function(c){this.g&&(this.response=c,Bo(this))},t.ga=function(){this.g&&Bo(this)};function Bo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$o(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function $o(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function AI(c){let d="";return ee(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Xh(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=AI(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):Te(c,d,h))}function Me(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Me,nt);var _R=/^https?$/i,IR=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gh.g(),this.v=this.o?rI(this.o):rI(Gh),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){RI(this,S);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(IR,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of h)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xI(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){RI(this,S)}};function RI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,MI(c),Wc(c)}function MI(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ht(this,"complete"),ht(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?NI(this):this.bb())},t.bb=function(){NI(this)};function NI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)X_(c.Ea,0,c);else if(ht(c,"readystatechange"),Ln(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=O===0){var b=String(c.D).match(wI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!_R.test(b?b.toLowerCase():"")}h=g}if(h)ht(c,"complete"),ht(c,"success");else{c.m=6;try{var S=2<Ln(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",MI(c)}}finally{Wc(c)}}}}function Wc(c,d){if(c.g){xI(c);let h=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ht(c,"ready");try{h.onreadystatechange=g}catch{}}}function xI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),JA(d)}};function PI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wR(c){let d={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(q(c[g]))continue;var h=C(c[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[b]||[];d[b]=S,S.push(h)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function OI(c){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,c),this.cb=Ho("retryDelaySeedMs",1e4,c),this.Wa=Ho("forwardChannelMaxRetries",2,c),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gI(c&&c.concurrentRequestLimit),this.Da=new yR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=OI.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,g){ft(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=HI(this,null,this.W),Qc(this)};function ef(c){if(kI(c),c.G==3){var d=c.U++,h=Vn(c.I);if(Te(h,"SID",c.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),qo(c,h),d=new dr(c,c.j,d),d.L=2,d.v=zc(Vn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=qI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$c(d)}$I(c)}function Kc(c){c.g&&(nf(c),c.g.cancel(),c.g=null)}function kI(c){Kc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Yc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Qc(c){if(!mI(c.h)&&!c.s){c.s=!0;var d=c.Ga;So||W_(),Ao||(So(),Ao=!0),Ph.add(d,c),c.B=0}}function ER(c,d){return yI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oo(v(c.Ga,c,d),BI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new dr(this,this.j,c),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=VI(this,b,d),h=Vn(this.I),Te(h,"RID",c),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),qo(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(AI(S)))+"&"+d:this.m&&Xh(h,this.m,S)),Jh(this.h,b),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),b.T=!0,Kh(b,h,null)):Kh(b,h,d),this.G=2}}else this.G==3&&(c?FI(this,c):this.i.length==0||mI(this.h)||FI(this))};function FI(c,d){var h;d?h=d.l:h=c.U++;let g=Vn(c.I);Te(g,"SID",c.K),Te(g,"RID",h),Te(g,"AID",c.T),qo(c,g),c.m&&c.o&&Xh(g,c.m,c.o),h=new dr(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=VI(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Jh(c.h,h),Kh(h,g,d)}function qo(c,d){c.H&&ee(c.H,function(h,g){Te(d,g,h)}),c.l&&II({},function(h,g){Te(d,g,h)})}function VI(c,d,h){h=Math.min(c.i.length,h);var g=c.l?v(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let O=["count="+h];S==-1?0<h?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let De=!0;for(let Ze=0;Ze<h;Ze++){let ve=b[Ze].g,rt=b[Ze].map;if(ve-=S,0>ve)S=Math.max(0,b[Ze].g-100),De=!1;else try{vR(rt,O,"req"+ve+"_")}catch{g&&g(rt)}}if(De){g=O.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,g}function LI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;So||W_(),Ao||(So(),Ao=!0),Ph.add(d,c),c.v=0}}function tf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oo(v(c.Fa,c),BI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,jI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oo(v(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Kc(this),jI(this))};function nf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function jI(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Vn(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),qo(c,d),c.m&&c.o&&Xh(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=zc(Vn(d)),h.m=null,h.P=!0,hI(h,c)}t.Za=function(){this.C!=null&&(this.C=null,Kc(this),tf(this),ft(19))};function Yc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function UI(c,d){var h=null;if(c.g==d){Yc(c),nf(c),c.g=null;var g=2}else if(Zh(c.h,d))h=d.D,vI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=jc(),ht(g,new cI(g,h)),Qc(c)}else LI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&ER(c,d)||g==2&&tf(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),b){case 1:ti(c,5);break;case 4:ti(c,10);break;case 3:ti(c,6);break;default:ti(c,2)}}}function BI(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function ti(c,d){if(c.j.info("Error code "+d),d==2){var h=v(c.fb,c),g=c.Xa;let b=!g;g=new ei(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hc(g,"https"),zc(g),b?gR(g.toString(),h):mR(g.toString(),h)}else ft(2);c.G=0,c.l&&c.l.sa(d),$I(c),kI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function $I(c){if(c.G=0,c.ka=[],c.l){let d=_I(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function HI(c,d,h){var g=h instanceof ei?Vn(h):new ei(h);if(g.g!="")d&&(g.g=d+"."+g.g),qc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new ei(null);g&&Hc(S,g),d&&(S.g=d),b&&qc(S,b),h&&(S.l=h),g=S}return h=c.D,d=c.ya,h&&d&&Te(g,h,d),Te(g,"VER",c.la),qo(c,g),g}function qI(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new Uo({eb:h})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zI(){}t=zI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zc(){}Zc.prototype.g=function(c,d){return new Rt(c,d)};function Rt(c,d){nt.call(this),this.g=new OI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new zi(this)}A(Rt,nt),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){ef(this.g)},Rt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=$h(c),c=h);d.i.push(new sR(d.Ya++,c)),d.G==3&&Qc(d)},Rt.prototype.N=function(){this.g.l=null,delete this.j,ef(this.g),delete this.g,Rt.aa.N.call(this)};function GI(c){qh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(GI,qh);function WI(){zh.call(this),this.status=1}A(WI,zh);function zi(c){this.g=c}A(zi,zI),zi.prototype.ua=function(){ht(this.g,"a")},zi.prototype.ta=function(c){ht(this.g,new GI(c))},zi.prototype.sa=function(c){ht(this.g,new WI)},zi.prototype.ra=function(){ht(this.g,"b")},Zc.prototype.createWebChannel=Zc.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,Oy=sr.createWebChannelTransport=function(){return new Zc},Py=sr.getStatEventTarget=function(){return jc()},xy=sr.Event=Jr,Pd=sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uc.NO_ERROR=0,Uc.TIMEOUT=8,Uc.HTTP_ERROR=6,tc=sr.ErrorCode=Uc,uI.COMPLETE="complete",Ny=sr.EventType=uI,iI.EventType=xo,xo.OPEN="a",xo.CLOSE="b",xo.ERROR="c",xo.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Xs=sr.WebChannel=iI,UU=sr.FetchXmlHttpFactory=Uo,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,My=sr.XhrIo=Me}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});var w0="@firebase/firestore";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var vo="10.14.0";var ki=new jr("@firebase/firestore");function nc(){return ki.logLevel}function V(t,...e){if(ki.logLevel<=he.DEBUG){let n=e.map(v_);ki.debug(`Firestore (${vo}): ${t}`,...n)}}function or(t,...e){if(ki.logLevel<=he.ERROR){let n=e.map(v_);ki.error(`Firestore (${vo}): ${t}`,...n)}}function so(t,...e){if(ki.logLevel<=he.WARN){let n=e.map(v_);ki.warn(`Firestore (${vo}): ${t}`,...n)}}function v_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function Ee(t,e){t||Y()}function X(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Ft{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ld=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}},Uy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},By=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>y(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new Ld(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new Ye(e)}},$y=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Hy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $y(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},qy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},zy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ee(this.o===void 0);let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new qy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function BU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=BU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function oo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var et=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ud=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends Ud{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},$U=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class t extends Ud{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return $U.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var Gy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Gy.UNKNOWN_ID=-1;function HU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Fi(i,G.empty(),e)}function qU(t){return new Fi(t.readTime,t.key,-1)}var Fi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),G.empty(),-1)}static max(){return new t(ne.max(),G.empty(),-1)}};function zU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var GU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Dc(t){return y(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==GU)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function WU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(t){return t.name==="IndexedDbTransactionError"}var Z0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function fh(t){return t==null}function cc(t){return t===0&&1/t==-1/0}function KU(t){return typeof t=="number"&&Number.isInteger(t)&&!cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var QU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],l5=[...QU,"documentOverlays"],YU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZU=YU,JU=[...ZU,"indexConfiguration","indexState","indexEntries"];var d5=[...JU,"globals"];function E0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function J0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ro(this.root,e,this.comparator,!0)}},ro=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lt=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bd(this.data.getIterator())}getIteratorFrom(e){return new Bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rn=class t{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new lt(Vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var $d=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $d("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var XU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(Ee(!!t),typeof t=="string"){let e=0,n=XU.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}function __(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function I_(t){let e=t.mapValue.fields.__previous_value__;return __(e)?I_(e):e}function uc(t){let e=ar(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}var Ky=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Hd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Od={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__(t)?4:eS(t)?9007199254740991:X0(t)?10:11:Y()}function On(t,e){if(t===e)return!0;let n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uc(t).isEqual(uc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ar(i.timestampValue),a=ar(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Kr(i.bytesValue).isEqual(Kr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Se(i.doubleValue),a=Se(s.doubleValue);return o===a?cc(o)===cc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oo(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(E0(o)!==E0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!On(o[u],a[u])))return!1;return!0}(t,e);default:return Y()}}function lc(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function ao(t,e){if(t===e)return 0;let n=Vi(t),r=Vi(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return D0(t.timestampValue,e.timestampValue);case 4:return D0(uc(t),uc(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Kr(s),u=Kr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=_e(a[l],u[l]);if(f!==0)return f}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=_e(Se(s.latitude),Se(o.latitude));return a!==0?a:_e(Se(s.longitude),Se(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,f;let p=s.fields||{},v=o.fields||{},w=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=v.value)===null||u===void 0?void 0:u.arrayValue,M=_e(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:C0(w,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Od.mapValue&&o===Od.mapValue)return 0;if(s===Od.mapValue)return 1;if(o===Od.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let v=_e(u[p],f[p]);if(v!==0)return v;let w=ao(a[u[p]],l[f[p]]);if(w!==0)return w}return _e(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Y()}}function D0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=ar(t),r=ar(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function C0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ao(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function co(t){return Qy(t)}function Qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Qy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Qy(n.fields[o])}`;return i+"}"}(t.mapValue):Y()}function Yy(t){return!!t&&"integerValue"in t}function w_(t){return!!t&&"arrayValue"in t}function b0(t){return!!t&&"nullValue"in t}function T0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function X0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ic(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var an=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ic(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ic(this.value))}};function tS(t){let e=[];return _o(t.fields,(n,r)=>{let i=new Vt([n]);if(Fd(r)){let s=tS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}var cn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),an.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var uo=class{constructor(e,n){this.position=e,this.inclusive=n}};function S0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function A0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}var lo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function e2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var qd=class{},Ge=class t extends qd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Jy(e,n,r):n==="array-contains"?new tv(e,r):n==="in"?new nv(e,r):n==="not-in"?new rv(e,r):n==="array-contains-any"?new iv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Xy(e,r):new ev(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kn=class t extends qd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return nS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function nS(t){return t.op==="and"}function rS(t){return t2(t)&&nS(t)}function t2(t){for(let e of t.filters)if(e instanceof kn)return!1;return!0}function Zy(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+co(t.value);if(rS(t))return t.filters.map(e=>Zy(e)).join(",");{let e=t.filters.map(n=>Zy(n)).join(",");return`${t.op}(${e})`}}function iS(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iS(o,i.filters[a]),!0):!1}(t,e):void Y()}function sS(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(sS).join(" ,")+"}"}(t):"Filter"}var Jy=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},Xy=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=oS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ev=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=oS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function oS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var tv=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return w_(n)&&lc(n.arrayValue,this.value)}},nv=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}},rv=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!lc(this.value.arrayValue,n)}},iv=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!w_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lc(this.value.arrayValue,r))}};var sv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function R0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sv(t,e,n,r,i,s,o)}function E_(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ue=n}return e.ue}function D_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!e2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A0(t.startAt,e.startAt)&&A0(t.endAt,e.endAt)}function ov(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ho=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function n2(t,e,n,r,i,s,o,a){return new ho(t,e,n,r,i,s,o,a)}function C_(t){return new ho(t)}function M0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r2(t){return t.collectionGroup!==null}function sc(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lt(Vt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new lo(s,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new lo(Vt.keyField(),r))}return e.ce}function xn(t){let e=X(t);return e.le||(e.le=i2(e,sc(t))),e.le}function i2(t,e){if(t.limitType==="F")return R0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new lo(i.field,s)});let n=t.endAt?new uo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uo(t.startAt.position,t.startAt.inclusive):null;return R0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function av(t,e,n){return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return D_(xn(t),xn(e))&&t.limitType===e.limitType}function aS(t){return`${E_(xn(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sS(i)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of sc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=S0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,sc(r),i)||r.endAt&&!function(o,a,u){let l=S0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,sc(r),i))}(t,e)}function s2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cS(t){return(e,n)=>{let r=!1;for(let i of sc(t)){let s=o2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o2(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ao(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var Qr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return J0(this.inner)}size(){return this.innerSize}};var a2=new Pe(G.comparator);function cr(){return a2}var uS=new Pe(G.comparator);function rc(...t){let e=uS;for(let n of t)e=e.insert(n.key,n);return e}function lS(t){let e=uS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return oc()}function dS(){return oc()}function oc(){return new Qr(t=>t.toString(),(t,e)=>t.isEqual(e))}var c2=new Pe(G.comparator),u2=new lt(G.comparator);function fe(...t){let e=u2;for(let n of t)e=e.add(n);return e}var l2=new lt(_e);function d2(){return l2}function b_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function hS(t){return{integerValue:""+t}}function h2(t,e){return KU(e)?hS(e):b_(t,e)}var fo=class{constructor(){this._=void 0}};function f2(t,e,n){return t instanceof po?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&__(s)&&(s=I_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Li?pS(t,e):t instanceof ji?gS(t,e):function(i,s){let o=fS(i,s),a=N0(o)+N0(i.Pe);return Yy(o)&&Yy(i.Pe)?hS(a):b_(i.serializer,a)}(t,e)}function p2(t,e,n){return t instanceof Li?pS(t,e):t instanceof ji?gS(t,e):n}function fS(t,e){return t instanceof go?function(r){return Yy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var po=class extends fo{},Li=class extends fo{constructor(e){super(),this.elements=e}};function pS(t,e){let n=mS(e);for(let r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}var ji=class extends fo{constructor(e){super(),this.elements=e}};function gS(t,e){let n=mS(e);for(let r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}var go=class extends fo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function N0(t){return Se(t.integerValue||t.doubleValue)}function mS(t){return w_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Li&&i instanceof Li||r instanceof ji&&i instanceof ji?oo(r.elements,i.elements,On):r instanceof go&&i instanceof go?On(r.Pe,i.Pe):r instanceof po&&i instanceof po}(t.transform,e.transform)}var cv=class{constructor(e,n){this.version=e,this.transformResults=n}},Oi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var mo=class{};function yS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zd(t.key,Oi.none()):new Ui(t.key,t.data,Oi.none());{let n=t.data,r=an.empty(),i=new lt(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ur(t.key,r,new Rn(i.toArray()),Oi.none())}}function m2(t,e,n){t instanceof Ui?function(i,s,o){let a=i.value.clone(),u=P0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ur?function(i,s,o){if(!Vd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=P0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(vS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof Ui?function(s,o,a,u){if(!Vd(s.precondition,o))return a;let l=s.value.clone(),f=O0(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ur?function(s,o,a,u){if(!Vd(s.precondition,o))return a;let l=O0(s.fieldTransforms,u,o),f=o.data;return f.setAll(vS(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Vd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function y2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=fS(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function x0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oo(r,i,(s,o)=>g2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ui=class extends mo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ur=class extends mo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function vS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function P0(t,e,n){let r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,p2(o,a,n[i]))}return r}function O0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,f2(s,o,e))}return r}var zd=class extends mo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},uv=class extends mo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var lv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&m2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=dS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=yS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,r)=>x0(n,r))&&oo(this.baseMutations,e.baseMutations,(n,r)=>x0(n,r))}},dv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return c2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var hv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var je,me;function v2(t){switch(t){default:return Y();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function _S(t){if(t===void 0)return or("GRPC error has no .code"),N.UNKNOWN;switch(t){case je.OK:return N.OK;case je.CANCELLED:return N.CANCELLED;case je.UNKNOWN:return N.UNKNOWN;case je.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case je.INTERNAL:return N.INTERNAL;case je.UNAVAILABLE:return N.UNAVAILABLE;case je.UNAUTHENTICATED:return N.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case je.NOT_FOUND:return N.NOT_FOUND;case je.ALREADY_EXISTS:return N.ALREADY_EXISTS;case je.PERMISSION_DENIED:return N.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case je.ABORTED:return N.ABORTED;case je.OUT_OF_RANGE:return N.OUT_OF_RANGE;case je.UNIMPLEMENTED:return N.UNIMPLEMENTED;case je.DATA_LOSS:return N.DATA_LOSS;default:return Y()}}(me=je||(je={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var k0=null;function _2(){return new TextEncoder}var I2=new Wr([4294967295,4294967295],0);function F0(t){let e=_2().encode(t),n=new Ry;return n.update(e),new Uint8Array(n.digest())}function V0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wr([n,r],0),new Wr([i,s],0)]}var pv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pi(`Invalid padding: ${n}`);if(r<0)throw new Pi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wr.fromNumber(r)));return i.compare(I2)===1&&(i=new Wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=F0(e),[r,i]=V0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=F0(e),[r,i]=V0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Pi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Pe(_e),cr(),fe())}},dc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var io=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Wd=class{constructor(e,n){this.targetId=e,this.me=n}},Kd=class{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Qd=class{constructor(){this.fe=0,this.ge=j0(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new dc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=j0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},gv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=L0(),this.Qe=new Pe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(ov(s))if(r===0){let o=new G(s.path);this.Ue(n,o,cn.newNoDocument(o,ne.min()))}else Ee(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}k0?.et(function(f,p,v,w,A){var M,R,F,q,z,ce;let Re={localCacheCount:f,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},ee=p.unchangedNames;return ee&&(Re.bloomFilter={applied:A===0,hashCount:(M=ee?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(q=(F=(R=ee?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&q!==void 0?q:0,padding:(ce=(z=ee?.bits)===null||z===void 0?void 0:z.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var m;return(m=w?.mightContain(D))!==null&&m!==void 0&&m}}),Re}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Kr(r).toUint8Array()}catch(u){if(u instanceof $d)return so("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pv(o,i,s)}catch(u){return so(u instanceof Pi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&ov(a.target)){let u=new G(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,cn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=fe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Gd(e,n,this.Qe,this.ke,r);return this.ke=cr(),this.qe=L0(),this.Qe=new Pe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Qd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new lt(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function L0(){return new Pe(G.comparator)}function j0(){return new Pe(G.comparator)}var w2={asc:"ASCENDING",desc:"DESCENDING"},E2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D2={and:"AND",or:"OR"},mv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function yv(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function C2(t,e){return Yd(t,e.toTimestamp())}function Pn(t){return Ee(!!t),ne.fromTimestamp(function(n){let r=ar(n);return new et(r.seconds,r.nanos)}(t))}function T_(t,e){return vv(t,e).canonicalString()}function vv(t,e){let n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wS(t){let e=Be.fromString(t);return Ee(TS(e)),e}function _v(t,e){return T_(t.databaseId,e.path)}function ky(t,e){let n=wS(e);if(n.get(1)!==t.databaseId.projectId)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(DS(n))}function ES(t,e){return T_(t.databaseId,e)}function b2(t){let e=wS(t);return e.length===4?Be.emptyPath():DS(e)}function Iv(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DS(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function U0(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function T2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(Ee(f===void 0||typeof f=="string"),dt.fromBase64String(f||"")):(Ee(f===void 0||f instanceof Buffer||f instanceof Uint8Array),dt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let f=l.code===void 0?N.UNKNOWN:_S(l.code);return new H(f,l.message||"")}(o);n=new Kd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ky(t,r.document.name),s=Pn(r.document.updateTime),o=r.document.createTime?Pn(r.document.createTime):ne.min(),a=new an({mapValue:{fields:r.document.fields}}),u=cn.newFoundDocument(i,s,o,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new io(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ky(t,r.document),s=r.readTime?Pn(r.readTime):ne.min(),o=cn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new io([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ky(t,r.document),s=r.removedTargetIds||[];n=new io([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new fv(i,s),a=r.targetId;n=new Wd(a,o)}}return n}function S2(t,e){let n;if(e instanceof Ui)n={update:U0(t,e.key,e.value)};else if(e instanceof zd)n={delete:_v(t,e.key)};else if(e instanceof ur)n={update:U0(t,e.key,e.data),updateMask:F2(e.fieldMask)};else{if(!(e instanceof uv))return Y();n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof po)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Li)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ji)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof go)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:C2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(t,e.precondition)),n}function A2(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pn(i.updateTime):Pn(s);return o.isEqual(ne.min())&&(o=Pn(s)),new cv(o,i.transformResults||[])}(n,e))):[]}function R2(t,e){return{documents:[ES(t,e.path)]}}function M2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ES(t,i);let s=function(l){if(l.length!==0)return bS(kn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(v){return{field:to(v.field),direction:P2(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=yv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function N2(t){let e=b2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){let v=CS(p);return v instanceof kn&&rS(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(v=>function(A){return new lo(no(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,fh(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(p){let v=!!p.before,w=p.values||[];return new uo(w,v)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let v=!p.before,w=p.values||[];return new uo(w,v)}(n.endAt)),n2(e,i,o,s,a,"F",u,l)}function x2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=no(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=no(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=no(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=no(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(no(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>CS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function P2(t){return w2[t]}function O2(t){return E2[t]}function k2(t){return D2[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return Vt.fromServerFormat(t.fieldPath)}function bS(t){return t instanceof Ge?function(n){if(n.op==="=="){if(T0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(b0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(b0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:O2(n.op),value:n.value}}}(t):t instanceof kn?function(n){let r=n.getFilters().map(i=>bS(i));return r.length===1?r[0]:{compositeFilter:{op:k2(n.op),filters:r}}}(t):Y()}function F2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var hc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var wv=class{constructor(e){this.ct=e}};function V2(t){let e=N2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?av(e,e.limit,"L"):e}var Zd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),cc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ar(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Kr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?eS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):X0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),G.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Zd.vt=new Zd;var Ev=class{constructor(){this.un=new Dv}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Fi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Dv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Be.comparator)).toArray()}};var f5=new Uint8Array(0);var An=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(41943040,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);var fc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Cv=class{constructor(){this.changes=new Qr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var bv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Tv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ac(r.mutation,i,Rn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=cr(),o=oc(),a=function(){return oc()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ur)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),ac(f.mutation,l,f.mutation.getFieldMask(),et.now())):o.set(l.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var p;return a.set(l,new bv(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=oc(),i=new Pe((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||Rn.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=dS();f.forEach(v=>{if(!s.has(v)){let w=yS(n.get(v),r.get(v));w!==null&&p.set(v,w),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(xi()),a=-1,u=s;return o.next(l=>P.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,fe())).next(f=>({batchId:a,changes:lS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=rc();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(p,v){return new ho(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,v)=>{o=o.insert(p,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,cn.newInvalidDocument(f)))});let a=rc();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&ac(f.mutation,l,Rn.empty(),et.now()),gh(n,l)&&(a=a.insert(u,l))}),a})}};var Sv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:V2(i.bundledQuery),readTime:Pn(i.readTime)}}(n)),P.resolve()}};var Av=class{constructor(){this.overlays=new Pe(G.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=xi(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=xi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=xi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hv(n,r));let s=this.Ir.get(n);s===void 0&&(s=fe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Rv=class{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var pc=class{constructor(){this.Tr=new lt(Ue.Er),this.dr=new lt(Ue.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ue(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ue(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new G(new Be([])),r=new Ue(n,e),i=new Ue(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new G(new Be([])),r=new Ue(n,e),i=new Ue(n,e+1),s=fe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ue(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ue=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||G.comparator(e.key,n.key)}};var Mv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new lt(Ue.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new lv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Ue(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(_e);return n.forEach(i=>{let s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;G.isDocumentKey(s)||(s=s.child(""));let o=new Ue(new G(s),0),a=new lt(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new Ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ue(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Nv=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cr(),o=n.path,a=new G(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||zU(qU(f),r)<=0||(i.has(f.key)||gh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xv(this)}getSize(e){return P.resolve(this.size)}},xv=class extends Cv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Pv=class{constructor(e){this.persistence=e,this.Nr=new Qr(n=>E_(n),D_),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new pc,this.targetCount=0,this.kr=fc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var Ov=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Z0(0),this.Kr=!1,this.Kr=!0,this.$r=new Rv,this.referenceDelegate=e(this),this.Ur=new Pv(this),this.indexManager=new Ev,this.remoteDocumentCache=function(i){return new Nv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wv(n),this.Gr=new Sv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Av,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Mv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new kv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},kv=class extends Wy{constructor(e){super(),this.currentSequenceNumber=e}},Fv=class t{constructor(e){this.persistence=e,this.Jr=new pc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=G.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Vv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Lv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var jv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tT()?8:WU(Qe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Lv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(nc()<=he.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(nc()<=he.DEBUG&&V("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(nc()<=he.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):P.resolve())}Yi(e,n){if(M0(n))return P.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=av(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=fe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,av(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return M0(n)||i.isEqual(ne.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(nc()<=he.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eo(n)),this.rs(e,o,n,HU(i,-1)).next(a=>a))})}ts(e,n){let r=new lt(cS(e));return n.forEach((i,s)=>{gh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return nc()<=he.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",eo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Uv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(_e),this._s=new Qr(s=>E_(s),D_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function L2(t,e,n,r){return new Uv(t,e,n,r)}function SS(t,e){return y(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=fe();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function j2(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){let p=l.batch,v=p.keys(),w=P.resolve();return v.forEach(A=>{w=w.next(()=>f.getEntry(u,A)).next(M=>{let R=l.docVersions.get(A);Ee(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AS(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function U2(t,e){let n=X(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((f,p)=>{let v=i.get(p);if(!v)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let w=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(dt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(p,w),function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(v,w,f)&&a.push(n.Ur.updateTargetData(s,w))});let u=cr(),l=fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(B2(s,o,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(ne.min())){let f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function B2(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function $2(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H2(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new hc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Bv(t,e,n){return y(this,null,function*(){let r=X(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Cc(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function B0(t,e,n){let r=X(t),i=ne.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=X(u),v=p._s.get(f);return v!==void 0?P.resolve(p.os.get(v)):p.Ur.getTargetData(l,f)}(r,o,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:fe())).next(a=>(q2(r,s2(e),a),{documents:a,Ts:s})))}function q2(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Jd=class{constructor(){this.activeTargetIds=d2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var $v=class{constructor(){this.so=new Jd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Jd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Hv=class{_o(e){}shutdown(){}};var Xd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kd=null;function Fy(){return kd===null?kd=function(){return 268435456+Math.round(2147483648*Math.random())}():kd++,"0x"+kd.toString(16)}var z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var qv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ut="WebChannelConnection",zv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Fy(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw so("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=z2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Fy();return new Promise((o,a)=>{let u=new My;u.setWithCredentials(!0),u.listenOnce(Ny.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tc.NO_ERROR:let f=u.getResponseJson();V(ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case tc.TIMEOUT:V(ut,`RPC '${e}' ${s} timed out`),a(new H(N.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:let p=u.getStatus();if(V(ut,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let w=v?.error;if(w&&w.status&&w.message){let A=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(w.status);a(new H(A,w.message))}else a(new H(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(N.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{V(ut,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(ut,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Fy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Oy(),a=Py(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");V(ut,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),v=!1,w=!1,A=new qv({Io:R=>{w?V(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||(V(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),V(ut,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,F,q)=>{R.listen(F,z=>{try{q(z)}catch(ce){setTimeout(()=>{throw ce},0)}})};return M(p,Xs.EventType.OPEN,()=>{w||(V(ut,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),M(p,Xs.EventType.CLOSE,()=>{w||(w=!0,V(ut,`RPC '${e}' stream ${i} transport closed`),A.So())}),M(p,Xs.EventType.ERROR,R=>{w||(w=!0,so(ut,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new H(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,Xs.EventType.MESSAGE,R=>{var F;if(!w){let q=R.data[0];Ee(!!q);let z=q,ce=z.error||((F=z[0])===null||F===void 0?void 0:F.error);if(ce){V(ut,`RPC '${e}' stream ${i} received error:`,ce);let Re=ce.status,ee=function(_){let E=je[_];if(E!==void 0)return _S(E)}(Re),D=ce.message;ee===void 0&&(ee=N.INTERNAL,D="Unknown error status: "+Re+" with message "+ce.message),w=!0,A.So(new H(ee,D)),p.close()}else V(ut,`RPC '${e}' stream ${i} received:`,q),A.bo(q)}}),M(a,xy.STAT_EVENT,R=>{R.stat===Pd.PROXY?V(ut,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Pd.NOPROXY&&V(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Vy(){return typeof document<"u"?document:null}function mh(t){return new mv(t,!0)}var eh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var th=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return y(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return y(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return y(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>y(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Gv=class extends th{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=T2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Pn(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Iv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=ov(u)?{documents:R2(s,u)}:{query:M2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IS(s,o.resumeToken);let l=yv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Yd(s,o.snapshotVersion.toTimestamp());let l=yv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=x2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Iv(this.serializer),n.removeTarget=e,this.a_(n)}},Wv=class extends th{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=A2(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Iv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>S2(this.serializer,r))};this.a_(n)}};var Kv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,vv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,vv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Qv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(or(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Yv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>y(this,null,function*(){Bi(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return y(this,null,function*(){let l=X(u);l.L_.add(4),yield bc(l),l.q_.set("Unknown"),l.L_.delete(4),yield yh(l)})}(this))}))}),this.q_=new Qv(r,i)}};function yh(t){return y(this,null,function*(){if(Bi(t))for(let e of t.B_)yield e(!0)})}function bc(t){return y(this,null,function*(){for(let e of t.B_)yield e(!1)})}function RS(t,e){let n=X(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),M_(n)?R_(n):Io(n).r_()&&A_(n,e))}function S_(t,e){let n=X(t),r=Io(n);n.N_.delete(e),r.r_()&&MS(n,e),n.N_.size===0&&(r.r_()?r.o_():Bi(n)&&n.q_.set("Unknown"))}function A_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(t).A_(e)}function MS(t,e){t.Q_.xe(e),Io(t).R_(e)}function R_(t){t.Q_=new gv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Io(t).start(),t.q_.v_()}function M_(t){return Bi(t)&&!Io(t).n_()&&t.N_.size>0}function Bi(t){return X(t).L_.size===0}function NS(t){t.Q_=void 0}function G2(t){return y(this,null,function*(){t.q_.set("Online")})}function W2(t){return y(this,null,function*(){t.N_.forEach((e,n)=>{A_(t,e)})})}function K2(t,e){return y(this,null,function*(){NS(t),M_(t)?(t.q_.M_(e),R_(t)):t.q_.set("Unknown")})}function Q2(t,e,n){return y(this,null,function*(){if(t.q_.set("Online"),e instanceof Kd&&e.state===2&&e.cause)try{yield function(i,s){return y(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nh(t,r)}else if(e instanceof io?t.Q_.Ke(e):e instanceof Wd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield AS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(l);f&&s.N_.set(l,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(dt.EMPTY_BYTE_STRING,f.snapshotVersion)),MS(s,u);let p=new hc(f.target,u,l,f.sequenceNumber);A_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield nh(t,r)}})}function nh(t,e,n){return y(this,null,function*(){if(!Cc(e))throw e;t.L_.add(1),yield bc(t),t.q_.set("Offline"),n||(n=()=>AS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield yh(t)}))})}function xS(t,e){return e().catch(n=>nh(t,n,e))}function vh(t){return y(this,null,function*(){let e=X(t),n=Yr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Y2(e);)try{let i=yield $2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Z2(e,i)}catch(i){yield nh(e,i)}PS(e)&&OS(e)})}function Y2(t){return Bi(t)&&t.O_.length<10}function Z2(t,e){t.O_.push(e);let n=Yr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function PS(t){return Bi(t)&&!Yr(t).n_()&&t.O_.length>0}function OS(t){Yr(t).start()}function J2(t){return y(this,null,function*(){Yr(t).p_()})}function X2(t){return y(this,null,function*(){let e=Yr(t);for(let n of t.O_)e.m_(n.mutations)})}function eB(t,e,n){return y(this,null,function*(){let r=t.O_.shift(),i=dv.from(r,e,n);yield xS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vh(t)})}function tB(t,e){return y(this,null,function*(){e&&Yr(t).V_&&(yield function(r,i){return y(this,null,function*(){if(function(o){return v2(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Yr(r).s_(),yield xS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield vh(r)}})}(t,e)),PS(t)&&OS(t)})}function $0(t,e){return y(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Bi(n);n.L_.add(3),yield bc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield yh(n)})}function nB(t,e){return y(this,null,function*(){let n=X(t);e?(n.L_.delete(2),yield yh(n)):e||(n.L_.add(2),yield bc(n),n.q_.set("Unknown"))})}function Io(t){return t.K_||(t.K_=function(n,r,i){let s=X(n);return s.w_(),new Gv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:G2.bind(null,t),Ro:W2.bind(null,t),mo:K2.bind(null,t),d_:Q2.bind(null,t)}),t.B_.push(e=>y(this,null,function*(){e?(t.K_.s_(),M_(t)?R_(t):t.q_.set("Unknown")):(yield t.K_.stop(),NS(t))}))),t.K_}function Yr(t){return t.U_||(t.U_=function(n,r,i){let s=X(n);return s.w_(),new Wv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:J2.bind(null,t),mo:tB.bind(null,t),f_:X2.bind(null,t),g_:eB.bind(null,t)}),t.B_.push(e=>y(this,null,function*(){e?(t.U_.s_(),yield vh(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Zv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function N_(t,e){if(or("AsyncQueue",`${e}: ${t}`),Cc(t))return new H(N.UNAVAILABLE,`${e}: ${t}`);throw t}var rh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ih=class{constructor(){this.W_=new Pe(G.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},yo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,rh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Jv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Xv=class{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=X(n),s=i.queries;i.queries=H0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new H(N.ABORTED,"Firestore shutting down"))}};function H0(){return new Qr(t=>aS(t),ph)}function rB(t,e){return y(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Jv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=N_(o,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&x_(n)})}function iB(t,e){return y(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function sB(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&x_(n)}function oB(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function x_(t){t.Y_.forEach(e=>{e.next()})}var e_,q0;(q0=e_||(e_={})).ea="default",q0.Cache="cache";var t_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==e_.Cache}};var sh=class{constructor(e){this.key=e}},oh=class{constructor(e){this.key=e}},n_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=cS(e),this.Ra=new rh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new ih,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let v=i.get(f),w=gh(this.query,p)?p:null,A=!!v&&this.mutatedKeys.has(v.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),R=!1;v&&w?v.data.isEqual(w.data)?A!==M&&(r.track({type:3,doc:w}),R=!0):this.ga(v,w)||(r.track({type:2,doc:w}),R=!0,(u&&this.Aa(w,u)>0||l&&this.Aa(w,l)<0)&&(a=!0)):!v&&w?(r.track({type:0,doc:w}),R=!0):v&&!w&&(r.track({type:1,doc:v}),R=!0,(u||l)&&(a=!0)),R&&(w?(o=o.add(w),s=M?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,p)=>function(w,A){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return M(w)-M(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new yo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ih,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new oh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sh(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},r_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},i_=class{constructor(e){this.key=e,this.va=!1}},s_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Qr(a=>aS(a),ph),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(G.comparator),this.Na=new Map,this.La=new pc,this.Ba={},this.ka=new Map,this.qa=fc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function aB(t,e,n=!0){return y(this,null,function*(){let r=US(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield kS(r,e,n,!0),i})}function cB(t,e){return y(this,null,function*(){let n=US(t);yield kS(n,e,!0,!1)})}function kS(t,e,n,r){return y(this,null,function*(){let i=yield H2(t.localStore,xn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield uB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&RS(t.remoteStore,i),a})}function uB(t,e,n,r,i){return y(this,null,function*(){t.Ka=(p,v,w)=>function(M,R,F,q){return y(this,null,function*(){let z=R.view.ma(F);z.ns&&(z=yield B0(M.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,z)));let ce=q&&q.targetChanges.get(R.targetId),Re=q&&q.targetMismatches.get(R.targetId)!=null,ee=R.view.applyChanges(z,M.isPrimaryClient,ce,Re);return G0(M,R.targetId,ee.wa),ee.snapshot})}(t,p,v,w);let s=yield B0(t.localStore,e,!0),o=new n_(e,s.Ts),a=o.ma(s.documents),u=dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);G0(t,n,l.wa);let f=new r_(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function lB(t,e,n){return y(this,null,function*(){let r=X(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ph(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Bv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&S_(r.remoteStore,i.targetId),o_(r,i.targetId)}).catch(Dc))):(o_(r,i.targetId),yield Bv(r.localStore,i.targetId,!0))})}function dB(t,e){return y(this,null,function*(){let n=X(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),S_(n.remoteStore,r.targetId))})}function hB(t,e,n){return y(this,null,function*(){let r=_B(t);try{let i=yield function(o,a){let u=X(o),l=et.now(),f=a.reduce((w,A)=>w.add(A.key),fe()),p,v;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=cr(),M=fe();return u.cs.getEntries(w,f).next(R=>{A=R,A.forEach((F,q)=>{q.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,A)).next(R=>{p=R;let F=[];for(let q of a){let z=y2(q,p.get(q.key).overlayedDocument);z!=null&&F.push(new ur(q.key,z,tS(z.value.mapValue),Oi.exists(!0)))}return u.mutationQueue.addMutationBatch(w,l,F,a)}).next(R=>{v=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(w,R.batchId,F)})}).then(()=>({batchId:v.batchId,changes:lS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Pe(_e)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Tc(r,i.changes),yield vh(r.remoteStore)}catch(i){let s=N_(i,"Failed to persist write");n.reject(s)}})}function FS(t,e){return y(this,null,function*(){let n=X(t);try{let r=yield U2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ee(o.va):i.removedDocuments.size>0&&(Ee(o.va),o.va=!1))}),yield Tc(n,r,e)}catch(r){yield Dc(r)}})}function z0(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=X(o);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let v of p.j_)v.Z_(a)&&(l=!0)}),l&&x_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fB(t,e,n){return y(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pe(G.comparator);o=o.insert(s,cn.newNoDocument(s,ne.min()));let a=fe().add(s),u=new Gd(ne.min(),new Map,new Pe(_e),o,a);yield FS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),P_(r)}else yield Bv(r.localStore,e,!1).then(()=>o_(r,e,n)).catch(Dc)})}function pB(t,e){return y(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield j2(n.localStore,e);LS(n,r,null),VS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Tc(n,i)}catch(i){yield Dc(i)}})}function gB(t,e,n){return y(this,null,function*(){let r=X(t);try{let i=yield function(o,a){let u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);LS(r,e,n),VS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Tc(r,i)}catch(i){yield Dc(i)}})}function VS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function LS(t,e,n){let r=X(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function o_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||jS(t,r)})}function jS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(S_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),P_(t))}function G0(t,e,n){for(let r of n)r instanceof sh?(t.La.addReference(r.key,e),mB(t,r)):r instanceof oh?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||jS(t,r.key)):Y()}function mB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),P_(t))}function P_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new G(Be.fromString(e)),r=t.qa.next();t.Na.set(r,new i_(n)),t.Oa=t.Oa.insert(n,r),RS(t.remoteStore,new hc(xn(C_(n.path)),r,"TargetPurposeLimboResolution",Z0.oe))}}function Tc(t,e,n){return y(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Vv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return y(this,null,function*(){let f=X(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,v=>P.forEach(v.$i,w=>f.persistence.referenceDelegate.addReference(p,v.targetId,w)).next(()=>P.forEach(v.Ui,w=>f.persistence.referenceDelegate.removeReference(p,v.targetId,w)))))}catch(p){if(!Cc(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let v=p.targetId;if(!p.fromCache){let w=f.os.get(v),A=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(v,M)}}})}(r.localStore,s))})}function yB(t,e){return y(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield SS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new H(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tc(n,r.hs)}})}function vB(t,e){let n=X(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function US(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fB.bind(null,e),e.Ca.d_=sB.bind(null,e.eventManager),e.Ca.$a=oB.bind(null,e.eventManager),e}function _B(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gB.bind(null,e),e}var W0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return y(this,null,function*(){this.serializer=mh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return L2(this.persistence,new jv,n.initialUser,this.serializer)}Ga(n){return new Ov(Fv.Zr,this.serializer)}Wa(n){return new $v}terminate(){return y(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var IB=(()=>{class t{initialize(n,r){return y(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>z0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yB.bind(null,this.syncEngine),yield nB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Xv}()}createDatastore(n){let r=mh(n.databaseInfo.databaseId),i=function(o){return new zv(o)}(n.databaseInfo);return function(o,a,u,l){return new Kv(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new Yv(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>z0(this.syncEngine,r,0),function(){return Xd.D()?new Xd:new Hv}())}createSyncEngine(n,r){return function(s,o,a,u,l,f,p){let v=new s_(s,o,a,u,l,f);return p&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return y(this,null,function*(){var n,r;yield function(s){return y(this,null,function*(){let o=X(s);V("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield bc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var a_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var c_=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=jd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>y(this,null,function*(){V("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=N_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Ly(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>y(this,null,function*(){r.isEqual(i)||(yield SS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function K0(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield wB(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$0(e.remoteStore,i)),t._onlineComponents=e})}function wB(t){return y(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ly(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),yield Ly(t,new W0)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield Ly(t,new W0);return t._offlineComponents})}function BS(t){return y(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield K0(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield K0(t,new IB))),t._onlineComponents})}function EB(t){return BS(t).then(e=>e.syncEngine)}function DB(t){return y(this,null,function*(){let e=yield BS(t),n=e.eventManager;return n.onListen=aB.bind(null,e.syncEngine),n.onUnlisten=lB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dB.bind(null,e.syncEngine),n})}function CB(t,e,n={}){let r=new Mn;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(s,o,a,u,l){let f=new a_({next:v=>{f.Za(),o.enqueueAndForget(()=>iB(s,p));let w=v.docs.has(a);!w&&v.fromCache?l.reject(new H(N.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&u&&u.source==="server"?l.reject(new H(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(v)},error:v=>l.reject(v)}),p=new t_(C_(a.path),f,{includeMetadataChanges:!0,_a:!0});return rB(s,p)}(yield DB(t),t.asyncQueue,e,n,r)})),r.promise}function $S(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Q0=new Map;function bB(t,e,n){if(!n)throw new H(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TB(t,e,n,r){if(e===!0&&r===!0)throw new H(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y0(t){if(!G.isDocumentKey(t))throw new H(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function gc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=O_(t);throw new H(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ah=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$S((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},mc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ah({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ah(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jy;switch(r.type){case"firstParty":return new Hy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return y(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Q0.get(n);r&&(V("ComponentProvider","Removing Datastore"),Q0.delete(n),r.terminate())}(this),Promise.resolve()}};function HS(t,e,n,r={}){var i;let s=(t=gc(t,mc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ye.MOCK_USER;else{a=Qb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ye(l)}t._authCredentials=new Uy(new Ld(a,u))}}var u_=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Wt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},yc=class t extends u_{constructor(e,n,r){super(e,n,C_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function qS(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=jd.newId()),bB("doc","path",e),t instanceof mc){let r=Be.fromString(e,...n);return Y0(r),new Wt(t,null,new G(r))}{if(!(t instanceof Wt||t instanceof yc))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return Y0(r),new Wt(t.firestore,t instanceof yc?t.converter:null,new G(r))}}var ch=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new eh(this,"async_queue_retry"),this.Vu=()=>{let r=Vy();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Vy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Vy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Mn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return y(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Cc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Zv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Y()}verifyOperationInProgress(){}wu(){return y(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var vc=class extends mc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ch,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return y(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ch(e),this._firestoreClient=void 0,yield e}})}};function zS(t,e){let n=typeof t=="object"?t:Ws(),r=typeof t=="string"?t:e||"(default)",i=qa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Kb("firestore");s&&HS(i,...s)}return i}function GS(t){if(t._terminated)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SB(t),t._firestoreClient}function SB(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,f){return new Ky(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,$S(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new c_(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var _c=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(dt.fromBase64String(e))}catch(n){throw new H(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ic=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var uh=class{constructor(e){this._methodName=e}};var wc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Ec=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var AB=/^__.*__$/,l_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ui(e,this.data,n,this.fieldTransforms)}};function WS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var d_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(WS(this.Cu)&&AB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},h_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mh(e)}Qu(e,n,r,i=!1){return new d_({Cu:e,methodName:n,qu:r,path:Vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function RB(t){let e=t._freezeSettings(),n=mh(t._databaseId);return new h_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MB(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);ZS("Data must be an object, but it was:",o,r);let a=QS(r,o),u,l;if(s.merge)u=new Rn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let v=NB(e,p,n);if(!o.contains(v))throw new H(N.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);PB(f,v)||f.push(v)}u=new Rn(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new l_(new an(a),u,l)}function KS(t,e){if(YS(t=Dt(t)))return ZS("Unsupported field value:",e,t),QS(t,e);if(t instanceof uh)return function(r,i){if(!WS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=KS(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=et.fromDate(r);return{timestampValue:Yd(i.serializer,s)}}if(r instanceof et){let s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,s)}}if(r instanceof wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _c)return{bytesValue:IS(i.serializer,r._byteString)};if(r instanceof Wt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:T_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ec)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return b_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${O_(r)}`)}(t,e)}function QS(t,e){let n={};return J0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,i)=>{let s=KS(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function YS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof wc||t instanceof _c||t instanceof Wt||t instanceof uh||t instanceof Ec)}function ZS(t,e,n){if(!YS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=O_(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function NB(t,e,n){if((e=Dt(e))instanceof Ic)return e._internalPath;if(typeof e=="string")return JS(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}var xB=new RegExp("[~\\*/\\[\\]]");function JS(t,e,n){if(e.search(xB)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ic(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(N.INVALID_ARGUMENT,a+t+u)}function PB(t,e){return t.some(n=>n.isEqual(e))}var dh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new f_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(XS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},f_=class extends dh{data(){return super.data()}};function XS(t,e){return typeof e=="string"?JS(t,e):e instanceof Ic?e._internalPath:e._delegate._internalPath}var p_=class{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return _o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new Ec(s)}convertGeoPoint(e){return new wc(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=I_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){let n=ar(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Be.fromString(e);Ee(TS(r));let i=new Hd(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function OB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var g_=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hh=class extends dh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new m_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(XS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},m_=class extends hh{data(e={}){return super.data(e)}};function eA(t){t=gc(t,Wt);let e=gc(t.firestore,vc);return CB(GS(e),t._key).then(n=>FB(e,t,n))}var y_=class extends p_{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}};function tA(t,e,n){t=gc(t,Wt);let r=gc(t.firestore,vc),i=OB(t.converter,e,n);return kB(r,[MB(RB(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Oi.none())])}function kB(t,e){return function(r,i){let s=new Mn;return r.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return hB(yield EB(r),i,s)})),s.promise}(GS(t),e)}function FB(t,e,n){let r=n.docs.get(e._key),i=new y_(t);return new hh(t,i,e._key,r,new g_(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vo=i})($r),Br(new Gt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new vc(new By(r.getProvider("auth-internal")),new zy(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hd(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ze(w0,"4.7.3",e),ze(w0,"4.7.3","esm2017")})();var $i=class{constructor(e){return e}},nA="firestore",k_=class{constructor(){return za(nA)}};var F_=new j("angularfire2.firestore-instances");function VB(t,e){let n=ld(nA,t,e);return n&&new $i(n)}function LB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $i(r)}}var jB={provide:k_,deps:[[new yt,F_]]},UB={provide:$i,useFactory:VB,deps:[[new yt,F_],tr]};function rA(t,...e){return ze("angularfire",bi.full,"fst"),mn([UB,jB,{provide:F_,useFactory:LB(t),multi:!0,deps:[Ie,Je,Ys,Ti,[new yt,ec],[new yt,Qs],...e]}])}var V_=bn(qS,!0);var iA=bn(eA,!0);var sA=bn(zS,!0);var oA=bn(tA,!0);var aA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=st({type:t,selectors:[["app-home"]],standalone:!0,features:[ct],decls:2,vars:0,template:function(r,i){r&1&&(U(0,"p"),re(1,"home works!"),L())}})}}return t})();var yA=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(Q(Wn),Q(vn))}}static{this.\u0275dir=Le({type:t})}}return t})(),j_=(()=>{class t extends yA{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xr(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,features:[en]})}}return t})(),Th=new j("");var BB={provide:Th,useExisting:qn(()=>bo),multi:!0};function $B(){let t=Qn()?Qn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var HB=new j(""),bo=(()=>{class t extends yA{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!$B())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(Q(Wn),Q(vn),Q(HB,8))}}static{this.\u0275dir=Le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Et("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[mi([BB]),en]})}}return t})();function qB(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var U_=new j(""),vA=new j("");function zB(t){return qB(t.value)?{required:!0}:null}function cA(t){return null}function _A(t){return t!=null}function IA(t){return Pr(t)?Ae(t):t}function wA(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function EA(t,e){return e.map(n=>n(t))}function GB(t){return!t.validate}function DA(t){return t.map(e=>GB(e)?e:n=>e.validate(n))}function WB(t){if(!t)return null;let e=t.filter(_A);return e.length==0?null:function(n){return wA(EA(n,e))}}function B_(t){return t!=null?WB(DA(t)):null}function KB(t){if(!t)return null;let e=t.filter(_A);return e.length==0?null:function(n){let r=EA(n,e).map(IA);return Tf(r).pipe(se(wA))}}function $_(t){return t!=null?KB(DA(t)):null}function uA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QB(t){return t._rawValidators}function YB(t){return t._rawAsyncValidators}function L_(t){return t?Array.isArray(t)?t:[t]:[]}function Ih(t,e){return Array.isArray(t)?t.includes(e):t===e}function lA(t,e){let n=L_(e);return L_(t).forEach(i=>{Ih(n,i)||n.push(i)}),n}function dA(t,e){return L_(e).filter(n=>!Ih(t,n))}var wh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=B_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Do=class extends wh{get formDirective(){return null}get path(){return null}},xc=class extends wh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Eh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ZB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eK=le(k({},ZB),{"[class.ng-submitted]":"isSubmitted"}),Sh=(()=>{class t extends Eh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Q(xc,2))}}static{this.\u0275dir=Le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Al("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[en]})}}return t})(),Ah=(()=>{class t extends Eh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(Q(Do,10))}}static{this.\u0275dir=Le({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Al("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[en]})}}return t})();var Sc="VALID",_h="INVALID",wo="PENDING",Ac="DISABLED",Co=class{},Dh=class extends Co{constructor(e,n){super(),this.value=e,this.source=n}},Mc=class extends Co{constructor(e,n){super(),this.pristine=e,this.source=n}},Nc=class extends Co{constructor(e,n){super(),this.touched=e,this.source=n}},Eo=class extends Co{constructor(e,n){super(),this.status=e,this.source=n}};function CA(t){return(Rh(t)?t.validators:t)||null}function JB(t){return Array.isArray(t)?B_(t):t||null}function bA(t,e){return(Rh(e)?e.asyncValidators:t)||null}function XB(t){return Array.isArray(t)?$_(t):t||null}function Rh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function e$(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function t$(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Ch=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ga(()=>this.statusReactive()),this.statusReactive=ha(void 0),this._pristine=ga(()=>this.pristineReactive()),this.pristineReactive=ha(!0),this._touched=ga(()=>this.touchedReactive()),this.touchedReactive=ha(!1),this._events=new We,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rn(this.statusReactive)}set status(e){rn(()=>this.statusReactive.set(e))}get valid(){return this.status===Sc}get invalid(){return this.status===_h}get pending(){return this.status==wo}get disabled(){return this.status===Ac}get enabled(){return this.status!==Ac}get pristine(){return rn(this.pristineReactive)}set pristine(e){rn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return rn(this.touchedReactive)}set touched(e){rn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dA(e,this._rawAsyncValidators))}hasValidator(e){return Ih(this._rawValidators,e)}hasAsyncValidator(e){return Ih(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Nc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Nc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Mc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Mc(!0,r))}markAsPending(e={}){this.status=wo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Eo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ac,this.errors=null,this._forEachChild(i=>{i.disable(le(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dh(this.value,r)),this._events.next(new Eo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Sc,this._forEachChild(r=>{r.enable(le(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sc||this.status===wo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dh(this.value,n)),this._events.next(new Eo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ac:Sc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=wo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=IA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Eo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?Ac:this.errors?_h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wo)?wo:this._anyControlsHaveStatus(_h)?_h:Sc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Mc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Nc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=JB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=XB(this._rawAsyncValidators)}},bh=class extends Ch{constructor(e,n,r){super(CA(n),bA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){t$(this,!0,e),Object.keys(e).forEach(r=>{e$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var H_=new j("CallSetDisabledState",{providedIn:"root",factory:()=>q_}),q_="always";function n$(t,e){return[...e.path,t]}function TA(t,e,n=q_){SA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),i$(t,e),o$(t,e),s$(t,e),r$(t,e)}function hA(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function r$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function SA(t,e){let n=QB(t);e.validator!==null?t.setValidators(uA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=YB(t);e.asyncValidator!==null?t.setAsyncValidators(uA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();hA(e._rawValidators,i),hA(e._rawAsyncValidators,i)}function i$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&AA(t,e)})}function s$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&AA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function AA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function o$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function a$(t,e){t==null,SA(t,e)}function c$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function u$(t){return Object.getPrototypeOf(t.constructor)===j_}function l$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function d$(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===bo?n=s:u$(s)?r=s:i=s}),i||r||n||null}var h$={provide:Do,useExisting:qn(()=>Pc)},Rc=Promise.resolve(),Pc=(()=>{class t extends Do{get submitted(){return rn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ga(()=>this.submittedReactive()),this.submittedReactive=ha(!1),this._directives=new Set,this.ngSubmit=new Ve,this.form=new bh({},B_(n),$_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Rc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),TA(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Rc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Rc.then(()=>{let r=this._findContainer(n.path),i=new bh({});a$(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Rc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Rc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),l$(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(Q(U_,10),Q(vA,10),Q(H_,8))}}static{this.\u0275dir=Le({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Et("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mi([h$]),en]})}}return t})();function fA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var f$=class extends Ch{constructor(e=null,n,r){super(CA(n),bA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(pA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var p$={provide:xc,useExisting:qn(()=>Oc)},gA=Promise.resolve(),Oc=(()=>{class t extends xc{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new f$,this._registered=!1,this.name="",this.update=new Ve,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=d$(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),c$(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){TA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){gA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&kr(r);gA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?n$(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(Q(Do,9),Q(U_,10),Q(vA,10),Q(Th,10),Q(Or,8),Q(H_,8))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mi([p$]),en,Mr]})}}return t})(),Mh=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var g$={provide:Th,useExisting:qn(()=>Nh),multi:!0};function RA(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function m$(t){return t.split(":")[0]}var Nh=(()=>{class t extends j_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=RA(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=m$(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xr(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Et("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[mi([g$]),en]})}}return t})(),MA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(RA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Q(vn),Q(Wn),Q(Nh,9))}}static{this.\u0275dir=Le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),y$={provide:Th,useExisting:qn(()=>NA),multi:!0};function mA(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function v$(t){return t.split(":")[0]}var NA=(()=>{class t extends j_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let u=o[a],l=this._getOptionValue(u.value);i.push(l)}}else{let o=r.options;for(let a=0;a<o.length;a++){let u=o[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=v$(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xr(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Et("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[mi([y$]),en]})}}return t})(),xA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(mA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(mA(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(Q(vn),Q(Wn),Q(NA,9))}}static{this.\u0275dir=Le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var _$=(()=>{class t{constructor(){this._validator=cA}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):cA,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,features:[Mr]})}}return t})();var I$={provide:U_,useExisting:qn(()=>kc),multi:!0};var kc=(()=>{class t extends _${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=kr,this.createValidator=n=>zB}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xr(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&pa("required",i._enabled?"":null)},inputs:{required:"required"},features:[mi([I$]),en]})}}return t})();var w$=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Rr({type:t})}static{this.\u0275inj=Ar({})}}return t})();var xh=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:H_,useValue:n.callSetDisabledState??q_}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Rr({type:t})}static{this.\u0275inj=Ar({imports:[w$]})}}return t})();var Zr=(()=>{class t{constructor(){this.auth=x(Ni),this.firestore=x($i),this.userSubject=new Oe(null),this.userTypeSubject=new Oe(null),Rd(this.auth,n=>y(this,null,function*(){if(n){let s=(yield iA(V_(this.firestore,"users",n.uid))).data()?.type??null;this.userTypeSubject.next(s)}else this.userTypeSubject.next(null);this.userSubject.next(n)}))}get user$(){return this.userSubject.asObservable()}get userType$(){return this.userTypeSubject.asObservable()}register(n,r,i,s,o){return y(this,null,function*(){let a=yield m0(this.auth,n,r),u=a.user;return yield oA(V_(this.firestore,"users",u.uid),{firstName:i,lastName:s,email:n,type:o}),a})}login(n,r){return y(this,null,function*(){return yield v0(this.auth,n,r)})}logout(){return y(this,null,function*(){return yield Md(this.auth)})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function E$(t,e){t&1&&(U(0,"div",16),re(1," Email is required. "),L())}function D$(t,e){t&1&&(U(0,"div",16),re(1," Password is required. "),L())}var OA=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}onLogin(n){return y(this,null,function*(){n.invalid||(yield this.authService.login(this.email,this.password),this.router.navigate(["/"]))})}static{this.\u0275fac=function(r){return new(r||t)(Q(Zr),Q(Xe))}}static{this.\u0275cmp=st({type:t,selectors:[["app-login"]],standalone:!0,features:[ct],decls:25,vars:4,consts:[["loginForm","ngForm"],["emailInput","ngModel"],["passwordInput","ngModel"],[1,"flex","min-h-screen","items-center","justify-center","bg-gray-100"],[1,"w-full","max-w-md","p-8","bg-white","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","text-center","text-gray-800"],[1,"mt-6","space-y-6",3,"ngSubmit"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","name","email","placeholder","Enter your email","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["class","text-red-500 text-sm",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","name","password","placeholder","Enter your password","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","py-3","px-4","mt-4","text-white","bg-blue-600","rounded-lg","hover:bg-blue-700","transition-colors","duration-200"],[1,"my-6","border-t","border-gray-300"],[1,"mt-6","text-center","text-sm","text-gray-600"],["routerLink","/register",1,"text-blue-600","hover:underline"],[1,"text-red-500","text-sm"]],template:function(r,i){if(r&1){let s=Rs();U(0,"div",3)(1,"div",4)(2,"h2",5),re(3,"Login to Your Account"),L(),U(4,"form",6,0),Et("ngSubmit",function(){vt(s);let a=St(5);return _t(i.onLogin(a))}),U(6,"div")(7,"label",7),re(8,"Email"),L(),U(9,"input",8,1),nn("ngModelChange",function(a){return vt(s),wn(i.email,a)||(i.email=a),_t(a)}),L(),It(11,E$,2,0,"div",9),L(),U(12,"div")(13,"label",10),re(14,"Password"),L(),U(15,"input",11,2),nn("ngModelChange",function(a){return vt(s),wn(i.password,a)||(i.password=a),_t(a)}),L(),It(17,D$,2,0,"div",9),L(),U(18,"button",12),re(19," Login "),L()(),In(20,"div",13),U(21,"p",14),re(22," Don't have an account? "),U(23,"a",15),re(24,"Sign up"),L()()()()}if(r&2){let s=St(10),o=St(16);xe(9),tn("ngModel",i.email),xe(2),wt("ngIf",s.invalid&&s.touched),xe(4),tn("ngModel",i.password),xe(2),wt("ngIf",o.invalid&&o.touched)}},dependencies:[qs,Hs,xh,Mh,bo,Sh,Ah,kc,Oc,Pc,vi,Ns]})}}return t})();function C$(t,e){t&1&&(U(0,"div",32),re(1," Email is required. "),L())}function b$(t,e){t&1&&(U(0,"div",32),re(1," First name is required. "),L())}function T$(t,e){t&1&&(U(0,"div",32),re(1," Last name is required. "),L())}function S$(t,e){t&1&&(U(0,"div",32),re(1," Password is required. "),L())}function A$(t,e){t&1&&(U(0,"div",32),re(1," Confirm password is required. "),L())}function R$(t,e){t&1&&(U(0,"div",32),re(1," Passwords do not match. "),L())}function M$(t,e){t&1&&(U(0,"div",32),re(1," User type is required. "),L())}function N$(t,e){t&1&&(U(0,"div",33),In(1,"div",34),L())}var kA=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.isLoading=!1}onRegister(n){return y(this,null,function*(){n.invalid||(this.isLoading=!0,yield this.authService.register(this.email,this.password,this.firstName,this.lastName,this.userType),this.isLoading=!1,this.router.navigate(["/"]))})}static{this.\u0275fac=function(r){return new(r||t)(Q(Zr),Q(Xe))}}static{this.\u0275cmp=st({type:t,selectors:[["app-register"]],standalone:!0,features:[ct],decls:57,vars:14,consts:[["registerForm","ngForm"],["emailInput","ngModel"],["firstNameInput","ngModel"],["lastNameInput","ngModel"],["passwordInput","ngModel"],["confirmPasswordInput","ngModel"],["userTypeInput","ngModel"],[1,"flex","min-h-screen","items-center","justify-center","bg-gray-100"],[1,"w-full","max-w-md","p-8","bg-white","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","text-center","text-gray-800"],[3,"ngSubmit"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","name","email","placeholder","Enter your email","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["class","text-red-500 text-sm",4,"ngIf"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","firstName","name","firstName","placeholder","Enter your first name","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","lastName","name","lastName","placeholder","Enter your last name","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","name","password","placeholder","Enter your password","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm your password","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["for","userType",1,"block","text-sm","font-medium","text-gray-700"],["id","userType","name","userType","required","",1,"w-full","mt-2","p-3","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","hiker"],["value","hikingClub"],["type","submit",1,"w-full","py-3","px-4","mt-4","text-white","bg-blue-600","rounded-lg","hover:bg-blue-700","transition-colors","duration-200"],["class","fixed inset-0 flex items-center justify-center bg-gray-100 bg-opacity-75 z-50",4,"ngIf"],[1,"my-6","border-t","border-gray-300"],[1,"text-center","text-sm","text-gray-600"],["routerLink","/login",1,"text-blue-600","hover:underline"],[1,"text-red-500","text-sm"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-gray-100","bg-opacity-75","z-50"],[1,"animate-spin","rounded-full","h-32","w-32","border-t-2","border-b-2","border-blue-500"]],template:function(r,i){if(r&1){let s=Rs();U(0,"div",7)(1,"div",8)(2,"h2",9),re(3,"Create an Account"),L(),U(4,"form",10,0),Et("ngSubmit",function(){vt(s);let a=St(5);return _t(i.onRegister(a))}),U(6,"div")(7,"label",11),re(8,"Email"),L(),U(9,"input",12,1),nn("ngModelChange",function(a){return vt(s),wn(i.email,a)||(i.email=a),_t(a)}),L(),It(11,C$,2,0,"div",13),L(),U(12,"div")(13,"label",14),re(14,"First Name"),L(),U(15,"input",15,2),nn("ngModelChange",function(a){return vt(s),wn(i.firstName,a)||(i.firstName=a),_t(a)}),L(),It(17,b$,2,0,"div",13),L(),U(18,"div")(19,"label",16),re(20,"Last Name"),L(),U(21,"input",17,3),nn("ngModelChange",function(a){return vt(s),wn(i.lastName,a)||(i.lastName=a),_t(a)}),L(),It(23,T$,2,0,"div",13),L(),U(24,"div")(25,"label",18),re(26,"Password"),L(),U(27,"input",19,4),nn("ngModelChange",function(a){return vt(s),wn(i.password,a)||(i.password=a),_t(a)}),L(),It(29,S$,2,0,"div",13),L(),U(30,"div")(31,"label",20),re(32,"Confirm Password"),L(),U(33,"input",21,5),nn("ngModelChange",function(a){return vt(s),wn(i.confirmPassword,a)||(i.confirmPassword=a),_t(a)}),L(),It(35,A$,2,0,"div",13)(36,R$,2,0,"div",13),L(),U(37,"div")(38,"label",22),re(39,"User Type"),L(),U(40,"select",23,6),nn("ngModelChange",function(a){return vt(s),wn(i.userType,a)||(i.userType=a),_t(a)}),U(42,"option",24),re(43,"Select user type"),L(),U(44,"option",25),re(45,"Hiker"),L(),U(46,"option",26),re(47,"Hiking Club"),L()(),It(48,M$,2,0,"div",13),L(),U(49,"button",27),re(50," Register "),L()(),It(51,N$,2,0,"div",28),In(52,"div",29),U(53,"p",30),re(54," Already have an account? "),U(55,"a",31),re(56,"Login"),L()()()()}if(r&2){let s=St(10),o=St(16),a=St(22),u=St(28),l=St(34),f=St(41);xe(9),tn("ngModel",i.email),xe(2),wt("ngIf",s.invalid&&s.touched),xe(4),tn("ngModel",i.firstName),xe(2),wt("ngIf",o.invalid&&o.touched),xe(4),tn("ngModel",i.lastName),xe(2),wt("ngIf",a.invalid&&a.touched),xe(4),tn("ngModel",i.password),xe(2),wt("ngIf",u.invalid&&u.touched),xe(4),tn("ngModel",i.confirmPassword),xe(2),wt("ngIf",l.invalid&&l.touched),xe(),wt("ngIf",i.password!==i.confirmPassword&&l.touched),xe(4),tn("ngModel",i.userType),xe(8),wt("ngIf",f.invalid&&f.touched),xe(3),wt("ngIf",i.isLoading)}},dependencies:[xh,Mh,MA,xA,bo,Nh,Sh,Ah,kc,Oc,Pc,qs,Hs,vi,Ns]})}}return t})();var FA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=st({type:t,selectors:[["app-profile-club"]],standalone:!0,features:[ct],decls:2,vars:0,template:function(r,i){r&1&&(U(0,"p"),re(1,"profile-club works!"),L())}})}}return t})();var VA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=st({type:t,selectors:[["app-profile-hiker"]],standalone:!0,features:[ct],decls:2,vars:0,template:function(r,i){r&1&&(U(0,"p"),re(1,"profile-hiker works!"),L())}})}}return t})();var G_=(t,e)=>{let n=x(Zr),r=x(Xe);return n.user$.pipe(bt(1),se(i=>i?!0:(r.navigate(["/login"]),!1)))};var LA=[{path:"",component:aA},{path:"login",component:OA},{path:"register",component:kA},{path:"profile-club",component:FA,canActivate:[G_]},{path:"profile-hiker",component:VA,canActivate:[G_]}];var jA={apiKey:"AIzaSyCu5CPQCRQ7_qsOst9yUHo9_VXxDZ7RQv0",authDomain:"master-b6858.firebaseapp.com",projectId:"master-b6858",storageBucket:"master-b6858.firebasestorage.app",messagingSenderId:"21300314672",appId:"1:21300314672:web:8cd1730aa552dff5f3e3f5"};var UA={providers:[_T(()=>ad(jA)),g0(()=>y0()),rA(()=>sA()),AC({eventCoalescing:!0}),Ub(LA)]};function x$(t,e){if(t&1){let n=Rs();gg(0),U(1,"li")(2,"a",4),Et("click",function(){vt(n);let i=yg();return _t(i.goToProfile())}),re(3,"Profile"),L()(),U(4,"li")(5,"a",5),Et("click",function(){vt(n);let i=yg();return _t(i.logout())}),re(6,"Logout"),L()(),mg()}}function P$(t,e){t&1&&(U(0,"li")(1,"a",6),re(2,"Login"),L()(),U(3,"li")(4,"a",7),re(5,"Register"),L()())}var BA=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.user$=this.authService.user$,this.userType$=this.authService.userType$}ngOnInit(){}logout(){return y(this,null,function*(){yield this.authService.logout(),this.router.navigate(["/"])})}goToProfile(){this.userType$.pipe(bt(1)).subscribe(n=>{n==="hiker"?this.router.navigate(["/profile-hiker"]):n==="hikingClub"&&this.router.navigate(["/profile-club"])})}static{this.\u0275fac=function(r){return new(r||t)(Q(Zr),Q(Xe))}}static{this.\u0275cmp=st({type:t,selectors:[["app-navbar"]],standalone:!0,features:[ct],decls:6,vars:4,consts:[["loggedOut",""],[1,"bg-gray-800","p-4"],[1,"flex","space-x-4"],[4,"ngIf","ngIfElse"],[1,"text-white","hover:text-gray-400",3,"click"],[1,"text-white","hover:text-gray-400","cursor-pointer",3,"click"],["routerLink","/login",1,"text-white","hover:text-gray-400"],["routerLink","/register",1,"text-white","hover:text-gray-400"]],template:function(r,i){if(r&1&&(U(0,"nav",1)(1,"ul",2),It(2,x$,7,0,"ng-container",3),wC(3,"async"),It(4,P$,6,0,"ng-template",null,0,DC),L()()),r&2){let s=St(5);xe(2),wt("ngIf",EC(3,2,i.user$))("ngIfElse",s)}},dependencies:[qs,Hs,vi,Ns,BC]})}}return t})();var $A=(()=>{class t{constructor(){this.title="master"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=st({type:t,selectors:[["app-root"]],standalone:!0,features:[ct],decls:2,vars:0,template:function(r,i){r&1&&In(0,"app-navbar")(1,"router-outlet")},dependencies:[pm,BA]})}}return t})();YC($A,UA).catch(t=>console.error(t));
